var qo=Object.defineProperty;var mn=t=>{throw TypeError(t)};var Zo=(t,e,s)=>e in t?qo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var cs=(t,e,s)=>Zo(t,typeof e!="symbol"?e+"":e,s),na=(t,e,s)=>e.has(t)||mn("Cannot "+s);var x=(t,e,s)=>(na(t,e,"read from private field"),s?s.call(t):e.get(t)),J=(t,e,s)=>e.has(t)?mn("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),V=(t,e,s,a)=>(na(t,e,"write to private field"),a?a.call(t,s):e.set(t,s),s),ne=(t,e,s)=>(na(t,e,"access private method"),s);var wr=(t,e,s,a)=>({set _(n){V(t,e,n,s)},get _(){return x(t,e,a)}});import{r as _,a as Ko,g as Qo,R as Ae,L as ve,u as zt,b as qa,N as Go,c as Jo,d as We,B as Xo}from"./vendor-CDqR2DTq.js";import{i as Za,L as ga}from"./charts-Bn9PLWWT.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();var Ei={exports:{}},Wr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yo=_,el=Symbol.for("react.element"),tl=Symbol.for("react.fragment"),sl=Object.prototype.hasOwnProperty,rl=Yo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,al={key:!0,ref:!0,__self:!0,__source:!0};function Ti(t,e,s){var a,n={},i=null,o=null;s!==void 0&&(i=""+s),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(a in e)sl.call(e,a)&&!al.hasOwnProperty(a)&&(n[a]=e[a]);if(t&&t.defaultProps)for(a in e=t.defaultProps,e)n[a]===void 0&&(n[a]=e[a]);return{$$typeof:el,type:t,key:i,ref:o,props:n,_owner:rl.current}}Wr.Fragment=tl;Wr.jsx=Ti;Wr.jsxs=Ti;Ei.exports=Wr;var r=Ei.exports,pa={},fn=Ko;pa.createRoot=fn.createRoot,pa.hydrateRoot=fn.hydrateRoot;var ir=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},rs=typeof window>"u"||"Deno"in globalThis;function Ie(){}function nl(t,e){return typeof t=="function"?t(e):t}function ya(t){return typeof t=="number"&&t>=0&&t!==1/0}function Ri(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Mt(t,e){return typeof t=="function"?t(e):t}function qe(t,e){return typeof t=="function"?t(e):t}function xn(t,e){const{type:s="all",exact:a,fetchStatus:n,predicate:i,queryKey:o,stale:l}=t;if(o){if(a){if(e.queryHash!==Ka(o,e.options))return!1}else if(!Qs(e.queryKey,o))return!1}if(s!=="all"){const c=e.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||n&&n!==e.state.fetchStatus||i&&!i(e))}function gn(t,e){const{exact:s,status:a,predicate:n,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(s){if(Ks(e.options.mutationKey)!==Ks(i))return!1}else if(!Qs(e.options.mutationKey,i))return!1}return!(a&&e.state.status!==a||n&&!n(e))}function Ka(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ks)(t)}function Ks(t){return JSON.stringify(t,(e,s)=>va(s)?Object.keys(s).sort().reduce((a,n)=>(a[n]=s[n],a),{}):s)}function Qs(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(s=>Qs(t[s],e[s])):!1}function Li(t,e){if(t===e)return t;const s=pn(t)&&pn(e);if(s||va(t)&&va(e)){const a=s?t:Object.keys(t),n=a.length,i=s?e:Object.keys(e),o=i.length,l=s?[]:{},c=new Set(a);let d=0;for(let u=0;u<o;u++){const m=s?u:i[u];(!s&&c.has(m)||s)&&t[m]===void 0&&e[m]===void 0?(l[m]=void 0,d++):(l[m]=Li(t[m],e[m]),l[m]===t[m]&&t[m]!==void 0&&d++)}return n===o&&d===n?t:l}return e}function ba(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function pn(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function va(t){if(!yn(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!yn(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function yn(t){return Object.prototype.toString.call(t)==="[object Object]"}function il(t){return new Promise(e=>{setTimeout(e,t)})}function ja(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?Li(t,e):e}function ol(t,e,s=0){const a=[...t,e];return s&&a.length>s?a.slice(1):a}function ll(t,e,s=0){const a=[e,...t];return s&&a.length>s?a.slice(0,-1):a}var Qa=Symbol();function Oi(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Qa?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function cl(t,e){return typeof t=="function"?t(...e):!!t}var Kt,Et,ms,vi,dl=(vi=class extends ir{constructor(){super();J(this,Kt);J(this,Et);J(this,ms);V(this,ms,e=>{if(!rs&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){x(this,Et)||this.setEventListener(x(this,ms))}onUnsubscribe(){var e;this.hasListeners()||((e=x(this,Et))==null||e.call(this),V(this,Et,void 0))}setEventListener(e){var s;V(this,ms,e),(s=x(this,Et))==null||s.call(this),V(this,Et,e(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(e){x(this,Kt)!==e&&(V(this,Kt,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){var e;return typeof x(this,Kt)=="boolean"?x(this,Kt):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Kt=new WeakMap,Et=new WeakMap,ms=new WeakMap,vi),Ga=new dl,fs,Tt,xs,ji,ul=(ji=class extends ir{constructor(){super();J(this,fs,!0);J(this,Tt);J(this,xs);V(this,xs,e=>{if(!rs&&window.addEventListener){const s=()=>e(!0),a=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",a)}}})}onSubscribe(){x(this,Tt)||this.setEventListener(x(this,xs))}onUnsubscribe(){var e;this.hasListeners()||((e=x(this,Tt))==null||e.call(this),V(this,Tt,void 0))}setEventListener(e){var s;V(this,xs,e),(s=x(this,Tt))==null||s.call(this),V(this,Tt,e(this.setOnline.bind(this)))}setOnline(e){x(this,fs)!==e&&(V(this,fs,e),this.listeners.forEach(a=>{a(e)}))}isOnline(){return x(this,fs)}},fs=new WeakMap,Tt=new WeakMap,xs=new WeakMap,ji),Rr=new ul;function wa(){let t,e;const s=new Promise((n,i)=>{t=n,e=i});s.status="pending",s.catch(()=>{});function a(n){Object.assign(s,n),delete s.resolve,delete s.reject}return s.resolve=n=>{a({status:"fulfilled",value:n}),t(n)},s.reject=n=>{a({status:"rejected",reason:n}),e(n)},s}function hl(t){return Math.min(1e3*2**t,3e4)}function Pi(t){return(t??"online")==="online"?Rr.isOnline():!0}var Fi=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Di(t){let e=!1,s=0,a;const n=wa(),i=()=>n.status!=="pending",o=b=>{var p;i()||(g(new Fi(b)),(p=t.abort)==null||p.call(t))},l=()=>{e=!0},c=()=>{e=!1},d=()=>Ga.isFocused()&&(t.networkMode==="always"||Rr.isOnline())&&t.canRun(),u=()=>Pi(t.networkMode)&&t.canRun(),m=b=>{i()||(a==null||a(),n.resolve(b))},g=b=>{i()||(a==null||a(),n.reject(b))},k=()=>new Promise(b=>{var p;a=E=>{(i()||d())&&b(E)},(p=t.onPause)==null||p.call(t)}).then(()=>{var b;a=void 0,i()||(b=t.onContinue)==null||b.call(t)}),N=()=>{if(i())return;let b;const p=s===0?t.initialPromise:void 0;try{b=p??t.fn()}catch(E){b=Promise.reject(E)}Promise.resolve(b).then(m).catch(E=>{var Z;if(i())return;const f=t.retry??(rs?0:3),j=t.retryDelay??hl,w=typeof j=="function"?j(s,E):j,A=f===!0||typeof f=="number"&&s<f||typeof f=="function"&&f(s,E);if(e||!A){g(E);return}s++,(Z=t.onFail)==null||Z.call(t,s,E),il(w).then(()=>d()?void 0:k()).then(()=>{e?g(E):N()})})};return{promise:n,status:()=>n.status,cancel:o,continue:()=>(a==null||a(),n),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?N():k().then(N),n)}}var ml=t=>setTimeout(t,0);function fl(){let t=[],e=0,s=l=>{l()},a=l=>{l()},n=ml;const i=l=>{e?t.push(l):n(()=>{s(l)})},o=()=>{const l=t;t=[],l.length&&n(()=>{a(()=>{l.forEach(c=>{s(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{s=l},setBatchNotifyFunction:l=>{a=l},setScheduler:l=>{n=l}}}var Ee=fl(),Qt,wi,Mi=(wi=class{constructor(){J(this,Qt)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ya(this.gcTime)&&V(this,Qt,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(rs?1/0:5*60*1e3))}clearGcTimeout(){x(this,Qt)&&(clearTimeout(x(this,Qt)),V(this,Qt,void 0))}},Qt=new WeakMap,wi),gs,ps,He,Gt,Se,sr,Jt,Ke,xt,Ni,xl=(Ni=class extends Mi{constructor(e){super();J(this,Ke);J(this,gs);J(this,ps);J(this,He);J(this,Gt);J(this,Se);J(this,sr);J(this,Jt);V(this,Jt,!1),V(this,sr,e.defaultOptions),this.setOptions(e.options),this.observers=[],V(this,Gt,e.client),V(this,He,x(this,Gt).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,V(this,gs,gl(this.options)),this.state=e.state??x(this,gs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=x(this,Se))==null?void 0:e.promise}setOptions(e){this.options={...x(this,sr),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&x(this,He).remove(this)}setData(e,s){const a=ja(this.state.data,e,this.options);return ne(this,Ke,xt).call(this,{data:a,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),a}setState(e,s){ne(this,Ke,xt).call(this,{type:"setState",state:e,setStateOptions:s})}cancel(e){var a,n;const s=(a=x(this,Se))==null?void 0:a.promise;return(n=x(this,Se))==null||n.cancel(e),s?s.then(Ie).catch(Ie):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(x(this,gs))}isActive(){return this.observers.some(e=>qe(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Qa||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Mt(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Ri(this.state.dataUpdatedAt,e)}onFocus(){var s;const e=this.observers.find(a=>a.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(s=x(this,Se))==null||s.continue()}onOnline(){var s;const e=this.observers.find(a=>a.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(s=x(this,Se))==null||s.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),x(this,He).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(x(this,Se)&&(x(this,Jt)?x(this,Se).cancel({revert:!0}):x(this,Se).cancelRetry()),this.scheduleGc()),x(this,He).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ne(this,Ke,xt).call(this,{type:"invalidate"})}async fetch(e,s){var c,d,u,m,g,k,N,b,p,E,f,j;if(this.state.fetchStatus!=="idle"&&((c=x(this,Se))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(x(this,Se))return x(this,Se).continueRetry(),x(this,Se).promise}if(e&&this.setOptions(e),!this.options.queryFn){const w=this.observers.find(A=>A.options.queryFn);w&&this.setOptions(w.options)}const a=new AbortController,n=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(V(this,Jt,!0),a.signal)})},i=()=>{const w=Oi(this.options,s),Z=(()=>{const B={client:x(this,Gt),queryKey:this.queryKey,meta:this.meta};return n(B),B})();return V(this,Jt,!1),this.options.persister?this.options.persister(w,Z,this):w(Z)},l=(()=>{const w={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:x(this,Gt),state:this.state,fetchFn:i};return n(w),w})();(d=this.options.behavior)==null||d.onFetch(l,this),V(this,ps,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&ne(this,Ke,xt).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta}),V(this,Se,Di({initialPromise:s==null?void 0:s.initialPromise,fn:l.fetchFn,abort:a.abort.bind(a),onFail:(w,A)=>{ne(this,Ke,xt).call(this,{type:"failed",failureCount:w,error:A})},onPause:()=>{ne(this,Ke,xt).call(this,{type:"pause"})},onContinue:()=>{ne(this,Ke,xt).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const w=await x(this,Se).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(k=(g=x(this,He).config).onSuccess)==null||k.call(g,w,this),(b=(N=x(this,He).config).onSettled)==null||b.call(N,w,this.state.error,this),w}catch(w){if(w instanceof Fi){if(w.silent)return x(this,Se).promise;if(w.revert){if(this.setState({...x(this,ps),fetchStatus:"idle"}),this.state.data===void 0)throw w;return this.state.data}}throw ne(this,Ke,xt).call(this,{type:"error",error:w}),(E=(p=x(this,He).config).onError)==null||E.call(p,w,this),(j=(f=x(this,He).config).onSettled)==null||j.call(f,this.state.data,w,this),w}finally{this.scheduleGc()}}},gs=new WeakMap,ps=new WeakMap,He=new WeakMap,Gt=new WeakMap,Se=new WeakMap,sr=new WeakMap,Jt=new WeakMap,Ke=new WeakSet,xt=function(e){const s=a=>{switch(e.type){case"failed":return{...a,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...Ii(a.data,this.options),fetchMeta:e.meta??null};case"success":const n={...a,data:e.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return V(this,ps,e.manual?n:void 0),n;case"error":const i=e.error;return{...a,error:i,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...e.state}}};this.state=s(this.state),Ee.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),x(this,He).notify({query:this,type:"updated",action:e})})},Ni);function Ii(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Pi(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function gl(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,a=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var at,ki,pl=(ki=class extends ir{constructor(e={}){super();J(this,at);this.config=e,V(this,at,new Map)}build(e,s,a){const n=s.queryKey,i=s.queryHash??Ka(n,s);let o=this.get(i);return o||(o=new xl({client:e,queryKey:n,queryHash:i,options:e.defaultQueryOptions(s),state:a,defaultOptions:e.getQueryDefaults(n)}),this.add(o)),o}add(e){x(this,at).has(e.queryHash)||(x(this,at).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=x(this,at).get(e.queryHash);s&&(e.destroy(),s===e&&x(this,at).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ee.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return x(this,at).get(e)}getAll(){return[...x(this,at).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(a=>xn(s,a))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(a=>xn(e,a)):s}notify(e){Ee.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){Ee.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ee.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},at=new WeakMap,ki),nt,Le,Xt,it,St,Si,yl=(Si=class extends Mi{constructor(e){super();J(this,it);J(this,nt);J(this,Le);J(this,Xt);this.mutationId=e.mutationId,V(this,Le,e.mutationCache),V(this,nt,[]),this.state=e.state||bl(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){x(this,nt).includes(e)||(x(this,nt).push(e),this.clearGcTimeout(),x(this,Le).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){V(this,nt,x(this,nt).filter(s=>s!==e)),this.scheduleGc(),x(this,Le).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){x(this,nt).length||(this.state.status==="pending"?this.scheduleGc():x(this,Le).remove(this))}continue(){var e;return((e=x(this,Xt))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,l,c,d,u,m,g,k,N,b,p,E,f,j,w,A,Z,B,Q;const s=()=>{ne(this,it,St).call(this,{type:"continue"})};V(this,Xt,Di({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(G,te)=>{ne(this,it,St).call(this,{type:"failed",failureCount:G,error:te})},onPause:()=>{ne(this,it,St).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>x(this,Le).canRun(this)}));const a=this.state.status==="pending",n=!x(this,Xt).canStart();try{if(a)s();else{ne(this,it,St).call(this,{type:"pending",variables:e,isPaused:n}),await((o=(i=x(this,Le).config).onMutate)==null?void 0:o.call(i,e,this));const te=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e));te!==this.state.context&&ne(this,it,St).call(this,{type:"pending",context:te,variables:e,isPaused:n})}const G=await x(this,Xt).start();return await((u=(d=x(this,Le).config).onSuccess)==null?void 0:u.call(d,G,e,this.state.context,this)),await((g=(m=this.options).onSuccess)==null?void 0:g.call(m,G,e,this.state.context)),await((N=(k=x(this,Le).config).onSettled)==null?void 0:N.call(k,G,null,this.state.variables,this.state.context,this)),await((p=(b=this.options).onSettled)==null?void 0:p.call(b,G,null,e,this.state.context)),ne(this,it,St).call(this,{type:"success",data:G}),G}catch(G){try{throw await((f=(E=x(this,Le).config).onError)==null?void 0:f.call(E,G,e,this.state.context,this)),await((w=(j=this.options).onError)==null?void 0:w.call(j,G,e,this.state.context)),await((Z=(A=x(this,Le).config).onSettled)==null?void 0:Z.call(A,void 0,G,this.state.variables,this.state.context,this)),await((Q=(B=this.options).onSettled)==null?void 0:Q.call(B,void 0,G,e,this.state.context)),G}finally{ne(this,it,St).call(this,{type:"error",error:G})}}finally{x(this,Le).runNext(this)}}},nt=new WeakMap,Le=new WeakMap,Xt=new WeakMap,it=new WeakSet,St=function(e){const s=a=>{switch(e.type){case"failed":return{...a,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...a,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:e.error,failureCount:a.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Ee.batch(()=>{x(this,nt).forEach(a=>{a.onMutationUpdate(e)}),x(this,Le).notify({mutation:this,type:"updated",action:e})})},Si);function bl(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gt,Qe,rr,_i,vl=(_i=class extends ir{constructor(e={}){super();J(this,gt);J(this,Qe);J(this,rr);this.config=e,V(this,gt,new Set),V(this,Qe,new Map),V(this,rr,0)}build(e,s,a){const n=new yl({mutationCache:this,mutationId:++wr(this,rr)._,options:e.defaultMutationOptions(s),state:a});return this.add(n),n}add(e){x(this,gt).add(e);const s=Nr(e);if(typeof s=="string"){const a=x(this,Qe).get(s);a?a.push(e):x(this,Qe).set(s,[e])}this.notify({type:"added",mutation:e})}remove(e){if(x(this,gt).delete(e)){const s=Nr(e);if(typeof s=="string"){const a=x(this,Qe).get(s);if(a)if(a.length>1){const n=a.indexOf(e);n!==-1&&a.splice(n,1)}else a[0]===e&&x(this,Qe).delete(s)}}this.notify({type:"removed",mutation:e})}canRun(e){const s=Nr(e);if(typeof s=="string"){const a=x(this,Qe).get(s),n=a==null?void 0:a.find(i=>i.state.status==="pending");return!n||n===e}else return!0}runNext(e){var a;const s=Nr(e);if(typeof s=="string"){const n=(a=x(this,Qe).get(s))==null?void 0:a.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ee.batch(()=>{x(this,gt).forEach(e=>{this.notify({type:"removed",mutation:e})}),x(this,gt).clear(),x(this,Qe).clear()})}getAll(){return Array.from(x(this,gt))}find(e){const s={exact:!0,...e};return this.getAll().find(a=>gn(s,a))}findAll(e={}){return this.getAll().filter(s=>gn(e,s))}notify(e){Ee.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return Ee.batch(()=>Promise.all(e.map(s=>s.continue().catch(Ie))))}},gt=new WeakMap,Qe=new WeakMap,rr=new WeakMap,_i);function Nr(t){var e;return(e=t.options.scope)==null?void 0:e.id}function bn(t){return{onFetch:(e,s)=>{var u,m,g,k,N;const a=e.options,n=(g=(m=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:m.fetchMore)==null?void 0:g.direction,i=((k=e.state.data)==null?void 0:k.pages)||[],o=((N=e.state.data)==null?void 0:N.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let b=!1;const p=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},E=Oi(e.options,e.fetchOptions),f=async(j,w,A)=>{if(b)return Promise.reject();if(w==null&&j.pages.length)return Promise.resolve(j);const B=(()=>{const oe={client:e.client,queryKey:e.queryKey,pageParam:w,direction:A?"backward":"forward",meta:e.options.meta};return p(oe),oe})(),Q=await E(B),{maxPages:G}=e.options,te=A?ll:ol;return{pages:te(j.pages,Q,G),pageParams:te(j.pageParams,w,G)}};if(n&&i.length){const j=n==="backward",w=j?jl:vn,A={pages:i,pageParams:o},Z=w(a,A);l=await f(A,Z,j)}else{const j=t??i.length;do{const w=c===0?o[0]??a.initialPageParam:vn(a,l);if(c>0&&w==null)break;l=await f(l,w),c++}while(c<j)}return l};e.options.persister?e.fetchFn=()=>{var b,p;return(p=(b=e.options).persister)==null?void 0:p.call(b,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=d}}}function vn(t,{pages:e,pageParams:s}){const a=e.length-1;return e.length>0?t.getNextPageParam(e[a],e,s[a],s):void 0}function jl(t,{pages:e,pageParams:s}){var a;return e.length>0?(a=t.getPreviousPageParam)==null?void 0:a.call(t,e[0],e,s[0],s):void 0}var xe,Rt,Lt,ys,bs,Ot,vs,js,Ci,wl=(Ci=class{constructor(t={}){J(this,xe);J(this,Rt);J(this,Lt);J(this,ys);J(this,bs);J(this,Ot);J(this,vs);J(this,js);V(this,xe,t.queryCache||new pl),V(this,Rt,t.mutationCache||new vl),V(this,Lt,t.defaultOptions||{}),V(this,ys,new Map),V(this,bs,new Map),V(this,Ot,0)}mount(){wr(this,Ot)._++,x(this,Ot)===1&&(V(this,vs,Ga.subscribe(async t=>{t&&(await this.resumePausedMutations(),x(this,xe).onFocus())})),V(this,js,Rr.subscribe(async t=>{t&&(await this.resumePausedMutations(),x(this,xe).onOnline())})))}unmount(){var t,e;wr(this,Ot)._--,x(this,Ot)===0&&((t=x(this,vs))==null||t.call(this),V(this,vs,void 0),(e=x(this,js))==null||e.call(this),V(this,js,void 0))}isFetching(t){return x(this,xe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return x(this,Rt).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=x(this,xe).get(e.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),s=x(this,xe).build(this,e),a=s.state.data;return a===void 0?this.fetchQuery(t):(t.revalidateIfStale&&s.isStaleByTime(Mt(e.staleTime,s))&&this.prefetchQuery(e),Promise.resolve(a))}getQueriesData(t){return x(this,xe).findAll(t).map(({queryKey:e,state:s})=>{const a=s.data;return[e,a]})}setQueryData(t,e,s){const a=this.defaultQueryOptions({queryKey:t}),n=x(this,xe).get(a.queryHash),i=n==null?void 0:n.state.data,o=nl(e,i);if(o!==void 0)return x(this,xe).build(this,a).setData(o,{...s,manual:!0})}setQueriesData(t,e,s){return Ee.batch(()=>x(this,xe).findAll(t).map(({queryKey:a})=>[a,this.setQueryData(a,e,s)]))}getQueryState(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=x(this,xe).get(e.queryHash))==null?void 0:s.state}removeQueries(t){const e=x(this,xe);Ee.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=x(this,xe);return Ee.batch(()=>(s.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const s={revert:!0,...e},a=Ee.batch(()=>x(this,xe).findAll(t).map(n=>n.cancel(s)));return Promise.all(a).then(Ie).catch(Ie)}invalidateQueries(t,e={}){return Ee.batch(()=>(x(this,xe).findAll(t).forEach(s=>{s.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const s={...e,cancelRefetch:e.cancelRefetch??!0},a=Ee.batch(()=>x(this,xe).findAll(t).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let i=n.fetch(void 0,s);return s.throwOnError||(i=i.catch(Ie)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(a).then(Ie)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=x(this,xe).build(this,e);return s.isStaleByTime(Mt(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ie).catch(Ie)}fetchInfiniteQuery(t){return t.behavior=bn(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ie).catch(Ie)}ensureInfiniteQueryData(t){return t.behavior=bn(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Rr.isOnline()?x(this,Rt).resumePausedMutations():Promise.resolve()}getQueryCache(){return x(this,xe)}getMutationCache(){return x(this,Rt)}getDefaultOptions(){return x(this,Lt)}setDefaultOptions(t){V(this,Lt,t)}setQueryDefaults(t,e){x(this,ys).set(Ks(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...x(this,ys).values()],s={};return e.forEach(a=>{Qs(t,a.queryKey)&&Object.assign(s,a.defaultOptions)}),s}setMutationDefaults(t,e){x(this,bs).set(Ks(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...x(this,bs).values()],s={};return e.forEach(a=>{Qs(t,a.mutationKey)&&Object.assign(s,a.defaultOptions)}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...x(this,Lt).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ka(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Qa&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...x(this,Lt).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){x(this,xe).clear(),x(this,Rt).clear()}},xe=new WeakMap,Rt=new WeakMap,Lt=new WeakMap,ys=new WeakMap,bs=new WeakMap,Ot=new WeakMap,vs=new WeakMap,js=new WeakMap,Ci),De,ie,ar,Oe,Yt,ws,pt,Pt,nr,Ns,ks,es,ts,Ft,Ss,ue,Ws,Na,ka,Sa,_a,Ca,Aa,Ea,Bi,Ai,Nl=(Ai=class extends ir{constructor(e,s){super();J(this,ue);J(this,De);J(this,ie);J(this,ar);J(this,Oe);J(this,Yt);J(this,ws);J(this,pt);J(this,Pt);J(this,nr);J(this,Ns);J(this,ks);J(this,es);J(this,ts);J(this,Ft);J(this,Ss,new Set);this.options=s,V(this,De,e),V(this,Pt,null),V(this,pt,wa()),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(x(this,ie).addObserver(this),jn(x(this,ie),this.options)?ne(this,ue,Ws).call(this):this.updateResult(),ne(this,ue,_a).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ta(x(this,ie),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ta(x(this,ie),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ne(this,ue,Ca).call(this),ne(this,ue,Aa).call(this),x(this,ie).removeObserver(this)}setOptions(e){const s=this.options,a=x(this,ie);if(this.options=x(this,De).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof qe(this.options.enabled,x(this,ie))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ne(this,ue,Ea).call(this),x(this,ie).setOptions(this.options),s._defaulted&&!ba(this.options,s)&&x(this,De).getQueryCache().notify({type:"observerOptionsUpdated",query:x(this,ie),observer:this});const n=this.hasListeners();n&&wn(x(this,ie),a,this.options,s)&&ne(this,ue,Ws).call(this),this.updateResult(),n&&(x(this,ie)!==a||qe(this.options.enabled,x(this,ie))!==qe(s.enabled,x(this,ie))||Mt(this.options.staleTime,x(this,ie))!==Mt(s.staleTime,x(this,ie)))&&ne(this,ue,Na).call(this);const i=ne(this,ue,ka).call(this);n&&(x(this,ie)!==a||qe(this.options.enabled,x(this,ie))!==qe(s.enabled,x(this,ie))||i!==x(this,Ft))&&ne(this,ue,Sa).call(this,i)}getOptimisticResult(e){const s=x(this,De).getQueryCache().build(x(this,De),e),a=this.createResult(s,e);return Sl(this,a)&&(V(this,Oe,a),V(this,ws,this.options),V(this,Yt,x(this,ie).state)),a}getCurrentResult(){return x(this,Oe)}trackResult(e,s){return new Proxy(e,{get:(a,n)=>(this.trackProp(n),s==null||s(n),n==="promise"&&!this.options.experimental_prefetchInRender&&x(this,pt).status==="pending"&&x(this,pt).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(a,n))})}trackProp(e){x(this,Ss).add(e)}getCurrentQuery(){return x(this,ie)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=x(this,De).defaultQueryOptions(e),a=x(this,De).getQueryCache().build(x(this,De),s);return a.fetch().then(()=>this.createResult(a,s))}fetch(e){return ne(this,ue,Ws).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),x(this,Oe)))}createResult(e,s){var G;const a=x(this,ie),n=this.options,i=x(this,Oe),o=x(this,Yt),l=x(this,ws),d=e!==a?e.state:x(this,ar),{state:u}=e;let m={...u},g=!1,k;if(s._optimisticResults){const te=this.hasListeners(),oe=!te&&jn(e,s),y=te&&wn(e,a,s,n);(oe||y)&&(m={...m,...Ii(u.data,e.options)}),s._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:N,errorUpdatedAt:b,status:p}=m;k=m.data;let E=!1;if(s.placeholderData!==void 0&&k===void 0&&p==="pending"){let te;i!=null&&i.isPlaceholderData&&s.placeholderData===(l==null?void 0:l.placeholderData)?(te=i.data,E=!0):te=typeof s.placeholderData=="function"?s.placeholderData((G=x(this,ks))==null?void 0:G.state.data,x(this,ks)):s.placeholderData,te!==void 0&&(p="success",k=ja(i==null?void 0:i.data,te,s),g=!0)}if(s.select&&k!==void 0&&!E)if(i&&k===(o==null?void 0:o.data)&&s.select===x(this,nr))k=x(this,Ns);else try{V(this,nr,s.select),k=s.select(k),k=ja(i==null?void 0:i.data,k,s),V(this,Ns,k),V(this,Pt,null)}catch(te){V(this,Pt,te)}x(this,Pt)&&(N=x(this,Pt),k=x(this,Ns),b=Date.now(),p="error");const f=m.fetchStatus==="fetching",j=p==="pending",w=p==="error",A=j&&f,Z=k!==void 0,Q={status:p,fetchStatus:m.fetchStatus,isPending:j,isSuccess:p==="success",isError:w,isInitialLoading:A,isLoading:A,data:k,dataUpdatedAt:m.dataUpdatedAt,error:N,errorUpdatedAt:b,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:f,isRefetching:f&&!j,isLoadingError:w&&!Z,isPaused:m.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:w&&Z,isStale:Ja(e,s),refetch:this.refetch,promise:x(this,pt),isEnabled:qe(s.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const te=T=>{Q.status==="error"?T.reject(Q.error):Q.data!==void 0&&T.resolve(Q.data)},oe=()=>{const T=V(this,pt,Q.promise=wa());te(T)},y=x(this,pt);switch(y.status){case"pending":e.queryHash===a.queryHash&&te(y);break;case"fulfilled":(Q.status==="error"||Q.data!==y.value)&&oe();break;case"rejected":(Q.status!=="error"||Q.error!==y.reason)&&oe();break}}return Q}updateResult(){const e=x(this,Oe),s=this.createResult(x(this,ie),this.options);if(V(this,Yt,x(this,ie).state),V(this,ws,this.options),x(this,Yt).data!==void 0&&V(this,ks,x(this,ie)),ba(s,e))return;V(this,Oe,s);const a=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!x(this,Ss).size)return!0;const o=new Set(i??x(this,Ss));return this.options.throwOnError&&o.add("error"),Object.keys(x(this,Oe)).some(l=>{const c=l;return x(this,Oe)[c]!==e[c]&&o.has(c)})};ne(this,ue,Bi).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ne(this,ue,_a).call(this)}},De=new WeakMap,ie=new WeakMap,ar=new WeakMap,Oe=new WeakMap,Yt=new WeakMap,ws=new WeakMap,pt=new WeakMap,Pt=new WeakMap,nr=new WeakMap,Ns=new WeakMap,ks=new WeakMap,es=new WeakMap,ts=new WeakMap,Ft=new WeakMap,Ss=new WeakMap,ue=new WeakSet,Ws=function(e){ne(this,ue,Ea).call(this);let s=x(this,ie).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(Ie)),s},Na=function(){ne(this,ue,Ca).call(this);const e=Mt(this.options.staleTime,x(this,ie));if(rs||x(this,Oe).isStale||!ya(e))return;const a=Ri(x(this,Oe).dataUpdatedAt,e)+1;V(this,es,setTimeout(()=>{x(this,Oe).isStale||this.updateResult()},a))},ka=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(x(this,ie)):this.options.refetchInterval)??!1},Sa=function(e){ne(this,ue,Aa).call(this),V(this,Ft,e),!(rs||qe(this.options.enabled,x(this,ie))===!1||!ya(x(this,Ft))||x(this,Ft)===0)&&V(this,ts,setInterval(()=>{(this.options.refetchIntervalInBackground||Ga.isFocused())&&ne(this,ue,Ws).call(this)},x(this,Ft)))},_a=function(){ne(this,ue,Na).call(this),ne(this,ue,Sa).call(this,ne(this,ue,ka).call(this))},Ca=function(){x(this,es)&&(clearTimeout(x(this,es)),V(this,es,void 0))},Aa=function(){x(this,ts)&&(clearInterval(x(this,ts)),V(this,ts,void 0))},Ea=function(){const e=x(this,De).getQueryCache().build(x(this,De),this.options);if(e===x(this,ie))return;const s=x(this,ie);V(this,ie,e),V(this,ar,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},Bi=function(e){Ee.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(x(this,Oe))}),x(this,De).getQueryCache().notify({query:x(this,ie),type:"observerResultsUpdated"})})},Ai);function kl(t,e){return qe(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function jn(t,e){return kl(t,e)||t.state.data!==void 0&&Ta(t,e,e.refetchOnMount)}function Ta(t,e,s){if(qe(e.enabled,t)!==!1&&Mt(e.staleTime,t)!=="static"){const a=typeof s=="function"?s(t):s;return a==="always"||a!==!1&&Ja(t,e)}return!1}function wn(t,e,s,a){return(t!==e||qe(a.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&Ja(t,s)}function Ja(t,e){return qe(e.enabled,t)!==!1&&t.isStaleByTime(Mt(e.staleTime,t))}function Sl(t,e){return!ba(t.getCurrentResult(),e)}var $i=_.createContext(void 0),_l=t=>{const e=_.useContext($i);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Cl=({client:t,children:e})=>(_.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),r.jsx($i.Provider,{value:t,children:e})),Ui=_.createContext(!1),Al=()=>_.useContext(Ui);Ui.Provider;function El(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Tl=_.createContext(El()),Rl=()=>_.useContext(Tl),Ll=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Ol=t=>{_.useEffect(()=>{t.clearReset()},[t])},Pl=({result:t,errorResetBoundary:e,throwOnError:s,query:a,suspense:n})=>t.isError&&!e.isReset()&&!t.isFetching&&a&&(n&&t.data===void 0||cl(s,[t.error,a])),Fl=t=>{if(t.suspense){const e=a=>a==="static"?a:Math.max(a??1e3,1e3),s=t.staleTime;t.staleTime=typeof s=="function"?(...a)=>e(s(...a)):e(s),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Dl=(t,e)=>t.isLoading&&t.isFetching&&!e,Ml=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Nn=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function Il(t,e,s){var m,g,k,N,b;const a=Al(),n=Rl(),i=_l(),o=i.defaultQueryOptions(t);(g=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||g.call(m,o),o._optimisticResults=a?"isRestoring":"optimistic",Fl(o),Ll(o,n),Ol(n);const l=!i.getQueryCache().get(o.queryHash),[c]=_.useState(()=>new e(i,o)),d=c.getOptimisticResult(o),u=!a&&t.subscribed!==!1;if(_.useSyncExternalStore(_.useCallback(p=>{const E=u?c.subscribe(Ee.batchCalls(p)):Ie;return c.updateResult(),E},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),_.useEffect(()=>{c.setOptions(o)},[o,c]),Ml(o,d))throw Nn(o,c,n);if(Pl({result:d,errorResetBoundary:n,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((N=(k=i.getDefaultOptions().queries)==null?void 0:k._experimental_afterQuery)==null||N.call(k,o,d),o.experimental_prefetchInRender&&!rs&&Dl(d,a)){const p=l?Nn(o,c,n):(b=i.getQueryCache().get(o.queryHash))==null?void 0:b.promise;p==null||p.catch(Ie).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function kn(t,e){return Il(t,Nl)}let Bl={data:""},$l=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Bl,Ul=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,zl=/\/\*[^]*?\*\/|  +/g,Sn=/\n+/g,Ct=(t,e)=>{let s="",a="",n="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?s=i+" "+o+";":a+=i[1]=="f"?Ct(o,i):i+"{"+Ct(o,i[1]=="k"?"":e)+"}":typeof o=="object"?a+=Ct(o,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=Ct.p?Ct.p(i,o):i+":"+o+";")}return s+(e&&n?e+"{"+n+"}":n)+a},ht={},zi=t=>{if(typeof t=="object"){let e="";for(let s in t)e+=s+zi(t[s]);return e}return t},Vl=(t,e,s,a,n)=>{let i=zi(t),o=ht[i]||(ht[i]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(i));if(!ht[o]){let c=i!==t?t:(d=>{let u,m,g=[{}];for(;u=Ul.exec(d.replace(zl,""));)u[4]?g.shift():u[3]?(m=u[3].replace(Sn," ").trim(),g.unshift(g[0][m]=g[0][m]||{})):g[0][u[1]]=u[2].replace(Sn," ").trim();return g[0]})(t);ht[o]=Ct(n?{["@keyframes "+o]:c}:c,s?"":"."+o)}let l=s&&ht.g?ht.g:null;return s&&(ht.g=ht[o]),((c,d,u,m)=>{m?d.data=d.data.replace(m,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(ht[o],e,a,l),o},Wl=(t,e,s)=>t.reduce((a,n,i)=>{let o=e[i];if(o&&o.call){let l=o(s),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":Ct(l,""):l===!1?"":l}return a+n+(o??"")},"");function Hr(t){let e=this||{},s=t.call?t(e.p):t;return Vl(s.unshift?s.raw?Wl(s,[].slice.call(arguments,1),e.p):s.reduce((a,n)=>Object.assign(a,n&&n.call?n(e.p):n),{}):s,$l(e.target),e.g,e.o,e.k)}let Vi,Ra,La;Hr.bind({g:1});let yt=Hr.bind({k:1});function Hl(t,e,s,a){Ct.p=e,Vi=t,Ra=s,La=a}function Vt(t,e){let s=this||{};return function(){let a=arguments;function n(i,o){let l=Object.assign({},i),c=l.className||n.className;s.p=Object.assign({theme:Ra&&Ra()},l),s.o=/ *go\d+/.test(c),l.className=Hr.apply(s,a)+(c?" "+c:"");let d=t;return t[0]&&(d=l.as||t,delete l.as),La&&d[0]&&La(l),Vi(d,l)}return n}}var ql=t=>typeof t=="function",Lr=(t,e)=>ql(t)?t(e):t,Zl=(()=>{let t=0;return()=>(++t).toString()})(),Wi=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Kl=20,Xa="default",Hi=(t,e)=>{let{toastLimit:s}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,s)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:a}=e;return Hi(t,{type:t.toasts.find(o=>o.id===a.id)?1:0,toast:a});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(o=>o.id===n||n===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},_r=[],qi={toasts:[],pausedAt:void 0,settings:{toastLimit:Kl}},lt={},Zi=(t,e=Xa)=>{lt[e]=Hi(lt[e]||qi,t),_r.forEach(([s,a])=>{s===e&&a(lt[e])})},Ki=t=>Object.keys(lt).forEach(e=>Zi(t,e)),Ql=t=>Object.keys(lt).find(e=>lt[e].toasts.some(s=>s.id===t)),qr=(t=Xa)=>e=>{Zi(e,t)},Gl={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Jl=(t={},e=Xa)=>{let[s,a]=_.useState(lt[e]||qi),n=_.useRef(lt[e]);_.useEffect(()=>(n.current!==lt[e]&&a(lt[e]),_r.push([e,a]),()=>{let o=_r.findIndex(([l])=>l===e);o>-1&&_r.splice(o,1)}),[e]);let i=s.toasts.map(o=>{var l,c,d;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((l=t[o.type])==null?void 0:l.removeDelay)||(t==null?void 0:t.removeDelay),duration:o.duration||((c=t[o.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||Gl[o.type],style:{...t.style,...(d=t[o.type])==null?void 0:d.style,...o.style}}});return{...s,toasts:i}},Xl=(t,e="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...s,id:(s==null?void 0:s.id)||Zl()}),or=t=>(e,s)=>{let a=Xl(e,t,s);return qr(a.toasterId||Ql(a.id))({type:2,toast:a}),a.id},we=(t,e)=>or("blank")(t,e);we.error=or("error");we.success=or("success");we.loading=or("loading");we.custom=or("custom");we.dismiss=(t,e)=>{let s={type:3,toastId:t};e?qr(e)(s):Ki(s)};we.dismissAll=t=>we.dismiss(void 0,t);we.remove=(t,e)=>{let s={type:4,toastId:t};e?qr(e)(s):Ki(s)};we.removeAll=t=>we.remove(void 0,t);we.promise=(t,e,s)=>{let a=we.loading(e.loading,{...s,...s==null?void 0:s.loading});return typeof t=="function"&&(t=t()),t.then(n=>{let i=e.success?Lr(e.success,n):void 0;return i?we.success(i,{id:a,...s,...s==null?void 0:s.success}):we.dismiss(a),n}).catch(n=>{let i=e.error?Lr(e.error,n):void 0;i?we.error(i,{id:a,...s,...s==null?void 0:s.error}):we.dismiss(a)}),t};var Yl=1e3,ec=(t,e="default")=>{let{toasts:s,pausedAt:a}=Jl(t,e),n=_.useRef(new Map).current,i=_.useCallback((m,g=Yl)=>{if(n.has(m))return;let k=setTimeout(()=>{n.delete(m),o({type:4,toastId:m})},g);n.set(m,k)},[]);_.useEffect(()=>{if(a)return;let m=Date.now(),g=s.map(k=>{if(k.duration===1/0)return;let N=(k.duration||0)+k.pauseDuration-(m-k.createdAt);if(N<0){k.visible&&we.dismiss(k.id);return}return setTimeout(()=>we.dismiss(k.id,e),N)});return()=>{g.forEach(k=>k&&clearTimeout(k))}},[s,a,e]);let o=_.useCallback(qr(e),[e]),l=_.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=_.useCallback((m,g)=>{o({type:1,toast:{id:m,height:g}})},[o]),d=_.useCallback(()=>{a&&o({type:6,time:Date.now()})},[a,o]),u=_.useCallback((m,g)=>{let{reverseOrder:k=!1,gutter:N=8,defaultPosition:b}=g||{},p=s.filter(j=>(j.position||b)===(m.position||b)&&j.height),E=p.findIndex(j=>j.id===m.id),f=p.filter((j,w)=>w<E&&j.visible).length;return p.filter(j=>j.visible).slice(...k?[f+1]:[0,f]).reduce((j,w)=>j+(w.height||0)+N,0)},[s]);return _.useEffect(()=>{s.forEach(m=>{if(m.dismissed)i(m.id,m.removeDelay);else{let g=n.get(m.id);g&&(clearTimeout(g),n.delete(m.id))}})},[s,i]),{toasts:s,handlers:{updateHeight:c,startPause:l,endPause:d,calculateOffset:u}}},tc=yt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,sc=yt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,rc=yt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ac=Vt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tc} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${sc} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${rc} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,nc=yt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ic=Vt("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${nc} 1s linear infinite;
`,oc=yt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,lc=yt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,cc=Vt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oc} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${lc} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,dc=Vt("div")`
  position: absolute;
`,uc=Vt("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,hc=yt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,mc=Vt("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${hc} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,fc=({toast:t})=>{let{icon:e,type:s,iconTheme:a}=t;return e!==void 0?typeof e=="string"?_.createElement(mc,null,e):e:s==="blank"?null:_.createElement(uc,null,_.createElement(ic,{...a}),s!=="loading"&&_.createElement(dc,null,s==="error"?_.createElement(ac,{...a}):_.createElement(cc,{...a})))},xc=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,gc=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,pc="0%{opacity:0;} 100%{opacity:1;}",yc="0%{opacity:1;} 100%{opacity:0;}",bc=Vt("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,vc=Vt("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,jc=(t,e)=>{let s=t.includes("top")?1:-1,[a,n]=Wi()?[pc,yc]:[xc(s),gc(s)];return{animation:e?`${yt(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${yt(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},wc=_.memo(({toast:t,position:e,style:s,children:a})=>{let n=t.height?jc(t.position||e||"top-center",t.visible):{opacity:0},i=_.createElement(fc,{toast:t}),o=_.createElement(vc,{...t.ariaProps},Lr(t.message,t));return _.createElement(bc,{className:t.className,style:{...n,...s,...t.style}},typeof a=="function"?a({icon:i,message:o}):_.createElement(_.Fragment,null,i,o))});Hl(_.createElement);var Nc=({id:t,className:e,style:s,onHeightUpdate:a,children:n})=>{let i=_.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;a(t,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return _.createElement("div",{ref:i,className:e,style:s},n)},kc=(t,e)=>{let s=t.includes("top"),a=s?{top:0}:{bottom:0},n=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Wi()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(s?1:-1)}px)`,...a,...n}},Sc=Hr`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,kr=16,_c=({reverseOrder:t,position:e="top-center",toastOptions:s,gutter:a,children:n,toasterId:i,containerStyle:o,containerClassName:l})=>{let{toasts:c,handlers:d}=ec(s,i);return _.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:kr,left:kr,right:kr,bottom:kr,pointerEvents:"none",...o},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(u=>{let m=u.position||e,g=d.calculateOffset(u,{reverseOrder:t,gutter:a,defaultPosition:e}),k=kc(m,g);return _.createElement(Nc,{id:u.id,key:u.id,onHeightUpdate:d.updateHeight,className:u.visible?Sc:"",style:k},u.type==="custom"?Lr(u.message,u):n?n(u):_.createElement(wc,{toast:u,position:m}))}))},I=we;const Cc={},_n=t=>{let e;const s=new Set,a=(u,m)=>{const g=typeof u=="function"?u(e):u;if(!Object.is(g,e)){const k=e;e=m??(typeof g!="object"||g===null)?g:Object.assign({},e,g),s.forEach(N=>N(e,k))}},n=()=>e,c={setState:a,getState:n,getInitialState:()=>d,subscribe:u=>(s.add(u),()=>s.delete(u)),destroy:()=>{(Cc?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},d=e=t(a,n,c);return c},Ac=t=>t?_n(t):_n;var Qi={exports:{}},Gi={},Ji={exports:{}},Xi={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _s=_;function Ec(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tc=typeof Object.is=="function"?Object.is:Ec,Rc=_s.useState,Lc=_s.useEffect,Oc=_s.useLayoutEffect,Pc=_s.useDebugValue;function Fc(t,e){var s=e(),a=Rc({inst:{value:s,getSnapshot:e}}),n=a[0].inst,i=a[1];return Oc(function(){n.value=s,n.getSnapshot=e,ia(n)&&i({inst:n})},[t,s,e]),Lc(function(){return ia(n)&&i({inst:n}),t(function(){ia(n)&&i({inst:n})})},[t]),Pc(s),s}function ia(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!Tc(t,s)}catch{return!0}}function Dc(t,e){return e()}var Mc=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Dc:Fc;Xi.useSyncExternalStore=_s.useSyncExternalStore!==void 0?_s.useSyncExternalStore:Mc;Ji.exports=Xi;var Ic=Ji.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zr=_,Bc=Ic;function $c(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Uc=typeof Object.is=="function"?Object.is:$c,zc=Bc.useSyncExternalStore,Vc=Zr.useRef,Wc=Zr.useEffect,Hc=Zr.useMemo,qc=Zr.useDebugValue;Gi.useSyncExternalStoreWithSelector=function(t,e,s,a,n){var i=Vc(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Hc(function(){function c(k){if(!d){if(d=!0,u=k,k=a(k),n!==void 0&&o.hasValue){var N=o.value;if(n(N,k))return m=N}return m=k}if(N=m,Uc(u,k))return N;var b=a(k);return n!==void 0&&n(N,b)?(u=k,N):(u=k,m=b)}var d=!1,u,m,g=s===void 0?null:s;return[function(){return c(e())},g===null?void 0:function(){return c(g())}]},[e,s,a,n]);var l=zc(t,i[0],i[1]);return Wc(function(){o.hasValue=!0,o.value=l},[l]),qc(l),l};Qi.exports=Gi;var Zc=Qi.exports;const Kc=Qo(Zc),Yi={},{useDebugValue:Qc}=Ae,{useSyncExternalStoreWithSelector:Gc}=Kc;let Cn=!1;const Jc=t=>t;function Xc(t,e=Jc,s){(Yi?"production":void 0)!=="production"&&s&&!Cn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Cn=!0);const a=Gc(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,s);return Qc(a),a}const An=t=>{(Yi?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?Ac(t):t,s=(a,n)=>Xc(e,a,n);return Object.assign(s,e),s},Wt=t=>t?An(t):An,Yc={};function ed(t,e){let s;try{s=t()}catch{return}return{getItem:n=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=s.getItem(n))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(n,i)=>s.setItem(n,JSON.stringify(i,void 0)),removeItem:n=>s.removeItem(n)}}const Gs=t=>e=>{try{const s=t(e);return s instanceof Promise?s:{then(a){return Gs(a)(s)},catch(a){return this}}}catch(s){return{then(a){return this},catch(a){return Gs(a)(s)}}}},td=(t,e)=>(s,a,n)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:p=>p,version:0,merge:(p,E)=>({...E,...p}),...e},o=!1;const l=new Set,c=new Set;let d;try{d=i.getStorage()}catch{}if(!d)return t((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...p)},a,n);const u=Gs(i.serialize),m=()=>{const p=i.partialize({...a()});let E;const f=u({state:p,version:i.version}).then(j=>d.setItem(i.name,j)).catch(j=>{E=j});if(E)throw E;return f},g=n.setState;n.setState=(p,E)=>{g(p,E),m()};const k=t((...p)=>{s(...p),m()},a,n);let N;const b=()=>{var p;if(!d)return;o=!1,l.forEach(f=>f(a()));const E=((p=i.onRehydrateStorage)==null?void 0:p.call(i,a()))||void 0;return Gs(d.getItem.bind(d))(i.name).then(f=>{if(f)return i.deserialize(f)}).then(f=>{if(f)if(typeof f.version=="number"&&f.version!==i.version){if(i.migrate)return i.migrate(f.state,f.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return f.state}).then(f=>{var j;return N=i.merge(f,(j=a())!=null?j:k),s(N,!0),m()}).then(()=>{E==null||E(N,void 0),o=!0,c.forEach(f=>f(N))}).catch(f=>{E==null||E(void 0,f)})};return n.persist={setOptions:p=>{i={...i,...p},p.getStorage&&(d=p.getStorage())},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>b(),hasHydrated:()=>o,onHydrate:p=>(l.add(p),()=>{l.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},b(),N||k},sd=(t,e)=>(s,a,n)=>{let i={storage:ed(()=>localStorage),partialize:b=>b,version:0,merge:(b,p)=>({...p,...b}),...e},o=!1;const l=new Set,c=new Set;let d=i.storage;if(!d)return t((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...b)},a,n);const u=()=>{const b=i.partialize({...a()});return d.setItem(i.name,{state:b,version:i.version})},m=n.setState;n.setState=(b,p)=>{m(b,p),u()};const g=t((...b)=>{s(...b),u()},a,n);n.getInitialState=()=>g;let k;const N=()=>{var b,p;if(!d)return;o=!1,l.forEach(f=>{var j;return f((j=a())!=null?j:g)});const E=((p=i.onRehydrateStorage)==null?void 0:p.call(i,(b=a())!=null?b:g))||void 0;return Gs(d.getItem.bind(d))(i.name).then(f=>{if(f)if(typeof f.version=="number"&&f.version!==i.version){if(i.migrate)return[!0,i.migrate(f.state,f.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,f.state];return[!1,void 0]}).then(f=>{var j;const[w,A]=f;if(k=i.merge(A,(j=a())!=null?j:g),s(k,!0),w)return u()}).then(()=>{E==null||E(k,void 0),k=a(),o=!0,c.forEach(f=>f(k))}).catch(f=>{E==null||E(void 0,f)})};return n.persist={setOptions:b=>{i={...i,...b},b.storage&&(d=b.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>N(),hasHydrated:()=>o,onHydrate:b=>(l.add(b),()=>{l.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},i.skipHydration||N(),k||g},rd=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((Yc?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),td(t,e)):sd(t,e),Rs=rd;function eo(t,e){return function(){return t.apply(e,arguments)}}const{toString:ad}=Object.prototype,{getPrototypeOf:Ya}=Object,{iterator:Kr,toStringTag:to}=Symbol,Qr=(t=>e=>{const s=ad.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Ye=t=>(t=t.toLowerCase(),e=>Qr(e)===t),Gr=t=>e=>typeof e===t,{isArray:Ls}=Array,Js=Gr("undefined");function lr(t){return t!==null&&!Js(t)&&t.constructor!==null&&!Js(t.constructor)&&$e(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const so=Ye("ArrayBuffer");function nd(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&so(t.buffer),e}const id=Gr("string"),$e=Gr("function"),ro=Gr("number"),cr=t=>t!==null&&typeof t=="object",od=t=>t===!0||t===!1,Cr=t=>{if(Qr(t)!=="object")return!1;const e=Ya(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(to in t)&&!(Kr in t)},ld=t=>{if(!cr(t)||lr(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},cd=Ye("Date"),dd=Ye("File"),ud=Ye("Blob"),hd=Ye("FileList"),md=t=>cr(t)&&$e(t.pipe),fd=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||$e(t.append)&&((e=Qr(t))==="formdata"||e==="object"&&$e(t.toString)&&t.toString()==="[object FormData]"))},xd=Ye("URLSearchParams"),[gd,pd,yd,bd]=["ReadableStream","Request","Response","Headers"].map(Ye),vd=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dr(t,e,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let a,n;if(typeof t!="object"&&(t=[t]),Ls(t))for(a=0,n=t.length;a<n;a++)e.call(null,t[a],a,t);else{if(lr(t))return;const i=s?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let l;for(a=0;a<o;a++)l=i[a],e.call(null,t[l],l,t)}}function ao(t,e){if(lr(t))return null;e=e.toLowerCase();const s=Object.keys(t);let a=s.length,n;for(;a-- >0;)if(n=s[a],e===n.toLowerCase())return n;return null}const qt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,no=t=>!Js(t)&&t!==qt;function Oa(){const{caseless:t}=no(this)&&this||{},e={},s=(a,n)=>{const i=t&&ao(e,n)||n;Cr(e[i])&&Cr(a)?e[i]=Oa(e[i],a):Cr(a)?e[i]=Oa({},a):Ls(a)?e[i]=a.slice():e[i]=a};for(let a=0,n=arguments.length;a<n;a++)arguments[a]&&dr(arguments[a],s);return e}const jd=(t,e,s,{allOwnKeys:a}={})=>(dr(e,(n,i)=>{s&&$e(n)?t[i]=eo(n,s):t[i]=n},{allOwnKeys:a}),t),wd=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Nd=(t,e,s,a)=>{t.prototype=Object.create(e.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),s&&Object.assign(t.prototype,s)},kd=(t,e,s,a)=>{let n,i,o;const l={};if(e=e||{},t==null)return e;do{for(n=Object.getOwnPropertyNames(t),i=n.length;i-- >0;)o=n[i],(!a||a(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=s!==!1&&Ya(t)}while(t&&(!s||s(t,e))&&t!==Object.prototype);return e},Sd=(t,e,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=e.length;const a=t.indexOf(e,s);return a!==-1&&a===s},_d=t=>{if(!t)return null;if(Ls(t))return t;let e=t.length;if(!ro(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=t[e];return s},Cd=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ya(Uint8Array)),Ad=(t,e)=>{const a=(t&&t[Kr]).call(t);let n;for(;(n=a.next())&&!n.done;){const i=n.value;e.call(t,i[0],i[1])}},Ed=(t,e)=>{let s;const a=[];for(;(s=t.exec(e))!==null;)a.push(s);return a},Td=Ye("HTMLFormElement"),Rd=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,n){return a.toUpperCase()+n}),En=(({hasOwnProperty:t})=>(e,s)=>t.call(e,s))(Object.prototype),Ld=Ye("RegExp"),io=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t),a={};dr(s,(n,i)=>{let o;(o=e(n,i,t))!==!1&&(a[i]=o||n)}),Object.defineProperties(t,a)},Od=t=>{io(t,(e,s)=>{if($e(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=t[s];if($e(a)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Pd=(t,e)=>{const s={},a=n=>{n.forEach(i=>{s[i]=!0})};return Ls(t)?a(t):a(String(t).split(e)),s},Fd=()=>{},Dd=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Md(t){return!!(t&&$e(t.append)&&t[to]==="FormData"&&t[Kr])}const Id=t=>{const e=new Array(10),s=(a,n)=>{if(cr(a)){if(e.indexOf(a)>=0)return;if(lr(a))return a;if(!("toJSON"in a)){e[n]=a;const i=Ls(a)?[]:{};return dr(a,(o,l)=>{const c=s(o,n+1);!Js(c)&&(i[l]=c)}),e[n]=void 0,i}}return a};return s(t,0)},Bd=Ye("AsyncFunction"),$d=t=>t&&(cr(t)||$e(t))&&$e(t.then)&&$e(t.catch),oo=((t,e)=>t?setImmediate:e?((s,a)=>(qt.addEventListener("message",({source:n,data:i})=>{n===qt&&i===s&&a.length&&a.shift()()},!1),n=>{a.push(n),qt.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",$e(qt.postMessage)),Ud=typeof queueMicrotask<"u"?queueMicrotask.bind(qt):typeof process<"u"&&process.nextTick||oo,zd=t=>t!=null&&$e(t[Kr]),S={isArray:Ls,isArrayBuffer:so,isBuffer:lr,isFormData:fd,isArrayBufferView:nd,isString:id,isNumber:ro,isBoolean:od,isObject:cr,isPlainObject:Cr,isEmptyObject:ld,isReadableStream:gd,isRequest:pd,isResponse:yd,isHeaders:bd,isUndefined:Js,isDate:cd,isFile:dd,isBlob:ud,isRegExp:Ld,isFunction:$e,isStream:md,isURLSearchParams:xd,isTypedArray:Cd,isFileList:hd,forEach:dr,merge:Oa,extend:jd,trim:vd,stripBOM:wd,inherits:Nd,toFlatObject:kd,kindOf:Qr,kindOfTest:Ye,endsWith:Sd,toArray:_d,forEachEntry:Ad,matchAll:Ed,isHTMLForm:Td,hasOwnProperty:En,hasOwnProp:En,reduceDescriptors:io,freezeMethods:Od,toObjectSet:Pd,toCamelCase:Rd,noop:Fd,toFiniteNumber:Dd,findKey:ao,global:qt,isContextDefined:no,isSpecCompliantForm:Md,toJSONObject:Id,isAsyncFn:Bd,isThenable:$d,setImmediate:oo,asap:Ud,isIterable:zd};function se(t,e,s,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}S.inherits(se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:S.toJSONObject(this.config),code:this.code,status:this.status}}});const lo=se.prototype,co={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{co[t]={value:t}});Object.defineProperties(se,co);Object.defineProperty(lo,"isAxiosError",{value:!0});se.from=(t,e,s,a,n,i)=>{const o=Object.create(lo);return S.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),se.call(o,t.message,e,s,a,n),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const Vd=null;function Pa(t){return S.isPlainObject(t)||S.isArray(t)}function uo(t){return S.endsWith(t,"[]")?t.slice(0,-2):t}function Tn(t,e,s){return t?t.concat(e).map(function(n,i){return n=uo(n),!s&&i?"["+n+"]":n}).join(s?".":""):e}function Wd(t){return S.isArray(t)&&!t.some(Pa)}const Hd=S.toFlatObject(S,{},null,function(e){return/^is[A-Z]/.test(e)});function Jr(t,e,s){if(!S.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,s=S.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,p){return!S.isUndefined(p[b])});const a=s.metaTokens,n=s.visitor||u,i=s.dots,o=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&S.isSpecCompliantForm(e);if(!S.isFunction(n))throw new TypeError("visitor must be a function");function d(N){if(N===null)return"";if(S.isDate(N))return N.toISOString();if(S.isBoolean(N))return N.toString();if(!c&&S.isBlob(N))throw new se("Blob is not supported. Use a Buffer instead.");return S.isArrayBuffer(N)||S.isTypedArray(N)?c&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function u(N,b,p){let E=N;if(N&&!p&&typeof N=="object"){if(S.endsWith(b,"{}"))b=a?b:b.slice(0,-2),N=JSON.stringify(N);else if(S.isArray(N)&&Wd(N)||(S.isFileList(N)||S.endsWith(b,"[]"))&&(E=S.toArray(N)))return b=uo(b),E.forEach(function(j,w){!(S.isUndefined(j)||j===null)&&e.append(o===!0?Tn([b],w,i):o===null?b:b+"[]",d(j))}),!1}return Pa(N)?!0:(e.append(Tn(p,b,i),d(N)),!1)}const m=[],g=Object.assign(Hd,{defaultVisitor:u,convertValue:d,isVisitable:Pa});function k(N,b){if(!S.isUndefined(N)){if(m.indexOf(N)!==-1)throw Error("Circular reference detected in "+b.join("."));m.push(N),S.forEach(N,function(E,f){(!(S.isUndefined(E)||E===null)&&n.call(e,E,S.isString(f)?f.trim():f,b,g))===!0&&k(E,b?b.concat(f):[f])}),m.pop()}}if(!S.isObject(t))throw new TypeError("data must be an object");return k(t),e}function Rn(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return e[a]})}function en(t,e){this._pairs=[],t&&Jr(t,this,e)}const ho=en.prototype;ho.append=function(e,s){this._pairs.push([e,s])};ho.toString=function(e){const s=e?function(a){return e.call(this,a,Rn)}:Rn;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function qd(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function mo(t,e,s){if(!e)return t;const a=s&&s.encode||qd;S.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let i;if(n?i=n(e,s):i=S.isURLSearchParams(e)?e.toString():new en(e,s).toString(a),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Ln{constructor(){this.handlers=[]}use(e,s,a){return this.handlers.push({fulfilled:e,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){S.forEach(this.handlers,function(a){a!==null&&e(a)})}}const fo={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zd=typeof URLSearchParams<"u"?URLSearchParams:en,Kd=typeof FormData<"u"?FormData:null,Qd=typeof Blob<"u"?Blob:null,Gd={isBrowser:!0,classes:{URLSearchParams:Zd,FormData:Kd,Blob:Qd},protocols:["http","https","file","blob","url","data"]},tn=typeof window<"u"&&typeof document<"u",Fa=typeof navigator=="object"&&navigator||void 0,Jd=tn&&(!Fa||["ReactNative","NativeScript","NS"].indexOf(Fa.product)<0),Xd=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Yd=tn&&window.location.href||"http://localhost",eu=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:tn,hasStandardBrowserEnv:Jd,hasStandardBrowserWebWorkerEnv:Xd,navigator:Fa,origin:Yd},Symbol.toStringTag,{value:"Module"})),Te={...eu,...Gd};function tu(t,e){return Jr(t,new Te.classes.URLSearchParams,{visitor:function(s,a,n,i){return Te.isNode&&S.isBuffer(s)?(this.append(a,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function su(t){return S.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ru(t){const e={},s=Object.keys(t);let a;const n=s.length;let i;for(a=0;a<n;a++)i=s[a],e[i]=t[i];return e}function xo(t){function e(s,a,n,i){let o=s[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=s.length;return o=!o&&S.isArray(n)?n.length:o,c?(S.hasOwnProp(n,o)?n[o]=[n[o],a]:n[o]=a,!l):((!n[o]||!S.isObject(n[o]))&&(n[o]=[]),e(s,a,n[o],i)&&S.isArray(n[o])&&(n[o]=ru(n[o])),!l)}if(S.isFormData(t)&&S.isFunction(t.entries)){const s={};return S.forEachEntry(t,(a,n)=>{e(su(a),n,s,0)}),s}return null}function au(t,e,s){if(S.isString(t))try{return(e||JSON.parse)(t),S.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(t)}const ur={transitional:fo,adapter:["xhr","http","fetch"],transformRequest:[function(e,s){const a=s.getContentType()||"",n=a.indexOf("application/json")>-1,i=S.isObject(e);if(i&&S.isHTMLForm(e)&&(e=new FormData(e)),S.isFormData(e))return n?JSON.stringify(xo(e)):e;if(S.isArrayBuffer(e)||S.isBuffer(e)||S.isStream(e)||S.isFile(e)||S.isBlob(e)||S.isReadableStream(e))return e;if(S.isArrayBufferView(e))return e.buffer;if(S.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return tu(e,this.formSerializer).toString();if((l=S.isFileList(e))||a.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Jr(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||n?(s.setContentType("application/json",!1),au(e)):e}],transformResponse:[function(e){const s=this.transitional||ur.transitional,a=s&&s.forcedJSONParsing,n=this.responseType==="json";if(S.isResponse(e)||S.isReadableStream(e))return e;if(e&&S.isString(e)&&(a&&!this.responseType||n)){const o=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?se.from(l,se.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Te.classes.FormData,Blob:Te.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};S.forEach(["delete","get","head","post","put","patch"],t=>{ur.headers[t]={}});const nu=S.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),iu=t=>{const e={};let s,a,n;return t&&t.split(`
`).forEach(function(o){n=o.indexOf(":"),s=o.substring(0,n).trim().toLowerCase(),a=o.substring(n+1).trim(),!(!s||e[s]&&nu[s])&&(s==="set-cookie"?e[s]?e[s].push(a):e[s]=[a]:e[s]=e[s]?e[s]+", "+a:a)}),e},On=Symbol("internals");function $s(t){return t&&String(t).trim().toLowerCase()}function Ar(t){return t===!1||t==null?t:S.isArray(t)?t.map(Ar):String(t)}function ou(t){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(t);)e[a[1]]=a[2];return e}const lu=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function oa(t,e,s,a,n){if(S.isFunction(a))return a.call(this,e,s);if(n&&(e=s),!!S.isString(e)){if(S.isString(a))return e.indexOf(a)!==-1;if(S.isRegExp(a))return a.test(e)}}function cu(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,a)=>s.toUpperCase()+a)}function du(t,e){const s=S.toCamelCase(" "+e);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+s,{value:function(n,i,o){return this[a].call(this,e,n,i,o)},configurable:!0})})}let Ue=class{constructor(e){e&&this.set(e)}set(e,s,a){const n=this;function i(l,c,d){const u=$s(c);if(!u)throw new Error("header name must be a non-empty string");const m=S.findKey(n,u);(!m||n[m]===void 0||d===!0||d===void 0&&n[m]!==!1)&&(n[m||c]=Ar(l))}const o=(l,c)=>S.forEach(l,(d,u)=>i(d,u,c));if(S.isPlainObject(e)||e instanceof this.constructor)o(e,s);else if(S.isString(e)&&(e=e.trim())&&!lu(e))o(iu(e),s);else if(S.isObject(e)&&S.isIterable(e)){let l={},c,d;for(const u of e){if(!S.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?S.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,s)}else e!=null&&i(s,e,a);return this}get(e,s){if(e=$s(e),e){const a=S.findKey(this,e);if(a){const n=this[a];if(!s)return n;if(s===!0)return ou(n);if(S.isFunction(s))return s.call(this,n,a);if(S.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=$s(e),e){const a=S.findKey(this,e);return!!(a&&this[a]!==void 0&&(!s||oa(this,this[a],a,s)))}return!1}delete(e,s){const a=this;let n=!1;function i(o){if(o=$s(o),o){const l=S.findKey(a,o);l&&(!s||oa(a,a[l],l,s))&&(delete a[l],n=!0)}}return S.isArray(e)?e.forEach(i):i(e),n}clear(e){const s=Object.keys(this);let a=s.length,n=!1;for(;a--;){const i=s[a];(!e||oa(this,this[i],i,e,!0))&&(delete this[i],n=!0)}return n}normalize(e){const s=this,a={};return S.forEach(this,(n,i)=>{const o=S.findKey(a,i);if(o){s[o]=Ar(n),delete s[i];return}const l=e?cu(i):String(i).trim();l!==i&&delete s[i],s[l]=Ar(n),a[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return S.forEach(this,(a,n)=>{a!=null&&a!==!1&&(s[n]=e&&S.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const a=new this(e);return s.forEach(n=>a.set(n)),a}static accessor(e){const a=(this[On]=this[On]={accessors:{}}).accessors,n=this.prototype;function i(o){const l=$s(o);a[l]||(du(n,o),a[l]=!0)}return S.isArray(e)?e.forEach(i):i(e),this}};Ue.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);S.reduceDescriptors(Ue.prototype,({value:t},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(a){this[s]=a}}});S.freezeMethods(Ue);function la(t,e){const s=this||ur,a=e||s,n=Ue.from(a.headers);let i=a.data;return S.forEach(t,function(l){i=l.call(s,i,n.normalize(),e?e.status:void 0)}),n.normalize(),i}function go(t){return!!(t&&t.__CANCEL__)}function Os(t,e,s){se.call(this,t??"canceled",se.ERR_CANCELED,e,s),this.name="CanceledError"}S.inherits(Os,se,{__CANCEL__:!0});function po(t,e,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?t(s):e(new se("Request failed with status code "+s.status,[se.ERR_BAD_REQUEST,se.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function uu(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function hu(t,e){t=t||10;const s=new Array(t),a=new Array(t);let n=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),u=a[i];o||(o=d),s[n]=c,a[n]=d;let m=i,g=0;for(;m!==n;)g+=s[m++],m=m%t;if(n=(n+1)%t,n===i&&(i=(i+1)%t),d-o<e)return;const k=u&&d-u;return k?Math.round(g*1e3/k):void 0}}function mu(t,e){let s=0,a=1e3/e,n,i;const o=(d,u=Date.now())=>{s=u,n=null,i&&(clearTimeout(i),i=null),t(...d)};return[(...d)=>{const u=Date.now(),m=u-s;m>=a?o(d,u):(n=d,i||(i=setTimeout(()=>{i=null,o(n)},a-m)))},()=>n&&o(n)]}const Or=(t,e,s=3)=>{let a=0;const n=hu(50,250);return mu(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-a,d=n(c),u=o<=l;a=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(m)},s)},Pn=(t,e)=>{const s=t!=null;return[a=>e[0]({lengthComputable:s,total:t,loaded:a}),e[1]]},Fn=t=>(...e)=>S.asap(()=>t(...e)),fu=Te.hasStandardBrowserEnv?((t,e)=>s=>(s=new URL(s,Te.origin),t.protocol===s.protocol&&t.host===s.host&&(e||t.port===s.port)))(new URL(Te.origin),Te.navigator&&/(msie|trident)/i.test(Te.navigator.userAgent)):()=>!0,xu=Te.hasStandardBrowserEnv?{write(t,e,s,a,n,i){const o=[t+"="+encodeURIComponent(e)];S.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),S.isString(a)&&o.push("path="+a),S.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gu(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function pu(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function yo(t,e,s){let a=!gu(e);return t&&(a||s==!1)?pu(t,e):e}const Dn=t=>t instanceof Ue?{...t}:t;function as(t,e){e=e||{};const s={};function a(d,u,m,g){return S.isPlainObject(d)&&S.isPlainObject(u)?S.merge.call({caseless:g},d,u):S.isPlainObject(u)?S.merge({},u):S.isArray(u)?u.slice():u}function n(d,u,m,g){if(S.isUndefined(u)){if(!S.isUndefined(d))return a(void 0,d,m,g)}else return a(d,u,m,g)}function i(d,u){if(!S.isUndefined(u))return a(void 0,u)}function o(d,u){if(S.isUndefined(u)){if(!S.isUndefined(d))return a(void 0,d)}else return a(void 0,u)}function l(d,u,m){if(m in e)return a(d,u);if(m in t)return a(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,m)=>n(Dn(d),Dn(u),m,!0)};return S.forEach(Object.keys({...t,...e}),function(u){const m=c[u]||n,g=m(t[u],e[u],u);S.isUndefined(g)&&m!==l||(s[u]=g)}),s}const bo=t=>{const e=as({},t);let{data:s,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:l}=e;e.headers=o=Ue.from(o),e.url=mo(yo(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(S.isFormData(s)){if(Te.hasStandardBrowserEnv||Te.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...u]=c?c.split(";").map(m=>m.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...u].join("; "))}}if(Te.hasStandardBrowserEnv&&(a&&S.isFunction(a)&&(a=a(e)),a||a!==!1&&fu(e.url))){const d=n&&i&&xu.read(i);d&&o.set(n,d)}return e},yu=typeof XMLHttpRequest<"u",bu=yu&&function(t){return new Promise(function(s,a){const n=bo(t);let i=n.data;const o=Ue.from(n.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=n,u,m,g,k,N;function b(){k&&k(),N&&N(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let p=new XMLHttpRequest;p.open(n.method.toUpperCase(),n.url,!0),p.timeout=n.timeout;function E(){if(!p)return;const j=Ue.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),A={data:!l||l==="text"||l==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:j,config:t,request:p};po(function(B){s(B),b()},function(B){a(B),b()},A),p=null}"onloadend"in p?p.onloadend=E:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(E)},p.onabort=function(){p&&(a(new se("Request aborted",se.ECONNABORTED,t,p)),p=null)},p.onerror=function(){a(new se("Network Error",se.ERR_NETWORK,t,p)),p=null},p.ontimeout=function(){let w=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const A=n.transitional||fo;n.timeoutErrorMessage&&(w=n.timeoutErrorMessage),a(new se(w,A.clarifyTimeoutError?se.ETIMEDOUT:se.ECONNABORTED,t,p)),p=null},i===void 0&&o.setContentType(null),"setRequestHeader"in p&&S.forEach(o.toJSON(),function(w,A){p.setRequestHeader(A,w)}),S.isUndefined(n.withCredentials)||(p.withCredentials=!!n.withCredentials),l&&l!=="json"&&(p.responseType=n.responseType),d&&([g,N]=Or(d,!0),p.addEventListener("progress",g)),c&&p.upload&&([m,k]=Or(c),p.upload.addEventListener("progress",m),p.upload.addEventListener("loadend",k)),(n.cancelToken||n.signal)&&(u=j=>{p&&(a(!j||j.type?new Os(null,t,p):j),p.abort(),p=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const f=uu(n.url);if(f&&Te.protocols.indexOf(f)===-1){a(new se("Unsupported protocol "+f+":",se.ERR_BAD_REQUEST,t));return}p.send(i||null)})},vu=(t,e)=>{const{length:s}=t=t?t.filter(Boolean):[];if(e||s){let a=new AbortController,n;const i=function(d){if(!n){n=!0,l();const u=d instanceof Error?d:this.reason;a.abort(u instanceof se?u:new Os(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,i(new se(`timeout ${e} of ms exceeded`,se.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),t=null)};t.forEach(d=>d.addEventListener("abort",i));const{signal:c}=a;return c.unsubscribe=()=>S.asap(l),c}},ju=function*(t,e){let s=t.byteLength;if(s<e){yield t;return}let a=0,n;for(;a<s;)n=a+e,yield t.slice(a,n),a=n},wu=async function*(t,e){for await(const s of Nu(t))yield*ju(s,e)},Nu=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:s,value:a}=await e.read();if(s)break;yield a}}finally{await e.cancel()}},Mn=(t,e,s,a)=>{const n=wu(t,e);let i=0,o,l=c=>{o||(o=!0,a&&a(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await n.next();if(d){l(),c.close();return}let m=u.byteLength;if(s){let g=i+=m;s(g)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),n.return()}},{highWaterMark:2})},Xr=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",vo=Xr&&typeof ReadableStream=="function",ku=Xr&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),jo=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Su=vo&&jo(()=>{let t=!1;const e=new Request(Te.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),In=64*1024,Da=vo&&jo(()=>S.isReadableStream(new Response("").body)),Pr={stream:Da&&(t=>t.body)};Xr&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Pr[e]&&(Pr[e]=S.isFunction(t[e])?s=>s[e]():(s,a)=>{throw new se(`Response type '${e}' is not supported`,se.ERR_NOT_SUPPORT,a)})})})(new Response);const _u=async t=>{if(t==null)return 0;if(S.isBlob(t))return t.size;if(S.isSpecCompliantForm(t))return(await new Request(Te.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(S.isArrayBufferView(t)||S.isArrayBuffer(t))return t.byteLength;if(S.isURLSearchParams(t)&&(t=t+""),S.isString(t))return(await ku(t)).byteLength},Cu=async(t,e)=>{const s=S.toFiniteNumber(t.getContentLength());return s??_u(e)},Au=Xr&&(async t=>{let{url:e,method:s,data:a,signal:n,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:u,withCredentials:m="same-origin",fetchOptions:g}=bo(t);d=d?(d+"").toLowerCase():"text";let k=vu([n,i&&i.toAbortSignal()],o),N;const b=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let p;try{if(c&&Su&&s!=="get"&&s!=="head"&&(p=await Cu(u,a))!==0){let A=new Request(e,{method:"POST",body:a,duplex:"half"}),Z;if(S.isFormData(a)&&(Z=A.headers.get("content-type"))&&u.setContentType(Z),A.body){const[B,Q]=Pn(p,Or(Fn(c)));a=Mn(A.body,In,B,Q)}}S.isString(m)||(m=m?"include":"omit");const E="credentials"in Request.prototype;N=new Request(e,{...g,signal:k,method:s.toUpperCase(),headers:u.normalize().toJSON(),body:a,duplex:"half",credentials:E?m:void 0});let f=await fetch(N,g);const j=Da&&(d==="stream"||d==="response");if(Da&&(l||j&&b)){const A={};["status","statusText","headers"].forEach(G=>{A[G]=f[G]});const Z=S.toFiniteNumber(f.headers.get("content-length")),[B,Q]=l&&Pn(Z,Or(Fn(l),!0))||[];f=new Response(Mn(f.body,In,B,()=>{Q&&Q(),b&&b()}),A)}d=d||"text";let w=await Pr[S.findKey(Pr,d)||"text"](f,t);return!j&&b&&b(),await new Promise((A,Z)=>{po(A,Z,{data:w,headers:Ue.from(f.headers),status:f.status,statusText:f.statusText,config:t,request:N})})}catch(E){throw b&&b(),E&&E.name==="TypeError"&&/Load failed|fetch/i.test(E.message)?Object.assign(new se("Network Error",se.ERR_NETWORK,t,N),{cause:E.cause||E}):se.from(E,E&&E.code,t,N)}}),Ma={http:Vd,xhr:bu,fetch:Au};S.forEach(Ma,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Bn=t=>`- ${t}`,Eu=t=>S.isFunction(t)||t===null||t===!1,wo={getAdapter:t=>{t=S.isArray(t)?t:[t];const{length:e}=t;let s,a;const n={};for(let i=0;i<e;i++){s=t[i];let o;if(a=s,!Eu(s)&&(a=Ma[(o=String(s)).toLowerCase()],a===void 0))throw new se(`Unknown adapter '${o}'`);if(a)break;n[o||"#"+i]=a}if(!a){const i=Object.entries(n).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(Bn).join(`
`):" "+Bn(i[0]):"as no adapter specified";throw new se("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:Ma};function ca(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Os(null,t)}function $n(t){return ca(t),t.headers=Ue.from(t.headers),t.data=la.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),wo.getAdapter(t.adapter||ur.adapter)(t).then(function(a){return ca(t),a.data=la.call(t,t.transformResponse,a),a.headers=Ue.from(a.headers),a},function(a){return go(a)||(ca(t),a&&a.response&&(a.response.data=la.call(t,t.transformResponse,a.response),a.response.headers=Ue.from(a.response.headers))),Promise.reject(a)})}const No="1.11.0",Yr={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Yr[t]=function(a){return typeof a===t||"a"+(e<1?"n ":" ")+t}});const Un={};Yr.transitional=function(e,s,a){function n(i,o){return"[Axios v"+No+"] Transitional option '"+i+"'"+o+(a?". "+a:"")}return(i,o,l)=>{if(e===!1)throw new se(n(o," has been removed"+(s?" in "+s:"")),se.ERR_DEPRECATED);return s&&!Un[o]&&(Un[o]=!0,console.warn(n(o," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(i,o,l):!0}};Yr.spelling=function(e){return(s,a)=>(console.warn(`${a} is likely a misspelling of ${e}`),!0)};function Tu(t,e,s){if(typeof t!="object")throw new se("options must be an object",se.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let n=a.length;for(;n-- >0;){const i=a[n],o=e[i];if(o){const l=t[i],c=l===void 0||o(l,i,t);if(c!==!0)throw new se("option "+i+" must be "+c,se.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new se("Unknown option "+i,se.ERR_BAD_OPTION)}}const Er={assertOptions:Tu,validators:Yr},tt=Er.validators;let ss=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Ln,response:new Ln}}async request(e,s){try{return await this._request(e,s)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=as(this.defaults,s);const{transitional:a,paramsSerializer:n,headers:i}=s;a!==void 0&&Er.assertOptions(a,{silentJSONParsing:tt.transitional(tt.boolean),forcedJSONParsing:tt.transitional(tt.boolean),clarifyTimeoutError:tt.transitional(tt.boolean)},!1),n!=null&&(S.isFunction(n)?s.paramsSerializer={serialize:n}:Er.assertOptions(n,{encode:tt.function,serialize:tt.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Er.assertOptions(s,{baseUrl:tt.spelling("baseURL"),withXsrfToken:tt.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=i&&S.merge(i.common,i[s.method]);i&&S.forEach(["delete","get","head","post","put","patch","common"],N=>{delete i[N]}),s.headers=Ue.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(s)===!1||(c=c&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const d=[];this.interceptors.response.forEach(function(b){d.push(b.fulfilled,b.rejected)});let u,m=0,g;if(!c){const N=[$n.bind(this),void 0];for(N.unshift(...l),N.push(...d),g=N.length,u=Promise.resolve(s);m<g;)u=u.then(N[m++],N[m++]);return u}g=l.length;let k=s;for(m=0;m<g;){const N=l[m++],b=l[m++];try{k=N(k)}catch(p){b.call(this,p);break}}try{u=$n.call(this,k)}catch(N){return Promise.reject(N)}for(m=0,g=d.length;m<g;)u=u.then(d[m++],d[m++]);return u}getUri(e){e=as(this.defaults,e);const s=yo(e.baseURL,e.url,e.allowAbsoluteUrls);return mo(s,e.params,e.paramsSerializer)}};S.forEach(["delete","get","head","options"],function(e){ss.prototype[e]=function(s,a){return this.request(as(a||{},{method:e,url:s,data:(a||{}).data}))}});S.forEach(["post","put","patch"],function(e){function s(a){return function(i,o,l){return this.request(as(l||{},{method:e,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}ss.prototype[e]=s(),ss.prototype[e+"Form"]=s(!0)});let Ru=class ko{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const a=this;this.promise.then(n=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](n);a._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(l=>{a.subscribe(l),i=l}).then(n);return o.cancel=function(){a.unsubscribe(i)},o},e(function(i,o,l){a.reason||(a.reason=new Os(i,o,l),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const e=new AbortController,s=a=>{e.abort(a)};return this.subscribe(s),e.signal.unsubscribe=()=>this.unsubscribe(s),e.signal}static source(){let e;return{token:new ko(function(n){e=n}),cancel:e}}};function Lu(t){return function(s){return t.apply(null,s)}}function Ou(t){return S.isObject(t)&&t.isAxiosError===!0}const Ia={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ia).forEach(([t,e])=>{Ia[e]=t});function So(t){const e=new ss(t),s=eo(ss.prototype.request,e);return S.extend(s,ss.prototype,e,{allOwnKeys:!0}),S.extend(s,e,null,{allOwnKeys:!0}),s.create=function(n){return So(as(t,n))},s}const pe=So(ur);pe.Axios=ss;pe.CanceledError=Os;pe.CancelToken=Ru;pe.isCancel=go;pe.VERSION=No;pe.toFormData=Jr;pe.AxiosError=se;pe.Cancel=pe.CanceledError;pe.all=function(e){return Promise.all(e)};pe.spread=Lu;pe.isAxiosError=Ou;pe.mergeConfig=as;pe.AxiosHeaders=Ue;pe.formToJSON=t=>xo(S.isHTMLForm(t)?new FormData(t):t);pe.getAdapter=wo.getAdapter;pe.HttpStatusCode=Ia;pe.default=pe;const{Axios:E0,AxiosError:T0,CanceledError:R0,isCancel:L0,CancelToken:O0,VERSION:P0,all:F0,Cancel:D0,isAxiosError:M0,spread:I0,toFormData:B0,AxiosHeaders:$0,HttpStatusCode:U0,formToJSON:z0,getAdapter:V0,mergeConfig:W0}=pe,Ht=class Ht{constructor(){cs(this,"errorListeners",[])}static getInstance(){return Ht.instance||(Ht.instance=new Ht),Ht.instance}handle(e,s,a=!0){const n=this.parseError(e,s);return this.logError(n),a&&this.showErrorToast(n),this.notifyListeners(n),n}parseError(e,s){const a=Date.now();return e!=null&&e.isAxiosError||e!=null&&e.response?this.parseAxiosError(e,s,a):(e==null?void 0:e.type)==="websocket"||s==="websocket"?{type:"websocket",message:this.getWebSocketErrorMessage(e),details:e,timestamp:a,source:s}:e instanceof Error?{type:"unknown",message:e.message,details:{name:e.name,stack:e.stack},timestamp:a,source:s}:typeof e=="string"?{type:"unknown",message:e,timestamp:a,source:s}:{type:"unknown",message:"发生未知错误",details:e,timestamp:a,source:s}}parseAxiosError(e,s,a){const{response:n,request:i,message:o}=e;if(n){const l=n.status,c=n.data;return l===401?{type:"auth",code:l,message:(c==null?void 0:c.message)||"认证失败，请重新登录",details:c,timestamp:a||Date.now(),source:s}:l===403?{type:"auth",code:l,message:(c==null?void 0:c.message)||"权限不足",details:c,timestamp:a||Date.now(),source:s}:l===422||l===400?{type:"validation",code:l,message:(c==null?void 0:c.message)||"请求参数错误",details:c,timestamp:a||Date.now(),source:s}:l===429?{type:"api",code:l,message:(c==null?void 0:c.message)||"请求过于频繁，请稍后再试",details:c,timestamp:a||Date.now(),source:s}:l>=500?{type:"server",code:l,message:(c==null?void 0:c.message)||"服务器内部错误，请稍后再试",details:c,timestamp:a||Date.now(),source:s}:{type:"api",code:l,message:(c==null?void 0:c.message)||`请求失败 (${l})`,details:c,timestamp:a||Date.now(),source:s}}return i?{type:"network",message:"网络连接失败，请检查网络设置",details:{message:o,request:i},timestamp:a||Date.now(),source:s}:{type:"unknown",message:o||"请求配置错误",details:e,timestamp:a||Date.now(),source:s}}getWebSocketErrorMessage(e){if(e!=null&&e.code)switch(e.code){case 1006:return"连接异常关闭，正在尝试重连...";case 1e3:return"连接正常关闭";case 1001:return"服务器端点离线";case 1002:return"协议错误";case 1003:return"不支持的数据类型";case 1005:return"未收到关闭状态码";case 1011:return"服务器遇到意外情况";default:return`WebSocket连接错误 (${e.code})`}return(e==null?void 0:e.message)||"WebSocket连接失败"}showErrorToast(e){const{type:s,message:a}=e;switch(s){case"auth":I.error(a,{id:"auth-error",duration:5e3,icon:"🔒"});break;case"network":I.error(a,{id:"network-error",duration:6e3,icon:"🌐"});break;case"validation":I.error(a,{id:"validation-error",duration:4e3,icon:"⚠️"});break;case"websocket":I.error(a,{id:"websocket-error",duration:3e3,icon:"🔌"});break;case"server":I.error(a,{id:"server-error",duration:5e3,icon:"🔥"});break;default:I.error(a,{duration:4e3,icon:"❌"})}}logError(e){this.getLogLevel(e.type);const s=`[${e.type.toUpperCase()}] ${e.message}`;console.error(s,{type:e.type,code:e.code,source:e.source,timestamp:e.timestamp})}getLogLevel(e){switch(e){case"auth":case"server":return"error";case"network":case"websocket":return"warn";default:return"info"}}addErrorListener(e){this.errorListeners.push(e)}removeErrorListener(e){this.errorListeners=this.errorListeners.filter(s=>s!==e)}notifyListeners(e){this.errorListeners.forEach(s=>{try{s(e)}catch(a){console.error("Error in error listener:",a)}})}createRetryableHandler(e=3,s=1e3){return async(a,n)=>{let i;for(let o=1;o<=e;o++)try{return await a()}catch(l){i=l;const c=this.parseError(l,n);if(c.type==="auth"||c.type==="validation")throw l;if(o===e)throw this.handle(l,n),l;await new Promise(d=>setTimeout(d,s*Math.pow(2,o-1)))}throw i}}};cs(Ht,"instance");let Ba=Ht;const Pu=Ba.getInstance(),_o=(t,e,s=!0)=>Pu.handle(t,e,s),Co=t=>{const e=pe.create({baseURL:t,timeout:3e4,headers:{"Content-Type":"application/json"}});return e.interceptors.request.use(s=>{const a=localStorage.getItem("auth-storage");if(a)try{const{state:n}=JSON.parse(a);n!=null&&n.token&&(s.headers.Authorization=`Bearer ${n.token}`)}catch(n){console.error("Failed to parse auth data:",n)}return s},s=>Promise.reject(s)),e.interceptors.response.use(s=>s,async s=>{var i;const a=s.config;if(((i=s.response)==null?void 0:i.status)===401&&!a._retry){a._retry=!0;try{const o=localStorage.getItem("auth-storage");if(o){const{state:l}=JSON.parse(o);if(l!=null&&l.token){const d=(await e.post("/auth/refresh",{token:l.token})).data.token,u={...l,token:d};return localStorage.setItem("auth-storage",JSON.stringify({state:u})),a.headers.Authorization=`Bearer ${d}`,e(a)}}}catch(o){return localStorage.removeItem("auth-storage"),window.location.href="/login",Promise.reject(o)}}const n=_o(s,"api-client",!1);return Promise.reject(n)}),e},Fu="/api/v1",Du="/api/v1",Re=Co(Fu),U=Co(Du),D=t=>t.data,F=t=>{if(t!=null&&t.type&&(t!=null&&t.message))throw new Error(t.message);const e=_o(t,"api-error",!0);throw new Error(e.message)},wt={async login(t){try{const e=await Re.post("/auth/login",t),s=D(e);return{user:s.data.user,token:s.data.access_token,refresh_token:s.data.refresh_token}}catch(e){F(e)}},async register(t){try{const e=await Re.post("/auth/register",t),s=D(e);return{user:s.data.user||null,token:s.data.access_token||null,refresh_token:s.data.refresh_token||null}}catch(e){F(e)}},async loginWithGoogle(t){try{const e=await Re.post("/auth/google",{google_token:t}),s=D(e);return{user:s.data.user,token:s.data.access_token,refresh_token:s.data.refresh_token}}catch(e){F(e)}},async forgotPassword(t){try{const e=await Re.post("/auth/forgot-password",{email:t});return D(e)}catch(e){F(e)}},async getProfile(){try{const t=await Re.get("/auth/profile");return D(t)}catch(t){F(t)}},async updateProfile(t){try{const e=await Re.put("/auth/profile",t);return D(e)}catch(e){F(e)}},async refreshToken(){try{const t=await Re.post("/auth/refresh");return D(t)}catch(t){F(t)}},async sendVerificationEmail(){try{const t=await Re.post("/auth/send-verification");return D(t)}catch(t){F(t)}},async verifyEmail(t){try{const e=await Re.post("/auth/verify-email",{token:t});return D(e)}catch(e){F(e)}},async sendPasswordReset(t){try{const e=await Re.post("/auth/password-reset",{email:t});return D(e)}catch(e){F(e)}},async resetPassword(t,e){try{const s=await Re.post("/auth/password-reset/confirm",{token:t,password:e});return D(s)}catch(s){F(s)}},async changePassword(t,e){try{const s=await Re.post("/auth/change-password",{current_password:t,new_password:e});return D(s)}catch(s){F(s)}},async logout(){try{const t=await Re.post("/auth/logout");return D(t)}catch(t){F(t)}}},Xe=Wt()(Rs((t,e)=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null,login:async s=>{var a,n;t({isLoading:!0,error:null});try{const i=await wt.login(s);return t({user:i.user,token:i.token,isAuthenticated:!0,isLoading:!1,error:null}),{success:!0}}catch(i){const o=((n=(a=i.response)==null?void 0:a.data)==null?void 0:n.message)||i.message||"登录失败";let l=o;return o.includes("not found")||o.includes("不存在")?l="用户不存在":(o.includes("password")||o.includes("密码"))&&(l="密码错误"),t({isLoading:!1,error:l}),{success:!1,message:l}}},register:async s=>{var a,n;t({isLoading:!0,error:null});try{const i=await wt.register(s);return t({user:i.user,token:i.token,isAuthenticated:!0,isLoading:!1,error:null}),{success:!0}}catch(i){const o=((n=(a=i.response)==null?void 0:a.data)==null?void 0:n.message)||"注册失败";return t({isLoading:!1,error:o}),{success:!1,message:o}}},loginWithGoogle:async s=>{var a,n;t({isLoading:!0,error:null});try{const i=await wt.loginWithGoogle(s);return t({user:i.user,token:i.token,isAuthenticated:!0,isLoading:!1,error:null}),{success:!0}}catch(i){const o=((n=(a=i.response)==null?void 0:a.data)==null?void 0:n.message)||"Google登录失败";return t({isLoading:!1,error:o}),{success:!1,message:o}}},forgotPassword:async s=>{try{return await wt.forgotPassword(s),!0}catch{return!1}},resetPassword:async(s,a)=>{try{return await wt.resetPassword(s,a),!0}catch{return!1}},logout:()=>{t({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null}),I.success("已退出登录")},checkAuth:async()=>{const{token:s}=e();if(s){t({isLoading:!0,error:null});try{const a=await wt.getProfile();t({user:a,isAuthenticated:!0,isLoading:!1,error:null})}catch{t({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:"Token已失效，请重新登录"})}}},updateProfile:async s=>{var a,n;try{const i=await wt.updateProfile(s);return t(o=>({user:{...o.user,...i},error:null})),I.success("个人资料更新成功"),!0}catch(i){const o=((n=(a=i.response)==null?void 0:a.data)==null?void 0:n.message)||"更新失败";return t({error:o}),I.error(o),!1}},refreshToken:async()=>{try{const s=await wt.refreshToken();return t({token:s.token,error:null}),!0}catch{return e().logout(),!1}},clearError:()=>{t({error:null})}}),{name:"auth-storage",partialize:t=>({token:t.token,user:t.user})})),sn=Wt()(Rs(t=>({theme:"light",toggleTheme:()=>t(e=>({theme:e.theme==="light"?"dark":"light"})),setTheme:e=>t({theme:e})}),{name:"theme-storage",getStorage:()=>localStorage}));function Mu(t={}){const{nonce:e,onScriptLoadSuccess:s,onScriptLoadError:a}=t,[n,i]=_.useState(!1),o=_.useRef(s);o.current=s;const l=_.useRef(a);return l.current=a,_.useEffect(()=>{const c=document.createElement("script");return c.src="https://accounts.google.com/gsi/client",c.async=!0,c.defer=!0,c.nonce=e,c.onload=()=>{var d;i(!0),(d=o.current)===null||d===void 0||d.call(o)},c.onerror=()=>{var d;i(!1),(d=l.current)===null||d===void 0||d.call(l)},document.body.appendChild(c),()=>{document.body.removeChild(c)}},[e]),n}const Ao=_.createContext(null);function Iu({clientId:t,nonce:e,onScriptLoadSuccess:s,onScriptLoadError:a,children:n}){const i=Mu({nonce:e,onScriptLoadSuccess:s,onScriptLoadError:a}),o=_.useMemo(()=>({clientId:t,scriptLoadedSuccessfully:i}),[t,i]);return Ae.createElement(Ao.Provider,{value:o},n)}function Bu(){const t=_.useContext(Ao);if(!t)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return t}function $u(t){var e;return(e=t==null?void 0:t.clientId)!==null&&e!==void 0?e:t==null?void 0:t.client_id}const Uu={large:40,medium:32,small:20};function zu({onSuccess:t,onError:e,useOneTap:s,promptMomentNotification:a,type:n="standard",theme:i="outline",size:o="large",text:l,shape:c,logo_alignment:d,width:u,locale:m,click_listener:g,containerProps:k,...N}){const b=_.useRef(null),{clientId:p,scriptLoadedSuccessfully:E}=Bu(),f=_.useRef(t);f.current=t;const j=_.useRef(e);j.current=e;const w=_.useRef(a);return w.current=a,_.useEffect(()=>{var A,Z,B,Q,G,te,oe,y,T;if(E)return(B=(Z=(A=window==null?void 0:window.google)===null||A===void 0?void 0:A.accounts)===null||Z===void 0?void 0:Z.id)===null||B===void 0||B.initialize({client_id:p,callback:M=>{var X;if(!(M!=null&&M.credential))return(X=j.current)===null||X===void 0?void 0:X.call(j);const{credential:ae,select_by:fe}=M;f.current({credential:ae,clientId:$u(M),select_by:fe})},...N}),(te=(G=(Q=window==null?void 0:window.google)===null||Q===void 0?void 0:Q.accounts)===null||G===void 0?void 0:G.id)===null||te===void 0||te.renderButton(b.current,{type:n,theme:i,size:o,text:l,shape:c,logo_alignment:d,width:u,locale:m,click_listener:g}),s&&((T=(y=(oe=window==null?void 0:window.google)===null||oe===void 0?void 0:oe.accounts)===null||y===void 0?void 0:y.id)===null||T===void 0||T.prompt(w.current)),()=>{var M,X,ae;s&&((ae=(X=(M=window==null?void 0:window.google)===null||M===void 0?void 0:M.accounts)===null||X===void 0?void 0:X.id)===null||ae===void 0||ae.cancel())}},[p,E,s,n,i,o,l,c,d,u,m]),Ae.createElement("div",{...k,ref:b,style:{height:Uu[o],...k==null?void 0:k.style}})}const Vu={zh:{welcomeTitle:"欢迎来到Trademe",welcomeSubtitle:"专业的数字货币策略交易平台",activeUsers:"活跃用户",tradingVolume:"交易量",uptime:"系统稳定性",platformDescription:"基于人工智能的量化交易平台，支持多交易所、自动化策略和智能风控",createAccount:"创建账户",accountLogin:"账户登录",registerSubtitle:"开始您的智能交易之旅",loginSubtitle:"欢迎回来，请登录您的账户",orContinueWith:"或者使用其他方式",username:"用户名",enterUsername:"请输入用户名",email:"邮箱地址",enterEmail:"请输入邮箱地址",password:"密码",enterPassword:"请输入密码",confirmPassword:"确认密码",enterPasswordAgain:"请再次输入密码",forgotPassword:"忘记密码",enterEmailForReset:"输入邮箱以重置密码",sendReset:"发送重置链接",processing:"处理中...",login:"登录",haveAccount:"已有账户？",noAccount:"还没有账户？",loginNow:"立即登录",registerNow:"立即注册",byRegisteringAgree:"注册即表示您同意我们的",termsOfService:"服务条款",and:"和",privacyPolicy:"隐私政策",userNotFound:"用户不存在，请检查邮箱地址",wrongPassword:"密码错误，请重试或重置密码",loginFailed:"登录失败，请重试",loginSuccess:"登录成功",registerSuccess:"注册成功",authError:"认证错误，请重试",googleLoginSuccess:"Google登录成功",googleLoginFailed:"Google登录失败",googleLoginError:"Google登录出错",passwordResetSent:"密码重置链接已发送到您的邮箱",passwordResetFailed:"发送重置链接失败",passwordResetError:"重置密码时出错",wantToRegister:"该用户不存在，是否要注册新账户？",dashboard:"仪表板",strategies:"策略管理",trading:"实盘交易",backtest:"回测分析",aiAssistant:"AI助手",market:"市场数据",portfolio:"投资组合",settings:"设置",logout:"退出登录",profile:"个人资料",notifications:"通知",help:"帮助中心",about:"关于我们",contact:"联系我们",language_setting:"语言",theme_setting:"主题",lightMode:"浅色模式",darkMode:"深色模式"},en:{welcomeTitle:"Welcome to Trademe",welcomeSubtitle:"Professional Cryptocurrency Strategy Trading Platform",activeUsers:"Active Users",tradingVolume:"Trading Volume",uptime:"System Uptime",platformDescription:"AI-powered quantitative trading platform with multi-exchange support, automated strategies, and intelligent risk control",createAccount:"Create Account",accountLogin:"Account Login",registerSubtitle:"Start your intelligent trading journey",loginSubtitle:"Welcome back, please login to your account",orContinueWith:"Or continue with",username:"Username",enterUsername:"Enter username",email:"Email Address",enterEmail:"Enter email address",password:"Password",enterPassword:"Enter password",confirmPassword:"Confirm Password",enterPasswordAgain:"Enter password again",forgotPassword:"Forgot Password",enterEmailForReset:"Enter email to reset password",sendReset:"Send Reset Link",processing:"Processing...",login:"Login",haveAccount:"Already have an account?",noAccount:"Don't have an account?",loginNow:"Login Now",registerNow:"Register Now",byRegisteringAgree:"By registering, you agree to our ",termsOfService:"Terms of Service",and:" and ",privacyPolicy:"Privacy Policy",userNotFound:"User not found, please check email address",wrongPassword:"Wrong password, please try again or reset password",loginFailed:"Login failed, please try again",loginSuccess:"Login successful",registerSuccess:"Registration successful",authError:"Authentication error, please try again",googleLoginSuccess:"Google login successful",googleLoginFailed:"Google login failed",googleLoginError:"Google login error",passwordResetSent:"Password reset link has been sent to your email",passwordResetFailed:"Failed to send reset link",passwordResetError:"Error resetting password",wantToRegister:"User does not exist, would you like to register a new account?",dashboard:"Dashboard",strategies:"Strategies",trading:"Live Trading",backtest:"Backtest",aiAssistant:"AI Assistant",market:"Market Data",portfolio:"Portfolio",settings:"Settings",logout:"Logout",profile:"Profile",notifications:"Notifications",help:"Help Center",about:"About Us",contact:"Contact Us",language:"Language",theme:"Theme",lightMode:"Light Mode",darkMode:"Dark Mode"}},Eo=Wt()(Rs((t,e)=>({language:"zh",setLanguage:s=>t({language:s}),t:s=>{const a=e().language;return Vu[a][s]||s}}),{name:"language-storage",getStorage:()=>localStorage})),Wu=({data:t=[],title:e="收益率曲线",width:s="100%",height:a=300,className:n="",showBenchmark:i=!1,benchmarkName:o="基准",loading:l=!1})=>{const c=_.useRef(null),d=_.useRef(null);return _.useEffect(()=>{if(c.current)return d.current=Za(c.current),()=>{var u;(u=d.current)==null||u.dispose()}},[]),_.useEffect(()=>{if(!d.current||l)return;if(t.length===0){d.current.clear();return}const u=t.map(j=>new Date(j.timestamp).toLocaleDateString()),m=t.map(j=>j.value),g=i?t.map(j=>j.benchmark||0):[],k=[],N=[];let b=100,p=100;for(let j=0;j<m.length;j++)j===0?(k.push(b),i&&N.push(p)):(b=b*(1+m[j]/100),k.push(b),i&&g[j]!==void 0&&(p=p*(1+g[j]/100),N.push(p)));const E=[{name:"策略收益",type:"line",data:k,smooth:!0,symbol:"none",lineStyle:{color:"#1a3d7c",width:2},areaStyle:{color:new ga(0,0,0,1,[{offset:0,color:"rgba(26, 61, 124, 0.3)"},{offset:1,color:"rgba(26, 61, 124, 0.05)"}])}}];i&&N.length>0&&E.push({name:o,type:"line",data:N,smooth:!0,symbol:"none",lineStyle:{color:"#94a3b8",width:1,type:"dashed"}});const f={title:{text:e,left:0,textStyle:{color:"#1a3d7c",fontSize:16,fontWeight:"bold"}},tooltip:{trigger:"axis",backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#e5e7eb",borderWidth:1,textStyle:{color:"#374151"},formatter:function(j){if(!j||j.length===0)return"";const w=j[0].dataIndex,A=m[w],Z=(k[w]-100).toFixed(2);let B=`
            <div style="padding: 8px;">
              <div style="margin-bottom: 4px; font-weight: bold;">${j[0].name}</div>
              <div style="color: #1a3d7c;">
                当日收益: ${A>0?"+":""}${A.toFixed(2)}%
              </div>
              <div style="color: #1a3d7c;">
                累计收益: ${parseFloat(Z)>0?"+":""}${Z}%
              </div>
          `;if(i&&j.length>1){const Q=(N[w]-100).toFixed(2);B+=`
              <div style="color: #94a3b8;">
                ${o}累计: ${parseFloat(Q)>0?"+":""}${Q}%
              </div>
            `}return B+="</div>",B}},legend:{data:i?["策略收益",o]:["策略收益"],top:35,right:0,textStyle:{color:"#666"}},grid:{left:"3%",right:"4%",bottom:"8%",top:i?"20%":"15%",containLabel:!0},xAxis:{type:"category",data:u,boundaryGap:!1,axisLine:{lineStyle:{color:"#e5e7eb"}},axisTick:{show:!1},axisLabel:{color:"#6b7280",fontSize:11},splitLine:{show:!1}},yAxis:{type:"value",axisLine:{lineStyle:{color:"#e5e7eb"}},axisTick:{show:!1},axisLabel:{color:"#6b7280",fontSize:11,formatter:"{value}%"},splitLine:{lineStyle:{color:"#f3f4f6",type:"dashed"}}},series:E};d.current.setOption(f,!0)},[t,e,i,o,l]),_.useEffect(()=>{const u=()=>{var m;(m=d.current)==null||m.resize()};return window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]),r.jsxs("div",{className:`relative ${n}`,children:[r.jsx("div",{ref:c,style:{width:s,height:a},className:"bg-white"}),l&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-75",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),r.jsx("div",{className:"text-gray-500 text-sm",children:"加载中..."})]})}),!l&&t.length===0&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),r.jsx("p",{className:"text-gray-500",children:"暂无数据"})]})})]})},Hu=({metrics:t,equityCurve:e=[],trades:s=[],className:a="",height:n=400})=>{const i=_.useRef(null),o=_.useRef(null);return _.useEffect(()=>{if(i.current)return o.current=Za(i.current),()=>{var l;(l=o.current)==null||l.dispose()}},[]),_.useEffect(()=>{if(!o.current)return;if(e.length===0){o.current.clear();return}const l=e.map(k=>new Date(k.timestamp).toLocaleDateString()),c=e.map(k=>k.equity),d=e.map(k=>-Math.abs(k.drawdown)),u=[],m=[];for(const k of s){const N=e.findIndex(b=>new Date(b.timestamp).getTime()>=new Date(k.timestamp).getTime());if(N!==-1){const b={coord:[N,c[N]],value:k.pnl>0?"盈利":"亏损",itemStyle:{color:k.side==="buy"?"#21ce90":"#f53d3d"}};k.side==="buy"?u.push(b):m.push(b)}}const g={title:{text:"回测结果分析",left:0,textStyle:{color:"#1a3d7c",fontSize:18,fontWeight:"bold"}},tooltip:{trigger:"axis",axisPointer:{type:"cross",animation:!1}},legend:{data:["资金曲线","回撤"],top:35,textStyle:{color:"#666"}},grid:[{left:"8%",right:"8%",top:"15%",height:"65%"},{left:"8%",right:"8%",top:"85%",height:"10%"}],xAxis:[{type:"category",data:l,axisLine:{lineStyle:{color:"#e5e7eb"}},axisTick:{show:!1},axisLabel:{color:"#6b7280"},splitLine:{show:!1}},{type:"category",data:l,gridIndex:1,axisLine:{lineStyle:{color:"#e5e7eb"}},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1}}],yAxis:[{type:"value",position:"right",axisLine:{lineStyle:{color:"#e5e7eb"}},axisTick:{show:!1},axisLabel:{color:"#6b7280",formatter:"{value}"},splitLine:{lineStyle:{color:"#f3f4f6",type:"dashed"}}},{type:"value",gridIndex:1,position:"right",axisLine:{lineStyle:{color:"#e5e7eb"}},axisTick:{show:!1},axisLabel:{color:"#6b7280",formatter:"{value}%"},splitLine:{show:!1},max:0,min:function(k){return Math.min(k.min,-20)}}],series:[{name:"资金曲线",type:"line",data:c,smooth:!0,symbol:"none",lineStyle:{color:"#1a3d7c",width:2},areaStyle:{color:new ga(0,0,0,1,[{offset:0,color:"rgba(26, 61, 124, 0.3)"},{offset:1,color:"rgba(26, 61, 124, 0.05)"}])},markPoint:{data:[...u.map(k=>({...k,symbol:"triangle",symbolSize:8,label:{show:!1}})),...m.map(k=>({...k,symbol:"triangle",symbolSize:8,symbolRotate:180,label:{show:!1}}))]}},{name:"回撤",type:"line",data:d,xAxisIndex:1,yAxisIndex:1,smooth:!0,symbol:"none",lineStyle:{color:"#f53d3d",width:1},areaStyle:{color:new ga(0,0,0,1,[{offset:0,color:"rgba(245, 61, 61, 0.2)"},{offset:1,color:"rgba(245, 61, 61, 0.05)"}])}}],dataZoom:[{type:"inside",xAxisIndex:[0,1],start:0,end:100}]};o.current.setOption(g,!0)},[t,e,s]),_.useEffect(()=>{const l=()=>{var c;(c=o.current)==null||c.resize()};return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]),r.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 p-6 ${a}`,children:[r.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:`text-2xl font-bold ${t.total_return>=0?"text-green-600":"text-red-600"}`,children:[t.total_return>=0?"+":"",t.total_return.toFixed(2),"%"]}),r.jsx("div",{className:"text-sm text-gray-500",children:"总收益率"})]}),r.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[t.max_drawdown.toFixed(2),"%"]}),r.jsx("div",{className:"text-sm text-gray-500",children:"最大回撤"})]}),r.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:`text-2xl font-bold ${t.sharpe_ratio>=1?"text-green-600":"text-orange-600"}`,children:t.sharpe_ratio.toFixed(2)}),r.jsx("div",{className:"text-sm text-gray-500",children:"夏普比率"})]}),r.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[t.win_rate.toFixed(1),"%"]}),r.jsx("div",{className:"text-sm text-gray-500",children:"胜率"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"风险指标"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"年化收益率:"}),r.jsxs("span",{className:t.annual_return>=0?"text-green-600":"text-red-600",children:[t.annual_return.toFixed(2),"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"波动率:"}),r.jsxs("span",{className:"text-gray-900",children:[t.volatility.toFixed(2),"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"盈亏比:"}),r.jsx("span",{className:"text-gray-900",children:t.profit_factor.toFixed(2)})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"交易统计"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"总交易次数:"}),r.jsx("span",{className:"text-gray-900",children:t.total_trades})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"盈利交易:"}),r.jsx("span",{className:"text-green-600",children:Math.round(t.total_trades*t.win_rate/100)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"亏损交易:"}),r.jsx("span",{className:"text-red-600",children:t.total_trades-Math.round(t.total_trades*t.win_rate/100)})]})]})]})]}),r.jsx("div",{ref:i,style:{width:"100%",height:n},className:"bg-white"})]})},Fr={async getStats(){try{const t=await Re.get("/dashboard/stats");return D(t).data}catch(t){F(t)}},async getRecentActivity(){try{const t=await U.get("/dashboard/activity");return D(t)}catch(t){F(t)}},async getMarketSummary(){try{const t=await U.get("/dashboard/market-summary");return D(t)}catch(t){F(t)}},async getAssetAllocation(){try{const t=await U.get("/dashboard/asset-allocation");return D(t)}catch(t){F(t)}},async getProfitCurve(t=90){try{const e=await Re.get(`/dashboard/profit-curve?days=${t}`);return D(e)}catch(e){F(e)}}},qu=()=>{var E;const{isAuthenticated:t,user:e}=Xe(),{theme:s}=sn(),{t:a}=Eo(),[n,i]=_.useState(null),[o,l]=_.useState([]),[c,d]=_.useState(!1),[u,m]=_.useState(!1),[g,k]=_.useState("90");_.useEffect(()=>{t&&N()},[t]),_.useEffect(()=>{t&&b()},[g,t]);const N=async()=>{try{d(!0);const f=await Fr.getStats();f&&i(f)}catch(f){console.error("加载仪表板统计失败:",f),I.error("加载仪表板统计失败")}finally{d(!1)}},b=async()=>{try{m(!0);const f=await Fr.getProfitCurve(Number(g));f&&(l(f.data||[]),f.is_demo&&console.info(`使用演示数据显示${g}天收益曲线`))}catch(f){console.error("加载收益曲线失败:",f);const j=p(Number(g));l(j)}finally{m(!1)}},p=f=>{const j=[],w=new Date;for(let A=f;A>=0;A-=Math.max(1,Math.floor(f/10))){const Z=new Date(w);Z.setDate(Z.getDate()-A);const Q=(1-A/f)*12.3+(Math.random()-.5)*2;j.push({timestamp:Z.toISOString().split("T")[0],value:Math.round(Q*100)/100})}return j};return t?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors",children:r.jsxs("div",{className:"w-full max-w-6xl min-h-screen bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 mx-auto transition-colors",children:[r.jsxs("header",{className:"py-4 px-8 flex justify-between items-center border-b border-gray-200 dark:border-gray-700 transition-colors",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsxs("svg",{className:"w-7 h-7 mr-3 text-blue-600 dark:text-blue-400",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",fill:"none"}),r.jsx("path",{d:"M8 12h8M12 8v8",stroke:"currentColor",strokeWidth:"2"})]}),r.jsx("h1",{className:"text-xl font-bold text-blue-600 dark:text-blue-400 transition-colors",children:"Trademe"})]}),r.jsxs("nav",{className:"flex gap-2",children:[r.jsx("div",{className:"px-4 py-2 rounded-lg text-white font-medium bg-blue-600 dark:bg-blue-600 transition-colors",children:"首页"}),r.jsx(ve,{to:"/strategies",className:"px-4 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"策略交易"}),r.jsx(ve,{to:"/trading",className:"px-4 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"图表交易"}),r.jsx(ve,{to:"/trading-notes",className:"px-4 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"交易心得"}),r.jsx(ve,{to:"/api-keys",className:"px-4 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"API管理"}),r.jsx(ve,{to:"/profile",className:"px-4 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"账户中心"})]}),r.jsx("div",{className:"flex items-center",children:r.jsx("div",{className:"w-9 h-9 rounded-full bg-gray-200 overflow-hidden",children:r.jsx("div",{className:"w-full h-full bg-gradient-to-r from-blue-400 to-blue-600 flex items-center justify-center text-white font-semibold",children:(E=e==null?void 0:e.username)==null?void 0:E.charAt(0).toUpperCase()})})})]}),r.jsxs("main",{className:"p-8",children:[r.jsxs("section",{className:"grid grid-cols-3 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl shadow-sm border border-gray-100 dark:border-gray-600 p-6 flex items-center transition-colors",children:[r.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center mr-4 bg-blue-100 dark:bg-blue-900",children:r.jsx("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1721 9z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"APIKEY数量"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:c?r.jsx("span",{className:"animate-pulse bg-gray-200 dark:bg-gray-600 rounded h-8 w-16 inline-block"}):r.jsxs(r.Fragment,{children:[(n==null?void 0:n.api_keys.current)||0,r.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["/",(n==null?void 0:n.api_keys.limit)||10]})]})})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl shadow-sm border border-gray-100 dark:border-gray-600 p-6 flex items-center transition-colors",children:[r.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center mr-4 bg-green-100 dark:bg-green-900",children:r.jsx("svg",{className:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"实盘策略数"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:c?r.jsx("span",{className:"animate-pulse bg-gray-200 dark:bg-gray-600 rounded h-8 w-12 inline-block"}):(n==null?void 0:n.live_strategies.current)||0})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl shadow-sm border border-gray-100 dark:border-gray-600 p-6 flex items-center transition-colors",children:[r.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center mr-4 bg-yellow-100 dark:bg-yellow-900",children:r.jsx("svg",{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"本月收益率"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:c?r.jsx("span",{className:"animate-pulse bg-gray-200 dark:bg-gray-600 rounded h-8 w-20 inline-block"}):r.jsxs("span",{className:`px-2 py-1 rounded-md ${((n==null?void 0:n.monthly_return)||0)>=0?"bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400":"bg-red-100 dark:bg-red-900 text-red-600 dark:text-red-400"}`,children:[((n==null?void 0:n.monthly_return)||0)>=0?"+":"",((n==null?void 0:n.monthly_return)||0).toFixed(1),"%"]})})]})]})]}),r.jsx("section",{className:"mb-8",children:r.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl shadow-sm border border-gray-100 dark:border-gray-600 p-6 transition-colors",children:[r.jsxs("div",{className:"flex justify-between items-start mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:"当前收益率曲线"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>k("7"),className:`px-3 py-1 rounded-lg text-sm transition-colors ${g==="7"?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-500"}`,children:"近7天"}),r.jsx("button",{onClick:()=>k("30"),className:`px-3 py-1 rounded-lg text-sm transition-colors ${g==="30"?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-500"}`,children:"本月"}),r.jsx("button",{onClick:()=>k("90"),className:`px-3 py-1 rounded-lg text-sm transition-colors ${g==="90"?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-500"}`,children:"近3月"})]})]}),u?r.jsxs("div",{className:"flex items-center justify-center h-64",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-500 dark:text-gray-400",children:"加载收益数据..."})]}):r.jsx(Wu,{data:o,title:"",height:250,className:"mt-2"})]})})]})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center transition-colors",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("div",{className:"w-16 h-16 mx-auto bg-brand-500 rounded-full flex items-center justify-center mb-4",children:r.jsx("span",{className:"text-white font-bold text-xl",children:"T"})}),r.jsxs("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4 transition-colors",children:["欢迎使用 ",r.jsx("span",{className:"text-brand-500",children:"Trademe"})]}),r.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 mb-8 transition-colors",children:"专业的数字货币策略交易平台，集成AI智能分析"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 border border-gray-200 dark:border-gray-700 transition-colors",children:[r.jsx("div",{className:"w-16 h-16 mx-auto bg-gradient-to-r from-blue-500 to-cyan-500 rounded-2xl flex items-center justify-center mb-6",children:r.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),r.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-white text-center",children:"AI策略回测"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 leading-relaxed",children:"使用Claude 4先进AI技术，将您的交易想法智能转化为专业策略代码。平台提供tick级别的高精度历史数据回测， 确保策略验证的准确性。回测完成后，可一键部署至实盘交易，实现从想法到盈利的完整闭环。"}),r.jsxs("div",{className:"space-y-2 mb-6",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[r.jsx("svg",{className:"w-4 h-4 mr-2 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Claude 4智能策略生成"]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[r.jsx("svg",{className:"w-4 h-4 mr-2 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Tick级别高精度回测"]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[r.jsx("svg",{className:"w-4 h-4 mr-2 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"一键转实盘运行"]})]}),r.jsx(ve,{to:"/ai-backtest-intro",className:"block",children:r.jsx("button",{className:"w-full py-3 px-6 bg-gradient-to-r from-blue-500 to-cyan-500 text-white font-medium rounded-lg hover:from-blue-600 hover:to-cyan-600 transition-all transform hover:scale-105",children:"了解详情"})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 border border-gray-200 dark:border-gray-700 transition-colors",children:[r.jsx("div",{className:"w-16 h-16 mx-auto bg-gradient-to-r from-green-500 to-emerald-500 rounded-2xl flex items-center justify-center mb-6",children:r.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),r.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-white text-center",children:"AI智能分析"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 leading-relaxed",children:"通过深度记录和分析您的策略开单情况及手动交易行为，AI助手能够学习您的交易逻辑和风格偏好。 与AI进行深度对话，共同构建个性化的智能交易系统，让AI成为您24小时不间断的专业交易顾问。"}),r.jsxs("div",{className:"space-y-2 mb-6",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[r.jsx("svg",{className:"w-4 h-4 mr-2 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"智能交易行为分析"]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[r.jsx("svg",{className:"w-4 h-4 mr-2 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"个性化交易逻辑学习"]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[r.jsx("svg",{className:"w-4 h-4 mr-2 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"24/7智能交易助手"]})]}),r.jsx(ve,{to:"/ai-analysis-intro",className:"block",children:r.jsx("button",{className:"w-full py-3 px-6 bg-gradient-to-r from-green-500 to-emerald-500 text-white font-medium rounded-lg hover:from-green-600 hover:to-emerald-600 transition-all transform hover:scale-105",children:"了解详情"})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 text-center transition-colors",children:[r.jsx("div",{className:"w-12 h-12 mx-auto bg-purple-100 dark:bg-purple-900 rounded-lg flex items-center justify-center mb-4",children:r.jsx("svg",{className:"w-6 h-6 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"})})}),r.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:"多交易所支持"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"支持币安、OKX等主流交易所API，统一管理多个账户"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 text-center transition-colors",children:[r.jsx("div",{className:"w-12 h-12 mx-auto bg-orange-100 dark:bg-orange-900 rounded-lg flex items-center justify-center mb-4",children:r.jsx("svg",{className:"w-6 h-6 text-orange-600 dark:text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),r.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:"安全可靠"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"银行级别的安全加密，API密钥本地加密存储"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 text-center transition-colors",children:[r.jsx("div",{className:"w-12 h-12 mx-auto bg-indigo-100 dark:bg-indigo-900 rounded-lg flex items-center justify-center mb-4",children:r.jsx("svg",{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),r.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:"实时监控"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"实时监控策略表现，智能风控保护您的资金安全"})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-8",children:[r.jsx(ve,{to:"/login",className:"w-full sm:w-auto",children:r.jsx("button",{className:"w-full sm:w-auto px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all transform hover:scale-105 shadow-lg",children:"免费开始使用"})}),r.jsx(ve,{to:"/pricing",className:"w-full sm:w-auto",children:r.jsx("button",{className:"w-full sm:w-auto px-8 py-4 bg-transparent border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 font-semibold rounded-xl hover:border-blue-500 dark:hover:border-blue-400 transition-colors",children:"查看会员方案"})})]}),r.jsxs("div",{className:"mt-20 mb-16",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"AI策略回测 - 让想法变成盈利"}),r.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:"使用Claude 4先进AI技术，将您的交易想法智能转化为专业策略代码"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center mr-4 flex-shrink-0",children:r.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-bold",children:"1"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:"描述您的策略想法"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:'用自然语言描述您的交易策略思路，比如"当RSI超卖且价格触及支撑位时买入"。 Claude 4能够理解复杂的交易逻辑和技术指标组合。'})]})]}),r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center mr-4 flex-shrink-0",children:r.jsx("span",{className:"text-green-600 dark:text-green-400 font-bold",children:"2"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:"AI智能策略生成"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"AI自动将您的想法转换为专业的Python交易策略代码，包含完整的开仓、平仓、止损止盈逻辑， 支持多种技术指标和风控机制。"})]})]}),r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900 rounded-lg flex items-center justify-center mr-4 flex-shrink-0",children:r.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-bold",children:"3"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:"Tick级别精确回测"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"使用真实的tick级别历史数据进行回测，精确模拟每一笔交易的执行过程， 包含滑点、手续费等真实交易成本，确保回测结果的可靠性。"})]})]}),r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"w-10 h-10 bg-orange-100 dark:bg-orange-900 rounded-lg flex items-center justify-center mr-4 flex-shrink-0",children:r.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-bold",children:"4"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:"一键转实盘运行"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"回测验证策略有效性后，一键部署到实盘交易环境。 平台自动处理API连接、订单执行、风险控制等技术细节，让您专注于策略优化。"})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl p-8 text-white",children:[r.jsx("h3",{className:"text-2xl font-bold mb-6",children:"策略回测报告示例"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{children:"总收益率"}),r.jsx("span",{className:"font-bold text-green-300",children:"+156.8%"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{children:"夏普比率"}),r.jsx("span",{className:"font-bold",children:"2.34"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{children:"最大回撤"}),r.jsx("span",{className:"font-bold text-red-300",children:"-8.5%"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{children:"胜率"}),r.jsx("span",{className:"font-bold",children:"68.2%"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{children:"盈亏比"}),r.jsx("span",{className:"font-bold",children:"2.1:1"})]})]}),r.jsxs("div",{className:"mt-6 p-4 bg-white/10 rounded-lg",children:[r.jsx("p",{className:"text-sm",children:'"该策略在过去12个月的回测中表现优异，具有较低的风险和稳定的收益。建议配置20%的资金进行实盘交易。"'}),r.jsx("p",{className:"text-xs mt-2 opacity-80",children:"— AI策略分析师"})]})]})]})]}),r.jsxs("div",{className:"mt-20 mb-16",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"AI智能分析 - 您的24/7交易顾问"}),r.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:"通过深度学习您的交易行为，构建个性化的智能交易系统"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[r.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-teal-600 rounded-2xl p-8 text-white",children:[r.jsx("h3",{className:"text-2xl font-bold mb-6",children:"AI学习您的交易模式"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-white/10 rounded-lg",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"交易心得记录"}),r.jsx("p",{className:"text-sm opacity-90",children:'"今天在BTCUSDT 45000附近看到双底形态，结合RSI超卖信号， 决定建立多头仓位。设置止损在44500，目标位46500。"'})]}),r.jsxs("div",{className:"p-4 bg-white/10 rounded-lg",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"AI分析反馈"}),r.jsx("p",{className:"text-sm opacity-90",children:'"您偏好在技术形态确认后进场，风险控制意识较强。 建议在类似条件下可以适当加大仓位，历史胜率达72%。"'})]}),r.jsxs("div",{className:"p-4 bg-white/10 rounded-lg",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"交易建议"}),r.jsx("p",{className:"text-sm opacity-90",children:'"当前ETHUSDT出现类似的双底+RSI超卖组合， 基于您的交易风格，建议关注入场机会。"'})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center mr-4 flex-shrink-0",children:r.jsx("span",{className:"text-green-600 dark:text-green-400 font-bold",children:"1"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:"记录交易心得"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"详细记录每次交易的思路、进场逻辑、情绪状态等。 平台支持文字、图片、语音等多种形式，让记录更加便捷真实。"})]})]}),r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center mr-4 flex-shrink-0",children:r.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-bold",children:"2"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:"AI深度学习"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"AI分析您的交易记录，识别成功和失败的交易模式， 学习您的风险偏好、时间习惯、技术分析方法等个性化特征。"})]})]}),r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900 rounded-lg flex items-center justify-center mr-4 flex-shrink-0",children:r.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-bold",children:"3"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:"智能对话分析"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"与AI进行深度对话，讨论市场观点、交易策略、风险控制等。 AI会根据您的历史表现和当前市况，提供个性化的交易建议。"})]})]}),r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"w-10 h-10 bg-orange-100 dark:bg-orange-900 rounded-lg flex items-center justify-center mr-4 flex-shrink-0",children:r.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-bold",children:"4"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:"构建专属交易系统"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"基于学习结果，AI帮助构建符合您交易风格的智能系统， 包括自动监控、风险提醒、交易机会推送等功能。"})]})]})]})]})]}),r.jsxs("div",{className:"mt-20 mb-16",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"会员方案"}),r.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300",children:"选择适合您的专业交易方案，开启AI助力的量化交易之旅"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 border border-gray-200 dark:border-gray-700 transition-colors",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"初级会员"}),r.jsxs("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:["$29",r.jsx("span",{className:"text-lg text-gray-500 dark:text-gray-400",children:"/月"})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"适合交易新手和小资金用户"})]}),r.jsxs("ul",{className:"space-y-3 mb-8",children:[r.jsxs("li",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[r.jsx("svg",{className:"w-5 h-5 mr-3 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"绑定 1 个API密钥"]}),r.jsxs("li",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[r.jsx("svg",{className:"w-5 h-5 mr-3 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"每日 $20 AI对话额度"]}),r.jsxs("li",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[r.jsx("svg",{className:"w-5 h-5 mr-3 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"每日 100次 Tick级回测"]}),r.jsxs("li",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[r.jsx("svg",{className:"w-5 h-5 mr-3 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"无限次K线级回测"]}),r.jsxs("li",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[r.jsx("svg",{className:"w-5 h-5 mr-3 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"1GB 交易心得存储"]})]}),r.jsx("button",{className:"w-full py-3 px-6 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors",children:"选择初级会员"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 border-2 border-blue-500 relative transition-colors",children:[r.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:r.jsx("span",{className:"bg-blue-500 text-white px-6 py-2 rounded-full text-sm font-medium",children:"推荐"})}),r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"高级会员"}),r.jsxs("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:["$99",r.jsx("span",{className:"text-lg text-gray-500 dark:text-gray-400",children:"/月"})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"适合专业交易者和中等资金"})]}),r.jsxs("ul",{className:"space-y-3 mb-8",children:[r.jsxs("li",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[r.jsx("svg",{className:"w-5 h-5 mr-3 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"绑定 5 个API密钥"]}),r.jsxs("li",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[r.jsx("svg",{className:"w-5 h-5 mr-3 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"每日 $100 AI对话额度"]}),r.jsxs("li",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[r.jsx("svg",{className:"w-5 h-5 mr-3 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"每日 500次 Tick级回测"]}),r.jsxs("li",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[r.jsx("svg",{className:"w-5 h-5 mr-3 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"无限次K线级回测"]}),r.jsxs("li",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[r.jsx("svg",{className:"w-5 h-5 mr-3 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"5GB 交易心得存储"]})]}),r.jsx("button",{className:"w-full py-3 px-6 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors",children:"选择高级会员"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 border border-gray-200 dark:border-gray-700 transition-colors",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"专业会员"}),r.jsxs("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:["$199",r.jsx("span",{className:"text-lg text-gray-500 dark:text-gray-400",children:"/月"})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"适合机构交易者和大资金"})]}),r.jsxs("ul",{className:"space-y-3 mb-8",children:[r.jsxs("li",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[r.jsx("svg",{className:"w-5 h-5 mr-3 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"绑定 20 个API密钥"]}),r.jsxs("li",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[r.jsx("svg",{className:"w-5 h-5 mr-3 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"每日 $200 AI对话额度"]}),r.jsxs("li",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[r.jsx("svg",{className:"w-5 h-5 mr-3 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"每日 2000次 Tick级回测"]}),r.jsxs("li",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[r.jsx("svg",{className:"w-5 h-5 mr-3 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"无限次K线级回测"]}),r.jsxs("li",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[r.jsx("svg",{className:"w-5 h-5 mr-3 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"20GB 交易心得存储"]})]}),r.jsx("button",{className:"w-full py-3 px-6 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors",children:"选择专业会员"})]})]}),r.jsx("div",{className:"text-center mt-8",children:r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"所有方案都包含7天免费试用期，不满意可全额退款"})})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"遇到问题？联系我们的专业团队"}),r.jsxs("a",{href:"https://t.me/+K2JBhvnMW2AwNGZl",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white font-medium rounded-lg transition-colors",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 0C5.374 0 0 5.373 0 12s5.374 12 12 12 12-5.373 12-12S18.626 0 12 0zm5.568 8.16l-1.61 7.59c-.12.54-.44.67-.9.42l-2.47-1.82-1.19 1.14c-.13.13-.24.24-.5.24l.18-2.51 4.62-4.18c.2-.18-.04-.28-.32-.1L10.42 13l-2.42-.76c-.53-.16-.54-.53.11-.78l9.46-3.64c.44-.16.82.1.68.78z"})}),"加入 Telegram 群聊"]})]})]})})};var hr=t=>t.type==="checkbox",Zt=t=>t instanceof Date,Pe=t=>t==null;const To=t=>typeof t=="object";var ge=t=>!Pe(t)&&!Array.isArray(t)&&To(t)&&!Zt(t),Zu=t=>ge(t)&&t.target?hr(t.target)?t.target.checked:t.target.value:t,Ku=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Qu=(t,e)=>t.has(Ku(e)),Gu=t=>{const e=t.constructor&&t.constructor.prototype;return ge(e)&&e.hasOwnProperty("isPrototypeOf")},rn=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ke(t){let e;const s=Array.isArray(t),a=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(rn&&(t instanceof Blob||a))&&(s||ge(t)))if(e=s?[]:Object.create(Object.getPrototypeOf(t)),!s&&!Gu(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=ke(t[n]));else return t;return e}var ea=t=>/^\w*$/.test(t),je=t=>t===void 0,an=t=>Array.isArray(t)?t.filter(Boolean):[],nn=t=>an(t.replace(/["|']|\]/g,"").split(/\.|\[/)),W=(t,e,s)=>{if(!e||!ge(t))return s;const a=(ea(e)?[e]:nn(e)).reduce((n,i)=>Pe(n)?n:n[i],t);return je(a)||a===t?je(t[e])?s:t[e]:a},rt=t=>typeof t=="boolean",me=(t,e,s)=>{let a=-1;const n=ea(e)?[e]:nn(e),i=n.length,o=i-1;for(;++a<i;){const l=n[a];let c=s;if(a!==o){const d=t[l];c=ge(d)||Array.isArray(d)?d:isNaN(+n[a+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const zn={BLUR:"blur",FOCUS_OUT:"focusout"},Ge={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},mt={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ju=Ae.createContext(null);Ju.displayName="HookFormContext";var Xu=(t,e,s,a=!0)=>{const n={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(n,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Ge.all&&(e._proxyFormState[o]=!a||Ge.all),t[o]}});return n};const Yu=typeof window<"u"?Ae.useLayoutEffect:Ae.useEffect;var ct=t=>typeof t=="string",eh=(t,e,s,a,n)=>ct(t)?(a&&e.watch.add(t),W(s,t,n)):Array.isArray(t)?t.map(i=>(a&&e.watch.add(i),W(s,i))):(a&&(e.watchAll=!0),s),$a=t=>Pe(t)||!To(t);function At(t,e,s=new WeakSet){if($a(t)||$a(e))return t===e;if(Zt(t)&&Zt(e))return t.getTime()===e.getTime();const a=Object.keys(t),n=Object.keys(e);if(a.length!==n.length)return!1;if(s.has(t)||s.has(e))return!0;s.add(t),s.add(e);for(const i of a){const o=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const l=e[i];if(Zt(o)&&Zt(l)||ge(o)&&ge(l)||Array.isArray(o)&&Array.isArray(l)?!At(o,l,s):o!==l)return!1}}return!0}var Ro=(t,e,s,a,n)=>e?{...s[t],types:{...s[t]&&s[t].types?s[t].types:{},[a]:n||!0}}:{},qs=t=>Array.isArray(t)?t:[t],Vn=()=>{let t=[];return{get observers(){return t},next:n=>{for(const i of t)i.next&&i.next(n)},subscribe:n=>(t.push(n),{unsubscribe:()=>{t=t.filter(i=>i!==n)}}),unsubscribe:()=>{t=[]}}},Me=t=>ge(t)&&!Object.keys(t).length,on=t=>t.type==="file",Je=t=>typeof t=="function",Dr=t=>{if(!rn)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Lo=t=>t.type==="select-multiple",ln=t=>t.type==="radio",th=t=>ln(t)||hr(t),da=t=>Dr(t)&&t.isConnected;function sh(t,e){const s=e.slice(0,-1).length;let a=0;for(;a<s;)t=je(t)?a++:t[e[a++]];return t}function rh(t){for(const e in t)if(t.hasOwnProperty(e)&&!je(t[e]))return!1;return!0}function ye(t,e){const s=Array.isArray(e)?e:ea(e)?[e]:nn(e),a=s.length===1?t:sh(t,s),n=s.length-1,i=s[n];return a&&delete a[i],n!==0&&(ge(a)&&Me(a)||Array.isArray(a)&&rh(a))&&ye(t,s.slice(0,-1)),t}var Oo=t=>{for(const e in t)if(Je(t[e]))return!0;return!1};function Mr(t,e={}){const s=Array.isArray(t);if(ge(t)||s)for(const a in t)Array.isArray(t[a])||ge(t[a])&&!Oo(t[a])?(e[a]=Array.isArray(t[a])?[]:{},Mr(t[a],e[a])):Pe(t[a])||(e[a]=!0);return e}function Po(t,e,s){const a=Array.isArray(t);if(ge(t)||a)for(const n in t)Array.isArray(t[n])||ge(t[n])&&!Oo(t[n])?je(e)||$a(s[n])?s[n]=Array.isArray(t[n])?Mr(t[n],[]):{...Mr(t[n])}:Po(t[n],Pe(e)?{}:e[n],s[n]):s[n]=!At(t[n],e[n]);return s}var Us=(t,e)=>Po(t,e,Mr(e));const Wn={value:!1,isValid:!1},Hn={value:!0,isValid:!0};var Fo=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!je(t[0].attributes.value)?je(t[0].value)||t[0].value===""?Hn:{value:t[0].value,isValid:!0}:Hn:Wn}return Wn},Do=(t,{valueAsNumber:e,valueAsDate:s,setValueAs:a})=>je(t)?t:e?t===""?NaN:t&&+t:s&&ct(t)?new Date(t):a?a(t):t;const qn={isValid:!1,value:null};var Mo=t=>Array.isArray(t)?t.reduce((e,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:e,qn):qn;function Zn(t){const e=t.ref;return on(e)?e.files:ln(e)?Mo(t.refs).value:Lo(e)?[...e.selectedOptions].map(({value:s})=>s):hr(e)?Fo(t.refs).value:Do(je(e.value)?t.ref.value:e.value,t)}var ah=(t,e,s,a)=>{const n={};for(const i of t){const o=W(e,i);o&&me(n,i,o._f)}return{criteriaMode:s,names:[...t],fields:n,shouldUseNativeValidation:a}},Ir=t=>t instanceof RegExp,zs=t=>je(t)?t:Ir(t)?t.source:ge(t)?Ir(t.value)?t.value.source:t.value:t,Kn=t=>({isOnSubmit:!t||t===Ge.onSubmit,isOnBlur:t===Ge.onBlur,isOnChange:t===Ge.onChange,isOnAll:t===Ge.all,isOnTouch:t===Ge.onTouched});const Qn="AsyncFunction";var nh=t=>!!t&&!!t.validate&&!!(Je(t.validate)&&t.validate.constructor.name===Qn||ge(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Qn)),ih=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Gn=(t,e,s)=>!s&&(e.watchAll||e.watch.has(t)||[...e.watch].some(a=>t.startsWith(a)&&/^\.\w+/.test(t.slice(a.length))));const Zs=(t,e,s,a)=>{for(const n of s||Object.keys(t)){const i=W(t,n);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],n)&&!a)return!0;if(o.ref&&e(o.ref,o.name)&&!a)return!0;if(Zs(l,e))break}else if(ge(l)&&Zs(l,e))break}}};function Jn(t,e,s){const a=W(t,s);if(a||ea(s))return{error:a,name:s};const n=s.split(".");for(;n.length;){const i=n.join("."),o=W(e,i),l=W(t,i);if(o&&!Array.isArray(o)&&s!==i)return{name:s};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};n.pop()}return{name:s}}var oh=(t,e,s,a)=>{s(t);const{name:n,...i}=t;return Me(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!a||Ge.all))},lh=(t,e,s)=>!t||!e||t===e||qs(t).some(a=>a&&(s?a===e:a.startsWith(e)||e.startsWith(a))),ch=(t,e,s,a,n)=>n.isOnAll?!1:!s&&n.isOnTouch?!(e||t):(s?a.isOnBlur:n.isOnBlur)?!t:(s?a.isOnChange:n.isOnChange)?t:!0,dh=(t,e)=>!an(W(t,e)).length&&ye(t,e),uh=(t,e,s)=>{const a=qs(W(t,s));return me(a,"root",e[s]),me(t,s,a),t},Tr=t=>ct(t);function Xn(t,e,s="validate"){if(Tr(t)||Array.isArray(t)&&t.every(Tr)||rt(t)&&!t)return{type:s,message:Tr(t)?t:"",ref:e}}var ds=t=>ge(t)&&!Ir(t)?t:{value:t,message:""},Yn=async(t,e,s,a,n,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:m,max:g,pattern:k,validate:N,name:b,valueAsNumber:p,mount:E}=t._f,f=W(s,b);if(!E||e.has(b))return{};const j=l?l[0]:o,w=y=>{n&&j.reportValidity&&(j.setCustomValidity(rt(y)?"":y||""),j.reportValidity())},A={},Z=ln(o),B=hr(o),Q=Z||B,G=(p||on(o))&&je(o.value)&&je(f)||Dr(o)&&o.value===""||f===""||Array.isArray(f)&&!f.length,te=Ro.bind(null,b,a,A),oe=(y,T,M,X=mt.maxLength,ae=mt.minLength)=>{const fe=y?T:M;A[b]={type:y?X:ae,message:fe,ref:o,...te(y?X:ae,fe)}};if(i?!Array.isArray(f)||!f.length:c&&(!Q&&(G||Pe(f))||rt(f)&&!f||B&&!Fo(l).isValid||Z&&!Mo(l).isValid)){const{value:y,message:T}=Tr(c)?{value:!!c,message:c}:ds(c);if(y&&(A[b]={type:mt.required,message:T,ref:j,...te(mt.required,T)},!a))return w(T),A}if(!G&&(!Pe(m)||!Pe(g))){let y,T;const M=ds(g),X=ds(m);if(!Pe(f)&&!isNaN(f)){const ae=o.valueAsNumber||f&&+f;Pe(M.value)||(y=ae>M.value),Pe(X.value)||(T=ae<X.value)}else{const ae=o.valueAsDate||new Date(f),fe=et=>new Date(new Date().toDateString()+" "+et),z=o.type=="time",_e=o.type=="week";ct(M.value)&&f&&(y=z?fe(f)>fe(M.value):_e?f>M.value:ae>new Date(M.value)),ct(X.value)&&f&&(T=z?fe(f)<fe(X.value):_e?f<X.value:ae<new Date(X.value))}if((y||T)&&(oe(!!y,M.message,X.message,mt.max,mt.min),!a))return w(A[b].message),A}if((d||u)&&!G&&(ct(f)||i&&Array.isArray(f))){const y=ds(d),T=ds(u),M=!Pe(y.value)&&f.length>+y.value,X=!Pe(T.value)&&f.length<+T.value;if((M||X)&&(oe(M,y.message,T.message),!a))return w(A[b].message),A}if(k&&!G&&ct(f)){const{value:y,message:T}=ds(k);if(Ir(y)&&!f.match(y)&&(A[b]={type:mt.pattern,message:T,ref:o,...te(mt.pattern,T)},!a))return w(T),A}if(N){if(Je(N)){const y=await N(f,s),T=Xn(y,j);if(T&&(A[b]={...T,...te(mt.validate,T.message)},!a))return w(T.message),A}else if(ge(N)){let y={};for(const T in N){if(!Me(y)&&!a)break;const M=Xn(await N[T](f,s),j,T);M&&(y={...M,...te(T,M.message)},w(M.message),a&&(A[b]=y))}if(!Me(y)&&(A[b]={ref:j,...y},!a))return A}}return w(!0),A};const hh={mode:Ge.onSubmit,reValidateMode:Ge.onChange,shouldFocusError:!0};function mh(t={}){let e={...hh,...t},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:Je(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},a={},n=ge(e.defaultValues)||ge(e.values)?ke(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:ke(n),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...u};const g={array:Vn(),state:Vn()},k=e.criteriaMode===Ge.all,N=h=>v=>{clearTimeout(d),d=setTimeout(h,v)},b=async h=>{if(!e.disabled&&(u.isValid||m.isValid||h)){const v=e.resolver?Me((await B()).errors):await G(a,!0);v!==s.isValid&&g.state.next({isValid:v})}},p=(h,v)=>{!e.disabled&&(u.isValidating||u.validatingFields||m.isValidating||m.validatingFields)&&((h||Array.from(l.mount)).forEach(C=>{C&&(v?me(s.validatingFields,C,v):ye(s.validatingFields,C))}),g.state.next({validatingFields:s.validatingFields,isValidating:!Me(s.validatingFields)}))},E=(h,v=[],C,R,O=!0,P=!0)=>{if(R&&C&&!e.disabled){if(o.action=!0,P&&Array.isArray(W(a,h))){const K=C(W(a,h),R.argA,R.argB);O&&me(a,h,K)}if(P&&Array.isArray(W(s.errors,h))){const K=C(W(s.errors,h),R.argA,R.argB);O&&me(s.errors,h,K),dh(s.errors,h)}if((u.touchedFields||m.touchedFields)&&P&&Array.isArray(W(s.touchedFields,h))){const K=C(W(s.touchedFields,h),R.argA,R.argB);O&&me(s.touchedFields,h,K)}(u.dirtyFields||m.dirtyFields)&&(s.dirtyFields=Us(n,i)),g.state.next({name:h,isDirty:oe(h,v),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else me(i,h,v)},f=(h,v)=>{me(s.errors,h,v),g.state.next({errors:s.errors})},j=h=>{s.errors=h,g.state.next({errors:s.errors,isValid:!1})},w=(h,v,C,R)=>{const O=W(a,h);if(O){const P=W(i,h,je(C)?W(n,h):C);je(P)||R&&R.defaultChecked||v?me(i,h,v?P:Zn(O._f)):M(h,P),o.mount&&b()}},A=(h,v,C,R,O)=>{let P=!1,K=!1;const le={name:h};if(!e.disabled){if(!C||R){(u.isDirty||m.isDirty)&&(K=s.isDirty,s.isDirty=le.isDirty=oe(),P=K!==le.isDirty);const he=At(W(n,h),v);K=!!W(s.dirtyFields,h),he?ye(s.dirtyFields,h):me(s.dirtyFields,h,!0),le.dirtyFields=s.dirtyFields,P=P||(u.dirtyFields||m.dirtyFields)&&K!==!he}if(C){const he=W(s.touchedFields,h);he||(me(s.touchedFields,h,C),le.touchedFields=s.touchedFields,P=P||(u.touchedFields||m.touchedFields)&&he!==C)}P&&O&&g.state.next(le)}return P?le:{}},Z=(h,v,C,R)=>{const O=W(s.errors,h),P=(u.isValid||m.isValid)&&rt(v)&&s.isValid!==v;if(e.delayError&&C?(c=N(()=>f(h,C)),c(e.delayError)):(clearTimeout(d),c=null,C?me(s.errors,h,C):ye(s.errors,h)),(C?!At(O,C):O)||!Me(R)||P){const K={...R,...P&&rt(v)?{isValid:v}:{},errors:s.errors,name:h};s={...s,...K},g.state.next(K)}},B=async h=>{p(h,!0);const v=await e.resolver(i,e.context,ah(h||l.mount,a,e.criteriaMode,e.shouldUseNativeValidation));return p(h),v},Q=async h=>{const{errors:v}=await B(h);if(h)for(const C of h){const R=W(v,C);R?me(s.errors,C,R):ye(s.errors,C)}else s.errors=v;return v},G=async(h,v,C={valid:!0})=>{for(const R in h){const O=h[R];if(O){const{_f:P,...K}=O;if(P){const le=l.array.has(P.name),he=O._f&&nh(O._f);he&&u.validatingFields&&p([R],!0);const Fe=await Yn(O,l.disabled,i,k,e.shouldUseNativeValidation&&!v,le);if(he&&u.validatingFields&&p([R]),Fe[P.name]&&(C.valid=!1,v))break;!v&&(W(Fe,P.name)?le?uh(s.errors,Fe,P.name):me(s.errors,P.name,Fe[P.name]):ye(s.errors,P.name))}!Me(K)&&await G(K,v,C)}}return C.valid},te=()=>{for(const h of l.unMount){const v=W(a,h);v&&(v._f.refs?v._f.refs.every(C=>!da(C)):!da(v._f.ref))&&vt(h)}l.unMount=new Set},oe=(h,v)=>!e.disabled&&(h&&v&&me(i,h,v),!At(et(),n)),y=(h,v,C)=>eh(h,l,{...o.mount?i:je(v)?n:ct(h)?{[h]:v}:v},C,v),T=h=>an(W(o.mount?i:n,h,e.shouldUnregister?W(n,h,[]):[])),M=(h,v,C={})=>{const R=W(a,h);let O=v;if(R){const P=R._f;P&&(!P.disabled&&me(i,h,Do(v,P)),O=Dr(P.ref)&&Pe(v)?"":v,Lo(P.ref)?[...P.ref.options].forEach(K=>K.selected=O.includes(K.value)):P.refs?hr(P.ref)?P.refs.forEach(K=>{(!K.defaultChecked||!K.disabled)&&(Array.isArray(O)?K.checked=!!O.find(le=>le===K.value):K.checked=O===K.value||!!O)}):P.refs.forEach(K=>K.checked=K.value===O):on(P.ref)?P.ref.value="":(P.ref.value=O,P.ref.type||g.state.next({name:h,values:ke(i)})))}(C.shouldDirty||C.shouldTouch)&&A(h,O,C.shouldTouch,C.shouldDirty,!0),C.shouldValidate&&_e(h)},X=(h,v,C)=>{for(const R in v){if(!v.hasOwnProperty(R))return;const O=v[R],P=h+"."+R,K=W(a,P);(l.array.has(h)||ge(O)||K&&!K._f)&&!Zt(O)?X(P,O,C):M(P,O,C)}},ae=(h,v,C={})=>{const R=W(a,h),O=l.array.has(h),P=ke(v);me(i,h,P),O?(g.array.next({name:h,values:ke(i)}),(u.isDirty||u.dirtyFields||m.isDirty||m.dirtyFields)&&C.shouldDirty&&g.state.next({name:h,dirtyFields:Us(n,i),isDirty:oe(h,P)})):R&&!R._f&&!Pe(P)?X(h,P,C):M(h,P,C),Gn(h,l)&&g.state.next({...s,name:h}),g.state.next({name:o.mount?h:void 0,values:ke(i)})},fe=async h=>{o.mount=!0;const v=h.target;let C=v.name,R=!0;const O=W(a,C),P=he=>{R=Number.isNaN(he)||Zt(he)&&isNaN(he.getTime())||At(he,W(i,C,he))},K=Kn(e.mode),le=Kn(e.reValidateMode);if(O){let he,Fe;const ls=v.type?Zn(O._f):Zu(h),jt=h.type===zn.BLUR||h.type===zn.FOCUS_OUT,Vo=!ih(O._f)&&!e.resolver&&!W(s.errors,C)&&!O._f.deps||ch(jt,W(s.touchedFields,C),s.isSubmitted,le,K),ra=Gn(C,l,jt);me(i,C,ls),jt?(!v||!v.readOnly)&&(O._f.onBlur&&O._f.onBlur(h),c&&c(0)):O._f.onChange&&O._f.onChange(h);const aa=A(C,ls,jt),Wo=!Me(aa)||ra;if(!jt&&g.state.next({name:C,type:h.type,values:ke(i)}),Vo)return(u.isValid||m.isValid)&&(e.mode==="onBlur"?jt&&b():jt||b()),Wo&&g.state.next({name:C,...ra?{}:aa});if(!jt&&ra&&g.state.next({...s}),e.resolver){const{errors:un}=await B([C]);if(P(ls),R){const Ho=Jn(s.errors,a,C),hn=Jn(un,a,Ho.name||C);he=hn.error,C=hn.name,Fe=Me(un)}}else p([C],!0),he=(await Yn(O,l.disabled,i,k,e.shouldUseNativeValidation))[C],p([C]),P(ls),R&&(he?Fe=!1:(u.isValid||m.isValid)&&(Fe=await G(a,!0)));R&&(O._f.deps&&_e(O._f.deps),Z(C,Fe,he,aa))}},z=(h,v)=>{if(W(s.errors,v)&&h.focus)return h.focus(),1},_e=async(h,v={})=>{let C,R;const O=qs(h);if(e.resolver){const P=await Q(je(h)?h:O);C=Me(P),R=h?!O.some(K=>W(P,K)):C}else h?(R=(await Promise.all(O.map(async P=>{const K=W(a,P);return await G(K&&K._f?{[P]:K}:K)}))).every(Boolean),!(!R&&!s.isValid)&&b()):R=C=await G(a);return g.state.next({...!ct(h)||(u.isValid||m.isValid)&&C!==s.isValid?{}:{name:h},...e.resolver||!h?{isValid:C}:{},errors:s.errors}),v.shouldFocus&&!R&&Zs(a,z,h?O:l.mount),R},et=h=>{const v={...o.mount?i:n};return je(h)?v:ct(h)?W(v,h):h.map(C=>W(v,C))},is=(h,v)=>({invalid:!!W((v||s).errors,h),isDirty:!!W((v||s).dirtyFields,h),error:W((v||s).errors,h),isValidating:!!W(s.validatingFields,h),isTouched:!!W((v||s).touchedFields,h)}),Ce=h=>{h&&qs(h).forEach(v=>ye(s.errors,v)),g.state.next({errors:h?s.errors:{}})},ze=(h,v,C)=>{const R=(W(a,h,{_f:{}})._f||{}).ref,O=W(s.errors,h)||{},{ref:P,message:K,type:le,...he}=O;me(s.errors,h,{...he,...v,ref:R}),g.state.next({name:h,errors:s.errors,isValid:!1}),C&&C.shouldFocus&&R&&R.focus&&R.focus()},Fs=(h,v)=>Je(h)?g.state.subscribe({next:C=>"values"in C&&h(y(void 0,v),C)}):y(h,v,!0),Ds=h=>g.state.subscribe({next:v=>{lh(h.name,v.name,h.exact)&&oh(v,h.formState||u,jr,h.reRenderRoot)&&h.callback({values:{...i},...s,...v,defaultValues:n})}}).unsubscribe,ta=h=>(o.mount=!0,m={...m,...h.formState},Ds({...h,formState:m})),vt=(h,v={})=>{for(const C of h?qs(h):l.mount)l.mount.delete(C),l.array.delete(C),v.keepValue||(ye(a,C),ye(i,C)),!v.keepError&&ye(s.errors,C),!v.keepDirty&&ye(s.dirtyFields,C),!v.keepTouched&&ye(s.touchedFields,C),!v.keepIsValidating&&ye(s.validatingFields,C),!e.shouldUnregister&&!v.keepDefaultValue&&ye(n,C);g.state.next({values:ke(i)}),g.state.next({...s,...v.keepDirty?{isDirty:oe()}:{}}),!v.keepIsValid&&b()},xr=({disabled:h,name:v})=>{(rt(h)&&o.mount||h||l.disabled.has(v))&&(h?l.disabled.add(v):l.disabled.delete(v))},os=(h,v={})=>{let C=W(a,h);const R=rt(v.disabled)||rt(e.disabled);return me(a,h,{...C||{},_f:{...C&&C._f?C._f:{ref:{name:h}},name:h,mount:!0,...v}}),l.mount.add(h),C?xr({disabled:rt(v.disabled)?v.disabled:e.disabled,name:h}):w(h,!0,v.value),{...R?{disabled:v.disabled||e.disabled}:{},...e.progressive?{required:!!v.required,min:zs(v.min),max:zs(v.max),minLength:zs(v.minLength),maxLength:zs(v.maxLength),pattern:zs(v.pattern)}:{},name:h,onChange:fe,onBlur:fe,ref:O=>{if(O){os(h,v),C=W(a,h);const P=je(O.value)&&O.querySelectorAll&&O.querySelectorAll("input,select,textarea")[0]||O,K=th(P),le=C._f.refs||[];if(K?le.find(he=>he===P):P===C._f.ref)return;me(a,h,{_f:{...C._f,...K?{refs:[...le.filter(da),P,...Array.isArray(W(n,h))?[{}]:[]],ref:{type:P.type,name:h}}:{ref:P}}}),w(h,!1,void 0,P)}else C=W(a,h,{}),C._f&&(C._f.mount=!1),(e.shouldUnregister||v.shouldUnregister)&&!(Qu(l.array,h)&&o.action)&&l.unMount.add(h)}}},Ms=()=>e.shouldFocusError&&Zs(a,z,l.mount),gr=h=>{rt(h)&&(g.state.next({disabled:h}),Zs(a,(v,C)=>{const R=W(a,C);R&&(v.disabled=R._f.disabled||h,Array.isArray(R._f.refs)&&R._f.refs.forEach(O=>{O.disabled=R._f.disabled||h}))},0,!1))},Is=(h,v)=>async C=>{let R;C&&(C.preventDefault&&C.preventDefault(),C.persist&&C.persist());let O=ke(i);if(g.state.next({isSubmitting:!0}),e.resolver){const{errors:P,values:K}=await B();s.errors=P,O=ke(K)}else await G(a);if(l.disabled.size)for(const P of l.disabled)ye(O,P);if(ye(s.errors,"root"),Me(s.errors)){g.state.next({errors:{}});try{await h(O,C)}catch(P){R=P}}else v&&await v({...s.errors},C),Ms(),setTimeout(Ms);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Me(s.errors)&&!R,submitCount:s.submitCount+1,errors:s.errors}),R)throw R},pr=(h,v={})=>{W(a,h)&&(je(v.defaultValue)?ae(h,ke(W(n,h))):(ae(h,v.defaultValue),me(n,h,ke(v.defaultValue))),v.keepTouched||ye(s.touchedFields,h),v.keepDirty||(ye(s.dirtyFields,h),s.isDirty=v.defaultValue?oe(h,ke(W(n,h))):oe()),v.keepError||(ye(s.errors,h),u.isValid&&b()),g.state.next({...s}))},yr=(h,v={})=>{const C=h?ke(h):n,R=ke(C),O=Me(h),P=O?n:R;if(v.keepDefaultValues||(n=C),!v.keepValues){if(v.keepDirtyValues){const K=new Set([...l.mount,...Object.keys(Us(n,i))]);for(const le of Array.from(K))W(s.dirtyFields,le)?me(P,le,W(i,le)):ae(le,W(P,le))}else{if(rn&&je(h))for(const K of l.mount){const le=W(a,K);if(le&&le._f){const he=Array.isArray(le._f.refs)?le._f.refs[0]:le._f.ref;if(Dr(he)){const Fe=he.closest("form");if(Fe){Fe.reset();break}}}}if(v.keepFieldsRef)for(const K of l.mount)ae(K,W(P,K));else a={}}i=e.shouldUnregister?v.keepDefaultValues?ke(n):{}:ke(P),g.array.next({values:{...P}}),g.state.next({values:{...P}})}l={mount:v.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!v.keepIsValid||!!v.keepDirtyValues,o.watch=!!e.shouldUnregister,g.state.next({submitCount:v.keepSubmitCount?s.submitCount:0,isDirty:O?!1:v.keepDirty?s.isDirty:!!(v.keepDefaultValues&&!At(h,n)),isSubmitted:v.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:O?{}:v.keepDirtyValues?v.keepDefaultValues&&i?Us(n,i):s.dirtyFields:v.keepDefaultValues&&h?Us(n,h):v.keepDirty?s.dirtyFields:{},touchedFields:v.keepTouched?s.touchedFields:{},errors:v.keepErrors?s.errors:{},isSubmitSuccessful:v.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:n})},br=(h,v)=>yr(Je(h)?h(i):h,v),vr=(h,v={})=>{const C=W(a,h),R=C&&C._f;if(R){const O=R.refs?R.refs[0]:R.ref;O.focus&&(O.focus(),v.shouldSelect&&Je(O.select)&&O.select())}},jr=h=>{s={...s,...h}},Bs={control:{register:os,unregister:vt,getFieldState:is,handleSubmit:Is,setError:ze,_subscribe:Ds,_runSchema:B,_focusError:Ms,_getWatch:y,_getDirty:oe,_setValid:b,_setFieldArray:E,_setDisabledField:xr,_setErrors:j,_getFieldArray:T,_reset:yr,_resetDefaultValues:()=>Je(e.defaultValues)&&e.defaultValues().then(h=>{br(h,e.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:te,_disableForm:gr,_subjects:g,_proxyFormState:u,get _fields(){return a},get _formValues(){return i},get _state(){return o},set _state(h){o=h},get _defaultValues(){return n},get _names(){return l},set _names(h){l=h},get _formState(){return s},get _options(){return e},set _options(h){e={...e,...h}}},subscribe:ta,trigger:_e,register:os,handleSubmit:Is,watch:Fs,setValue:ae,getValues:et,reset:br,resetField:pr,clearErrors:Ce,unregister:vt,setError:ze,setFocus:vr,getFieldState:is};return{...Bs,formControl:Bs}}function fh(t={}){const e=Ae.useRef(void 0),s=Ae.useRef(void 0),[a,n]=Ae.useState({isDirty:!1,isValidating:!1,isLoading:Je(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Je(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:a},t.defaultValues&&!Je(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...l}=mh(t);e.current={...l,formState:a}}const i=e.current.control;return i._options=t,Yu(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0});return n(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),Ae.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Ae.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),Ae.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),Ae.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),Ae.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==a.isDirty&&i._subjects.state.next({isDirty:o})}},[i,a.isDirty]),Ae.useEffect(()=>{t.values&&!At(t.values,s.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),s.current=t.values,n(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),Ae.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=Xu(a,i),e.current}const ei=(t,e,s)=>{if(t&&"reportValidity"in t){const a=W(s,e);t.setCustomValidity(a&&a.message||""),t.reportValidity()}},Io=(t,e)=>{for(const s in e.fields){const a=e.fields[s];a&&a.ref&&"reportValidity"in a.ref?ei(a.ref,s,t):a.refs&&a.refs.forEach(n=>ei(n,s,t))}},xh=(t,e)=>{e.shouldUseNativeValidation&&Io(t,e);const s={};for(const a in t){const n=W(e.fields,a),i=Object.assign(t[a]||{},{ref:n&&n.ref});if(gh(e.names||Object.keys(t),a)){const o=Object.assign({},W(s,a));me(o,"root",i),me(s,a,o)}else me(s,a,i)}return s},gh=(t,e)=>t.some(s=>s.startsWith(e+"."));var ph=function(t,e){for(var s={};t.length;){var a=t[0],n=a.code,i=a.message,o=a.path.join(".");if(!s[o])if("unionErrors"in a){var l=a.unionErrors[0].errors[0];s[o]={message:l.message,type:l.code}}else s[o]={message:i,type:n};if("unionErrors"in a&&a.unionErrors.forEach(function(u){return u.errors.forEach(function(m){return t.push(m)})}),e){var c=s[o].types,d=c&&c[a.code];s[o]=Ro(o,e,s,n,d?[].concat(d,a.message):a.message)}t.shift()}return s},yh=function(t,e,s){return s===void 0&&(s={}),function(a,n,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[s.mode==="sync"?"parse":"parseAsync"](a,e)).then(function(d){return i.shouldUseNativeValidation&&Io({},i),{errors:{},values:s.raw?a:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:xh(ph(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},de;(function(t){t.assertEqual=n=>{};function e(n){}t.assertIs=e;function s(n){throw new Error}t.assertNever=s,t.arrayToEnum=n=>{const i={};for(const o of n)i[o]=o;return i},t.getValidEnumValues=n=>{const i=t.objectKeys(n).filter(l=>typeof n[n[l]]!="number"),o={};for(const l of i)o[l]=n[l];return t.objectValues(o)},t.objectValues=n=>t.objectKeys(n).map(function(i){return n[i]}),t.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const i=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.push(o);return i},t.find=(n,i)=>{for(const o of n)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function a(n,i=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=a,t.jsonStringifyReplacer=(n,i)=>typeof i=="bigint"?i.toString():i})(de||(de={}));var ti;(function(t){t.mergeShapes=(e,s)=>({...e,...s})})(ti||(ti={}));const H=de.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),_t=t=>{switch(typeof t){case"undefined":return H.undefined;case"string":return H.string;case"number":return Number.isNaN(t)?H.nan:H.number;case"boolean":return H.boolean;case"function":return H.function;case"bigint":return H.bigint;case"symbol":return H.symbol;case"object":return Array.isArray(t)?H.array:t===null?H.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?H.promise:typeof Map<"u"&&t instanceof Map?H.map:typeof Set<"u"&&t instanceof Set?H.set:typeof Date<"u"&&t instanceof Date?H.date:H.object;default:return H.unknown}},L=de.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class bt extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=e}format(e){const s=e||function(i){return i.message},a={_errors:[]},n=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)a._errors.push(s(o));else{let l=a,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(s(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return n(this),a}static assert(e){if(!(e instanceof bt))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,de.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=s=>s.message){const s={},a=[];for(const n of this.issues)if(n.path.length>0){const i=n.path[0];s[i]=s[i]||[],s[i].push(e(n))}else a.push(e(n));return{formErrors:a,fieldErrors:s}}get formErrors(){return this.flatten()}}bt.create=t=>new bt(t);const Ua=(t,e)=>{let s;switch(t.code){case L.invalid_type:t.received===H.undefined?s="Required":s=`Expected ${t.expected}, received ${t.received}`;break;case L.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(t.expected,de.jsonStringifyReplacer)}`;break;case L.unrecognized_keys:s=`Unrecognized key(s) in object: ${de.joinValues(t.keys,", ")}`;break;case L.invalid_union:s="Invalid input";break;case L.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${de.joinValues(t.options)}`;break;case L.invalid_enum_value:s=`Invalid enum value. Expected ${de.joinValues(t.options)}, received '${t.received}'`;break;case L.invalid_arguments:s="Invalid function arguments";break;case L.invalid_return_type:s="Invalid function return type";break;case L.invalid_date:s="Invalid date";break;case L.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(s=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?s=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?s=`Invalid input: must end with "${t.validation.endsWith}"`:de.assertNever(t.validation):t.validation!=="regex"?s=`Invalid ${t.validation}`:s="Invalid";break;case L.too_small:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:s="Invalid input";break;case L.too_big:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?s=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:s="Invalid input";break;case L.custom:s="Invalid input";break;case L.invalid_intersection_types:s="Intersection results could not be merged";break;case L.not_multiple_of:s=`Number must be a multiple of ${t.multipleOf}`;break;case L.not_finite:s="Number must be finite";break;default:s=e.defaultError,de.assertNever(t)}return{message:s}};let bh=Ua;function vh(){return bh}const jh=t=>{const{data:e,path:s,errorMaps:a,issueData:n}=t,i=[...s,...n.path||[]],o={...n,path:i};if(n.message!==void 0)return{...n,path:i,message:n.message};let l="";const c=a.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...n,path:i,message:l}};function $(t,e){const s=vh(),a=jh({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,s,s===Ua?void 0:Ua].filter(n=>!!n)});t.common.issues.push(a)}class Ve{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,s){const a=[];for(const n of s){if(n.status==="aborted")return Y;n.status==="dirty"&&e.dirty(),a.push(n.value)}return{status:e.value,value:a}}static async mergeObjectAsync(e,s){const a=[];for(const n of s){const i=await n.key,o=await n.value;a.push({key:i,value:o})}return Ve.mergeObjectSync(e,a)}static mergeObjectSync(e,s){const a={};for(const n of s){const{key:i,value:o}=n;if(i.status==="aborted"||o.status==="aborted")return Y;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(a[i.value]=o.value)}return{status:e.value,value:a}}}const Y=Object.freeze({status:"aborted"}),Hs=t=>({status:"dirty",value:t}),Ze=t=>({status:"valid",value:t}),si=t=>t.status==="aborted",ri=t=>t.status==="dirty",Cs=t=>t.status==="valid",Br=t=>typeof Promise<"u"&&t instanceof Promise;var q;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(q||(q={}));class $t{constructor(e,s,a,n){this._cachedPath=[],this.parent=e,this.data=s,this._path=a,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ai=(t,e)=>{if(Cs(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new bt(t.common.issues);return this._error=s,this._error}}};function re(t){if(!t)return{};const{errorMap:e,invalid_type_error:s,required_error:a,description:n}=t;if(e&&(s||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??a??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??s??l.defaultError}},description:n}}class ce{get description(){return this._def.description}_getType(e){return _t(e.data)}_getOrReturnCtx(e,s){return s||{common:e.parent.common,data:e.data,parsedType:_t(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ve,ctx:{common:e.parent.common,data:e.data,parsedType:_t(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const s=this._parse(e);if(Br(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(e){const s=this._parse(e);return Promise.resolve(s)}parse(e,s){const a=this.safeParse(e,s);if(a.success)return a.data;throw a.error}safeParse(e,s){const a={common:{issues:[],async:(s==null?void 0:s.async)??!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_t(e)},n=this._parseSync({data:e,path:a.path,parent:a});return ai(a,n)}"~validate"(e){var a,n;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_t(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return Cs(i)?{value:i.value}:{issues:s.common.issues}}catch(i){(n=(a=i==null?void 0:i.message)==null?void 0:a.toLowerCase())!=null&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>Cs(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,s){const a=await this.safeParseAsync(e,s);if(a.success)return a.data;throw a.error}async safeParseAsync(e,s){const a={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_t(e)},n=this._parse({data:e,path:a.path,parent:a}),i=await(Br(n)?n:Promise.resolve(n));return ai(a,i)}refine(e,s){const a=n=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(n):s;return this._refinement((n,i)=>{const o=e(n),l=()=>i.addIssue({code:L.custom,...a(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,s){return this._refinement((a,n)=>e(a)?!0:(n.addIssue(typeof s=="function"?s(a,n):s),!1))}_refinement(e){return new Es({schema:this,typeName:ee.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return It.create(this,this._def)}nullable(){return Ts.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ut.create(this)}promise(){return Vr.create(this,this._def)}or(e){return Ur.create([this,e],this._def)}and(e){return zr.create(this,e,this._def)}transform(e){return new Es({...re(this._def),schema:this,typeName:ee.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const s=typeof e=="function"?e:()=>e;return new Va({...re(this._def),innerType:this,defaultValue:s,typeName:ee.ZodDefault})}brand(){return new Wh({typeName:ee.ZodBranded,type:this,...re(this._def)})}catch(e){const s=typeof e=="function"?e:()=>e;return new Wa({...re(this._def),innerType:this,catchValue:s,typeName:ee.ZodCatch})}describe(e){const s=this.constructor;return new s({...this._def,description:e})}pipe(e){return cn.create(this,e)}readonly(){return Ha.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const wh=/^c[^\s-]{8,}$/i,Nh=/^[0-9a-z]+$/,kh=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Sh=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_h=/^[a-z0-9_-]{21}$/i,Ch=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Ah=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Eh=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Th="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ua;const Rh=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Lh=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Oh=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Ph=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Fh=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Dh=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Bo="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Mh=new RegExp(`^${Bo}$`);function $o(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const s=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${s}`}function Ih(t){return new RegExp(`^${$o(t)}$`)}function Bh(t){let e=`${Bo}T${$o(t)}`;const s=[];return s.push(t.local?"Z?":"Z"),t.offset&&s.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${s.join("|")})`,new RegExp(`^${e}$`)}function $h(t,e){return!!((e==="v4"||!e)&&Rh.test(t)||(e==="v6"||!e)&&Oh.test(t))}function Uh(t,e){if(!Ch.test(t))return!1;try{const[s]=t.split(".");if(!s)return!1;const a=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),n=JSON.parse(atob(a));return!(typeof n!="object"||n===null||"typ"in n&&(n==null?void 0:n.typ)!=="JWT"||!n.alg||e&&n.alg!==e)}catch{return!1}}function zh(t,e){return!!((e==="v4"||!e)&&Lh.test(t)||(e==="v6"||!e)&&Ph.test(t))}class Dt extends ce{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==H.string){const i=this._getOrReturnCtx(e);return $(i,{code:L.invalid_type,expected:H.string,received:i.parsedType}),Y}const a=new Ve;let n;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),$(n,{code:L.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="max")e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),$(n,{code:L.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,l=e.data.length<i.value;(o||l)&&(n=this._getOrReturnCtx(e,n),o?$(n,{code:L.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&$(n,{code:L.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),a.dirty())}else if(i.kind==="email")Eh.test(e.data)||(n=this._getOrReturnCtx(e,n),$(n,{validation:"email",code:L.invalid_string,message:i.message}),a.dirty());else if(i.kind==="emoji")ua||(ua=new RegExp(Th,"u")),ua.test(e.data)||(n=this._getOrReturnCtx(e,n),$(n,{validation:"emoji",code:L.invalid_string,message:i.message}),a.dirty());else if(i.kind==="uuid")Sh.test(e.data)||(n=this._getOrReturnCtx(e,n),$(n,{validation:"uuid",code:L.invalid_string,message:i.message}),a.dirty());else if(i.kind==="nanoid")_h.test(e.data)||(n=this._getOrReturnCtx(e,n),$(n,{validation:"nanoid",code:L.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid")wh.test(e.data)||(n=this._getOrReturnCtx(e,n),$(n,{validation:"cuid",code:L.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid2")Nh.test(e.data)||(n=this._getOrReturnCtx(e,n),$(n,{validation:"cuid2",code:L.invalid_string,message:i.message}),a.dirty());else if(i.kind==="ulid")kh.test(e.data)||(n=this._getOrReturnCtx(e,n),$(n,{validation:"ulid",code:L.invalid_string,message:i.message}),a.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),$(n,{validation:"url",code:L.invalid_string,message:i.message}),a.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),$(n,{validation:"regex",code:L.invalid_string,message:i.message}),a.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),$(n,{code:L.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),a.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),$(n,{code:L.invalid_string,validation:{startsWith:i.value},message:i.message}),a.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),$(n,{code:L.invalid_string,validation:{endsWith:i.value},message:i.message}),a.dirty()):i.kind==="datetime"?Bh(i).test(e.data)||(n=this._getOrReturnCtx(e,n),$(n,{code:L.invalid_string,validation:"datetime",message:i.message}),a.dirty()):i.kind==="date"?Mh.test(e.data)||(n=this._getOrReturnCtx(e,n),$(n,{code:L.invalid_string,validation:"date",message:i.message}),a.dirty()):i.kind==="time"?Ih(i).test(e.data)||(n=this._getOrReturnCtx(e,n),$(n,{code:L.invalid_string,validation:"time",message:i.message}),a.dirty()):i.kind==="duration"?Ah.test(e.data)||(n=this._getOrReturnCtx(e,n),$(n,{validation:"duration",code:L.invalid_string,message:i.message}),a.dirty()):i.kind==="ip"?$h(e.data,i.version)||(n=this._getOrReturnCtx(e,n),$(n,{validation:"ip",code:L.invalid_string,message:i.message}),a.dirty()):i.kind==="jwt"?Uh(e.data,i.alg)||(n=this._getOrReturnCtx(e,n),$(n,{validation:"jwt",code:L.invalid_string,message:i.message}),a.dirty()):i.kind==="cidr"?zh(e.data,i.version)||(n=this._getOrReturnCtx(e,n),$(n,{validation:"cidr",code:L.invalid_string,message:i.message}),a.dirty()):i.kind==="base64"?Fh.test(e.data)||(n=this._getOrReturnCtx(e,n),$(n,{validation:"base64",code:L.invalid_string,message:i.message}),a.dirty()):i.kind==="base64url"?Dh.test(e.data)||(n=this._getOrReturnCtx(e,n),$(n,{validation:"base64url",code:L.invalid_string,message:i.message}),a.dirty()):de.assertNever(i);return{status:a.value,value:e.data}}_regex(e,s,a){return this.refinement(n=>e.test(n),{validation:s,code:L.invalid_string,...q.errToObj(a)})}_addCheck(e){return new Dt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...q.errToObj(e)})}url(e){return this._addCheck({kind:"url",...q.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...q.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...q.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...q.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...q.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...q.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...q.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...q.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...q.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...q.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...q.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...q.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...q.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...q.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...q.errToObj(e)})}regex(e,s){return this._addCheck({kind:"regex",regex:e,...q.errToObj(s)})}includes(e,s){return this._addCheck({kind:"includes",value:e,position:s==null?void 0:s.position,...q.errToObj(s==null?void 0:s.message)})}startsWith(e,s){return this._addCheck({kind:"startsWith",value:e,...q.errToObj(s)})}endsWith(e,s){return this._addCheck({kind:"endsWith",value:e,...q.errToObj(s)})}min(e,s){return this._addCheck({kind:"min",value:e,...q.errToObj(s)})}max(e,s){return this._addCheck({kind:"max",value:e,...q.errToObj(s)})}length(e,s){return this._addCheck({kind:"length",value:e,...q.errToObj(s)})}nonempty(e){return this.min(1,q.errToObj(e))}trim(){return new Dt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Dt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Dt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxLength(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}Dt.create=t=>new Dt({checks:[],typeName:ee.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...re(t)});function Vh(t,e){const s=(t.toString().split(".")[1]||"").length,a=(e.toString().split(".")[1]||"").length,n=s>a?s:a,i=Number.parseInt(t.toFixed(n).replace(".","")),o=Number.parseInt(e.toFixed(n).replace(".",""));return i%o/10**n}class Xs extends ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==H.number){const i=this._getOrReturnCtx(e);return $(i,{code:L.invalid_type,expected:H.number,received:i.parsedType}),Y}let a;const n=new Ve;for(const i of this._def.checks)i.kind==="int"?de.isInteger(e.data)||(a=this._getOrReturnCtx(e,a),$(a,{code:L.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(a=this._getOrReturnCtx(e,a),$(a,{code:L.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(a=this._getOrReturnCtx(e,a),$(a,{code:L.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="multipleOf"?Vh(e.data,i.value)!==0&&(a=this._getOrReturnCtx(e,a),$(a,{code:L.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(a=this._getOrReturnCtx(e,a),$(a,{code:L.not_finite,message:i.message}),n.dirty()):de.assertNever(i);return{status:n.value,value:e.data}}gte(e,s){return this.setLimit("min",e,!0,q.toString(s))}gt(e,s){return this.setLimit("min",e,!1,q.toString(s))}lte(e,s){return this.setLimit("max",e,!0,q.toString(s))}lt(e,s){return this.setLimit("max",e,!1,q.toString(s))}setLimit(e,s,a,n){return new Xs({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:a,message:q.toString(n)}]})}_addCheck(e){return new Xs({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:q.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:q.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:q.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:q.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:q.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:q.toString(s)})}finite(e){return this._addCheck({kind:"finite",message:q.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:q.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:q.toString(e)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&de.isInteger(e.value))}get isFinite(){let e=null,s=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(s===null||a.value>s)&&(s=a.value):a.kind==="max"&&(e===null||a.value<e)&&(e=a.value)}return Number.isFinite(s)&&Number.isFinite(e)}}Xs.create=t=>new Xs({checks:[],typeName:ee.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...re(t)});class Ys extends ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==H.bigint)return this._getInvalidInput(e);let a;const n=new Ve;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(a=this._getOrReturnCtx(e,a),$(a,{code:L.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(a=this._getOrReturnCtx(e,a),$(a,{code:L.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(a=this._getOrReturnCtx(e,a),$(a,{code:L.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):de.assertNever(i);return{status:n.value,value:e.data}}_getInvalidInput(e){const s=this._getOrReturnCtx(e);return $(s,{code:L.invalid_type,expected:H.bigint,received:s.parsedType}),Y}gte(e,s){return this.setLimit("min",e,!0,q.toString(s))}gt(e,s){return this.setLimit("min",e,!1,q.toString(s))}lte(e,s){return this.setLimit("max",e,!0,q.toString(s))}lt(e,s){return this.setLimit("max",e,!1,q.toString(s))}setLimit(e,s,a,n){return new Ys({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:a,message:q.toString(n)}]})}_addCheck(e){return new Ys({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:q.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:q.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:q.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:q.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:q.toString(s)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}Ys.create=t=>new Ys({checks:[],typeName:ee.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...re(t)});class ni extends ce{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==H.boolean){const a=this._getOrReturnCtx(e);return $(a,{code:L.invalid_type,expected:H.boolean,received:a.parsedType}),Y}return Ze(e.data)}}ni.create=t=>new ni({typeName:ee.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...re(t)});class $r extends ce{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==H.date){const i=this._getOrReturnCtx(e);return $(i,{code:L.invalid_type,expected:H.date,received:i.parsedType}),Y}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return $(i,{code:L.invalid_date}),Y}const a=new Ve;let n;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(n=this._getOrReturnCtx(e,n),$(n,{code:L.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),a.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(n=this._getOrReturnCtx(e,n),$(n,{code:L.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),a.dirty()):de.assertNever(i);return{status:a.value,value:new Date(e.data.getTime())}}_addCheck(e){return new $r({...this._def,checks:[...this._def.checks,e]})}min(e,s){return this._addCheck({kind:"min",value:e.getTime(),message:q.toString(s)})}max(e,s){return this._addCheck({kind:"max",value:e.getTime(),message:q.toString(s)})}get minDate(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e!=null?new Date(e):null}}$r.create=t=>new $r({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ee.ZodDate,...re(t)});class ii extends ce{_parse(e){if(this._getType(e)!==H.symbol){const a=this._getOrReturnCtx(e);return $(a,{code:L.invalid_type,expected:H.symbol,received:a.parsedType}),Y}return Ze(e.data)}}ii.create=t=>new ii({typeName:ee.ZodSymbol,...re(t)});class oi extends ce{_parse(e){if(this._getType(e)!==H.undefined){const a=this._getOrReturnCtx(e);return $(a,{code:L.invalid_type,expected:H.undefined,received:a.parsedType}),Y}return Ze(e.data)}}oi.create=t=>new oi({typeName:ee.ZodUndefined,...re(t)});class li extends ce{_parse(e){if(this._getType(e)!==H.null){const a=this._getOrReturnCtx(e);return $(a,{code:L.invalid_type,expected:H.null,received:a.parsedType}),Y}return Ze(e.data)}}li.create=t=>new li({typeName:ee.ZodNull,...re(t)});class ci extends ce{constructor(){super(...arguments),this._any=!0}_parse(e){return Ze(e.data)}}ci.create=t=>new ci({typeName:ee.ZodAny,...re(t)});class di extends ce{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ze(e.data)}}di.create=t=>new di({typeName:ee.ZodUnknown,...re(t)});class Ut extends ce{_parse(e){const s=this._getOrReturnCtx(e);return $(s,{code:L.invalid_type,expected:H.never,received:s.parsedType}),Y}}Ut.create=t=>new Ut({typeName:ee.ZodNever,...re(t)});class ui extends ce{_parse(e){if(this._getType(e)!==H.undefined){const a=this._getOrReturnCtx(e);return $(a,{code:L.invalid_type,expected:H.void,received:a.parsedType}),Y}return Ze(e.data)}}ui.create=t=>new ui({typeName:ee.ZodVoid,...re(t)});class ut extends ce{_parse(e){const{ctx:s,status:a}=this._processInputParams(e),n=this._def;if(s.parsedType!==H.array)return $(s,{code:L.invalid_type,expected:H.array,received:s.parsedType}),Y;if(n.exactLength!==null){const o=s.data.length>n.exactLength.value,l=s.data.length<n.exactLength.value;(o||l)&&($(s,{code:o?L.too_big:L.too_small,minimum:l?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),a.dirty())}if(n.minLength!==null&&s.data.length<n.minLength.value&&($(s,{code:L.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),a.dirty()),n.maxLength!==null&&s.data.length>n.maxLength.value&&($(s,{code:L.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),a.dirty()),s.common.async)return Promise.all([...s.data].map((o,l)=>n.type._parseAsync(new $t(s,o,s.path,l)))).then(o=>Ve.mergeArray(a,o));const i=[...s.data].map((o,l)=>n.type._parseSync(new $t(s,o,s.path,l)));return Ve.mergeArray(a,i)}get element(){return this._def.type}min(e,s){return new ut({...this._def,minLength:{value:e,message:q.toString(s)}})}max(e,s){return new ut({...this._def,maxLength:{value:e,message:q.toString(s)}})}length(e,s){return new ut({...this._def,exactLength:{value:e,message:q.toString(s)}})}nonempty(e){return this.min(1,e)}}ut.create=(t,e)=>new ut({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ee.ZodArray,...re(e)});function us(t){if(t instanceof be){const e={};for(const s in t.shape){const a=t.shape[s];e[s]=It.create(us(a))}return new be({...t._def,shape:()=>e})}else return t instanceof ut?new ut({...t._def,type:us(t.element)}):t instanceof It?It.create(us(t.unwrap())):t instanceof Ts?Ts.create(us(t.unwrap())):t instanceof ns?ns.create(t.items.map(e=>us(e))):t}class be extends ce{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),s=de.objectKeys(e);return this._cached={shape:e,keys:s},this._cached}_parse(e){if(this._getType(e)!==H.object){const d=this._getOrReturnCtx(e);return $(d,{code:L.invalid_type,expected:H.object,received:d.parsedType}),Y}const{status:a,ctx:n}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ut&&this._def.unknownKeys==="strip"))for(const d in n.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],m=n.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new $t(n,m,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof Ut){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:n.data[u]}});else if(d==="strict")l.length>0&&($(n,{code:L.unrecognized_keys,keys:l}),a.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const m=n.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new $t(n,m,n.path,u)),alwaysSet:u in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const m=await u.key,g=await u.value;d.push({key:m,value:g,alwaysSet:u.alwaysSet})}return d}).then(d=>Ve.mergeObjectSync(a,d)):Ve.mergeObjectSync(a,c)}get shape(){return this._def.shape()}strict(e){return q.errToObj,new be({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(s,a)=>{var i,o;const n=((o=(i=this._def).errorMap)==null?void 0:o.call(i,s,a).message)??a.defaultError;return s.code==="unrecognized_keys"?{message:q.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new be({...this._def,unknownKeys:"strip"})}passthrough(){return new be({...this._def,unknownKeys:"passthrough"})}extend(e){return new be({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new be({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ee.ZodObject})}setKey(e,s){return this.augment({[e]:s})}catchall(e){return new be({...this._def,catchall:e})}pick(e){const s={};for(const a of de.objectKeys(e))e[a]&&this.shape[a]&&(s[a]=this.shape[a]);return new be({...this._def,shape:()=>s})}omit(e){const s={};for(const a of de.objectKeys(this.shape))e[a]||(s[a]=this.shape[a]);return new be({...this._def,shape:()=>s})}deepPartial(){return us(this)}partial(e){const s={};for(const a of de.objectKeys(this.shape)){const n=this.shape[a];e&&!e[a]?s[a]=n:s[a]=n.optional()}return new be({...this._def,shape:()=>s})}required(e){const s={};for(const a of de.objectKeys(this.shape))if(e&&!e[a])s[a]=this.shape[a];else{let i=this.shape[a];for(;i instanceof It;)i=i._def.innerType;s[a]=i}return new be({...this._def,shape:()=>s})}keyof(){return Uo(de.objectKeys(this.shape))}}be.create=(t,e)=>new be({shape:()=>t,unknownKeys:"strip",catchall:Ut.create(),typeName:ee.ZodObject,...re(e)});be.strictCreate=(t,e)=>new be({shape:()=>t,unknownKeys:"strict",catchall:Ut.create(),typeName:ee.ZodObject,...re(e)});be.lazycreate=(t,e)=>new be({shape:t,unknownKeys:"strip",catchall:Ut.create(),typeName:ee.ZodObject,...re(e)});class Ur extends ce{_parse(e){const{ctx:s}=this._processInputParams(e),a=this._def.options;function n(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return s.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new bt(l.ctx.common.issues));return $(s,{code:L.invalid_union,unionErrors:o}),Y}if(s.common.async)return Promise.all(a.map(async i=>{const o={...s,common:{...s.common,issues:[]},parent:null};return{result:await i._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}})).then(n);{let i;const o=[];for(const c of a){const d={...s,common:{...s.common,issues:[]},parent:null},u=c._parseSync({data:s.data,path:s.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return s.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new bt(c));return $(s,{code:L.invalid_union,unionErrors:l}),Y}}get options(){return this._def.options}}Ur.create=(t,e)=>new Ur({options:t,typeName:ee.ZodUnion,...re(e)});function za(t,e){const s=_t(t),a=_t(e);if(t===e)return{valid:!0,data:t};if(s===H.object&&a===H.object){const n=de.objectKeys(e),i=de.objectKeys(t).filter(l=>n.indexOf(l)!==-1),o={...t,...e};for(const l of i){const c=za(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(s===H.array&&a===H.array){if(t.length!==e.length)return{valid:!1};const n=[];for(let i=0;i<t.length;i++){const o=t[i],l=e[i],c=za(o,l);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return s===H.date&&a===H.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class zr extends ce{_parse(e){const{status:s,ctx:a}=this._processInputParams(e),n=(i,o)=>{if(si(i)||si(o))return Y;const l=za(i.value,o.value);return l.valid?((ri(i)||ri(o))&&s.dirty(),{status:s.value,value:l.data}):($(a,{code:L.invalid_intersection_types}),Y)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([i,o])=>n(i,o)):n(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}zr.create=(t,e,s)=>new zr({left:t,right:e,typeName:ee.ZodIntersection,...re(s)});class ns extends ce{_parse(e){const{status:s,ctx:a}=this._processInputParams(e);if(a.parsedType!==H.array)return $(a,{code:L.invalid_type,expected:H.array,received:a.parsedType}),Y;if(a.data.length<this._def.items.length)return $(a,{code:L.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Y;!this._def.rest&&a.data.length>this._def.items.length&&($(a,{code:L.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const i=[...a.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new $t(a,o,a.path,l)):null}).filter(o=>!!o);return a.common.async?Promise.all(i).then(o=>Ve.mergeArray(s,o)):Ve.mergeArray(s,i)}get items(){return this._def.items}rest(e){return new ns({...this._def,rest:e})}}ns.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ns({items:t,typeName:ee.ZodTuple,rest:null,...re(e)})};class hi extends ce{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:a}=this._processInputParams(e);if(a.parsedType!==H.map)return $(a,{code:L.invalid_type,expected:H.map,received:a.parsedType}),Y;const n=this._def.keyType,i=this._def.valueType,o=[...a.data.entries()].map(([l,c],d)=>({key:n._parse(new $t(a,l,a.path,[d,"key"])),value:i._parse(new $t(a,c,a.path,[d,"value"]))}));if(a.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return Y;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return Y;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}}}}hi.create=(t,e,s)=>new hi({valueType:e,keyType:t,typeName:ee.ZodMap,...re(s)});class er extends ce{_parse(e){const{status:s,ctx:a}=this._processInputParams(e);if(a.parsedType!==H.set)return $(a,{code:L.invalid_type,expected:H.set,received:a.parsedType}),Y;const n=this._def;n.minSize!==null&&a.data.size<n.minSize.value&&($(a,{code:L.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),s.dirty()),n.maxSize!==null&&a.data.size>n.maxSize.value&&($(a,{code:L.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),s.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return Y;u.status==="dirty"&&s.dirty(),d.add(u.value)}return{status:s.value,value:d}}const l=[...a.data.values()].map((c,d)=>i._parse(new $t(a,c,a.path,d)));return a.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,s){return new er({...this._def,minSize:{value:e,message:q.toString(s)}})}max(e,s){return new er({...this._def,maxSize:{value:e,message:q.toString(s)}})}size(e,s){return this.min(e,s).max(e,s)}nonempty(e){return this.min(1,e)}}er.create=(t,e)=>new er({valueType:t,minSize:null,maxSize:null,typeName:ee.ZodSet,...re(e)});class mi extends ce{get schema(){return this._def.getter()}_parse(e){const{ctx:s}=this._processInputParams(e);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}mi.create=(t,e)=>new mi({getter:t,typeName:ee.ZodLazy,...re(e)});class fi extends ce{_parse(e){if(e.data!==this._def.value){const s=this._getOrReturnCtx(e);return $(s,{received:s.data,code:L.invalid_literal,expected:this._def.value}),Y}return{status:"valid",value:e.data}}get value(){return this._def.value}}fi.create=(t,e)=>new fi({value:t,typeName:ee.ZodLiteral,...re(e)});function Uo(t,e){return new As({values:t,typeName:ee.ZodEnum,...re(e)})}class As extends ce{_parse(e){if(typeof e.data!="string"){const s=this._getOrReturnCtx(e),a=this._def.values;return $(s,{expected:de.joinValues(a),received:s.parsedType,code:L.invalid_type}),Y}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const s=this._getOrReturnCtx(e),a=this._def.values;return $(s,{received:s.data,code:L.invalid_enum_value,options:a}),Y}return Ze(e.data)}get options(){return this._def.values}get enum(){const e={};for(const s of this._def.values)e[s]=s;return e}get Values(){const e={};for(const s of this._def.values)e[s]=s;return e}get Enum(){const e={};for(const s of this._def.values)e[s]=s;return e}extract(e,s=this._def){return As.create(e,{...this._def,...s})}exclude(e,s=this._def){return As.create(this.options.filter(a=>!e.includes(a)),{...this._def,...s})}}As.create=Uo;class xi extends ce{_parse(e){const s=de.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(e);if(a.parsedType!==H.string&&a.parsedType!==H.number){const n=de.objectValues(s);return $(a,{expected:de.joinValues(n),received:a.parsedType,code:L.invalid_type}),Y}if(this._cache||(this._cache=new Set(de.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const n=de.objectValues(s);return $(a,{received:a.data,code:L.invalid_enum_value,options:n}),Y}return Ze(e.data)}get enum(){return this._def.values}}xi.create=(t,e)=>new xi({values:t,typeName:ee.ZodNativeEnum,...re(e)});class Vr extends ce{unwrap(){return this._def.type}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==H.promise&&s.common.async===!1)return $(s,{code:L.invalid_type,expected:H.promise,received:s.parsedType}),Y;const a=s.parsedType===H.promise?s.data:Promise.resolve(s.data);return Ze(a.then(n=>this._def.type.parseAsync(n,{path:s.path,errorMap:s.common.contextualErrorMap})))}}Vr.create=(t,e)=>new Vr({type:t,typeName:ee.ZodPromise,...re(e)});class Es extends ce{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ee.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:s,ctx:a}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:o=>{$(a,o),o.fatal?s.abort():s.dirty()},get path(){return a.path}};if(i.addIssue=i.addIssue.bind(i),n.type==="preprocess"){const o=n.transform(a.data,i);if(a.common.async)return Promise.resolve(o).then(async l=>{if(s.value==="aborted")return Y;const c=await this._def.schema._parseAsync({data:l,path:a.path,parent:a});return c.status==="aborted"?Y:c.status==="dirty"||s.value==="dirty"?Hs(c.value):c});{if(s.value==="aborted")return Y;const l=this._def.schema._parseSync({data:o,path:a.path,parent:a});return l.status==="aborted"?Y:l.status==="dirty"||s.value==="dirty"?Hs(l.value):l}}if(n.type==="refinement"){const o=l=>{const c=n.refinement(l,i);if(a.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(a.common.async===!1){const l=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return l.status==="aborted"?Y:(l.status==="dirty"&&s.dirty(),o(l.value),{status:s.value,value:l.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(l=>l.status==="aborted"?Y:(l.status==="dirty"&&s.dirty(),o(l.value).then(()=>({status:s.value,value:l.value}))))}if(n.type==="transform")if(a.common.async===!1){const o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!Cs(o))return Y;const l=n.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:l}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>Cs(o)?Promise.resolve(n.transform(o.value,i)).then(l=>({status:s.value,value:l})):Y);de.assertNever(n)}}Es.create=(t,e,s)=>new Es({schema:t,typeName:ee.ZodEffects,effect:e,...re(s)});Es.createWithPreprocess=(t,e,s)=>new Es({schema:e,effect:{type:"preprocess",transform:t},typeName:ee.ZodEffects,...re(s)});class It extends ce{_parse(e){return this._getType(e)===H.undefined?Ze(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}It.create=(t,e)=>new It({innerType:t,typeName:ee.ZodOptional,...re(e)});class Ts extends ce{_parse(e){return this._getType(e)===H.null?Ze(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ts.create=(t,e)=>new Ts({innerType:t,typeName:ee.ZodNullable,...re(e)});class Va extends ce{_parse(e){const{ctx:s}=this._processInputParams(e);let a=s.data;return s.parsedType===H.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}Va.create=(t,e)=>new Va({innerType:t,typeName:ee.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...re(e)});class Wa extends ce{_parse(e){const{ctx:s}=this._processInputParams(e),a={...s,common:{...s.common,issues:[]}},n=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return Br(n)?n.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new bt(a.common.issues)},input:a.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new bt(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}Wa.create=(t,e)=>new Wa({innerType:t,typeName:ee.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...re(e)});class gi extends ce{_parse(e){if(this._getType(e)!==H.nan){const a=this._getOrReturnCtx(e);return $(a,{code:L.invalid_type,expected:H.nan,received:a.parsedType}),Y}return{status:"valid",value:e.data}}}gi.create=t=>new gi({typeName:ee.ZodNaN,...re(t)});class Wh extends ce{_parse(e){const{ctx:s}=this._processInputParams(e),a=s.data;return this._def.type._parse({data:a,path:s.path,parent:s})}unwrap(){return this._def.type}}class cn extends ce{_parse(e){const{status:s,ctx:a}=this._processInputParams(e);if(a.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return i.status==="aborted"?Y:i.status==="dirty"?(s.dirty(),Hs(i.value)):this._def.out._parseAsync({data:i.value,path:a.path,parent:a})})();{const n=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return n.status==="aborted"?Y:n.status==="dirty"?(s.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:a.path,parent:a})}}static create(e,s){return new cn({in:e,out:s,typeName:ee.ZodPipeline})}}class Ha extends ce{_parse(e){const s=this._def.innerType._parse(e),a=n=>(Cs(n)&&(n.value=Object.freeze(n.value)),n);return Br(s)?s.then(n=>a(n)):a(s)}unwrap(){return this._def.innerType}}Ha.create=(t,e)=>new Ha({innerType:t,typeName:ee.ZodReadonly,...re(e)});var ee;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ee||(ee={}));const Sr=Dt.create;Ut.create;ut.create;const Hh=be.create;Ur.create;zr.create;ns.create;As.create;Vr.create;It.create;Ts.create;const qh=Hh({email:Sr().email("请输入有效的邮箱地址"),password:Sr().min(6,"密码至少6位字符"),username:Sr().min(2,"用户名至少2位字符").optional(),confirmPassword:Sr().optional()}).refine(t=>t.confirmPassword!==void 0?t.password===t.confirmPassword:!0,{message:"两次输入的密码不一致",path:["confirmPassword"]}),Zh=()=>{var A,Z;const[t,e]=_.useState(!0),s=zt(),a=qa(),{login:n,register:i,isLoading:o}=Xe(),{theme:l,toggleTheme:c}=sn(),{language:d,setLanguage:u,t:m}=Eo(),{register:g,handleSubmit:k,formState:{errors:N},reset:b}=fh({resolver:yh(qh)}),p=((Z=(A=a.state)==null?void 0:A.from)==null?void 0:Z.pathname)||"/",E=async B=>{try{const Q=await Xe.getState().loginWithGoogle(B.credential);Q.success?(I.success("Google登录成功！"),s(p,{replace:!0})):I.error(Q.message||"Google登录失败")}catch(Q){console.error("Google login error:",Q),I.error("Google登录出错，请重试")}},f=()=>{console.error("Google登录失败"),I.error("Google登录失败，请重试")},j=async B=>{try{let Q=!1;if(t){const G=await i({username:B.username||B.email.split("@")[0],email:B.email,password:B.password,confirmPassword:B.confirmPassword||B.password});if(Q=G.success,!Q){I.error(G.message||"注册失败");return}}else{const G=await n({email:B.email,password:B.password});if(Q=G.success,!Q){I.error(G.message||"登录失败");return}}Q&&(I.success(t?"注册成功！":"登录成功！"),s(p,{replace:!0}))}catch(Q){console.error("Authentication error:",Q),I.error("操作失败，请重试")}},w=()=>{e(!t),b()};return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-8 flex items-center justify-center transition-colors",children:r.jsxs("div",{className:"w-full max-w-5xl min-h-[800px] bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 relative transition-colors",children:[r.jsxs("div",{className:"absolute top-4 right-8 flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>u("zh"),className:`px-2 py-1 text-sm rounded-md transition-colors ${d==="zh"?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:"中"}),r.jsx("button",{onClick:()=>u("en"),className:`px-2 py-1 text-sm rounded-md transition-colors ${d==="en"?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:"EN"})]}),r.jsx("div",{className:"border-l border-gray-300 dark:border-gray-600 h-6"}),r.jsx("button",{onClick:c,className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400 transition-colors",children:l==="light"?r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}):r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"5"}),r.jsx("path",{d:"M12 1v2M12 21v2M4.2 4.2l1.4 1.4M18.4 18.4l1.4 1.4M1 12h2M21 12h2M4.2 19.8l1.4-1.4M18.4 5.6l1.4-1.4"})]})})]}),r.jsx("header",{className:"py-6 px-8 flex justify-center border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center",children:[r.jsxs("svg",{viewBox:"0 0 24 24",className:"w-9 h-9 mr-3 text-blue-600 dark:text-blue-400",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"2"}),r.jsx("path",{d:"M7 12h10M12 7v10",stroke:"currentColor",strokeWidth:"2",fill:"none"})]}),r.jsx("h1",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:"Trademe"})]})}),r.jsx("main",{className:"flex flex-col items-center justify-center py-16",children:r.jsxs("div",{className:"w-full max-w-md mx-auto",children:[r.jsx("h2",{className:"text-center text-2xl font-bold mb-8 text-gray-800 dark:text-white",children:m("accountLogin")}),r.jsx("div",{className:"mb-6",children:r.jsx(zu,{onSuccess:E,onError:f,useOneTap:!1,theme:l==="dark"?"filled_black":"outline",size:"large",width:"100%",text:t?"signup_with":"signin_with",shape:"rectangular"})}),r.jsxs("div",{className:"relative flex justify-center mb-6",children:[r.jsx("hr",{className:"w-full border-gray-300 dark:border-gray-600"}),r.jsx("span",{className:"absolute px-4 bg-white dark:bg-gray-800 -top-3 text-gray-500 dark:text-gray-400",children:m("orContinueWith")})]}),r.jsxs("form",{onSubmit:k(j),children:[t&&r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m("username")}),r.jsx("input",{type:"text",placeholder:m("enterUsername"),...g("username"),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 dark:bg-gray-700 dark:text-white transition-colors"}),N.username&&r.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm mt-1",children:N.username.message})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m("email")}),r.jsx("input",{type:"email",placeholder:m("enterEmail"),...g("email"),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 dark:bg-gray-700 dark:text-white transition-colors"}),N.email&&r.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm mt-1",children:N.email.message})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m("password")}),r.jsx("input",{type:"password",placeholder:m("enterPassword"),...g("password"),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 dark:bg-gray-700 dark:text-white transition-colors"}),N.password&&r.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm mt-1",children:N.password.message})]}),t&&r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m("confirmPassword")}),r.jsx("input",{type:"password",placeholder:m("enterPasswordAgain"),...g("confirmPassword"),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 dark:bg-gray-700 dark:text-white transition-colors"}),N.confirmPassword&&r.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm mt-1",children:N.confirmPassword.message})]}),r.jsx("button",{type:"submit",disabled:o,className:"w-full py-3 mb-6 text-white font-medium rounded-lg transition-colors disabled:opacity-50 bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-700",children:m(o?"processing":t?"createAccount":"login")})]}),r.jsx("div",{className:"text-center mb-4",children:r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[m(t?"haveAccount":"noAccount"),r.jsx("button",{type:"button",onClick:w,className:"text-blue-600 dark:text-blue-400 hover:underline ml-1",children:m(t?"loginNow":"registerNow")})]})}),t&&r.jsx("div",{className:"text-center text-xs text-gray-500 dark:text-gray-400",children:r.jsxs("p",{children:[m("byRegisteringAgree"),r.jsx("a",{href:"/terms",className:"text-blue-600 dark:text-blue-400 hover:underline",children:m("termsOfService")}),m("and"),r.jsx("a",{href:"/privacy",className:"text-blue-600 dark:text-blue-400 hover:underline",children:m("privacyPolicy")})]})})]})})]})})},Kh=()=>{const[t,e]=_.useState(""),[s,a]=_.useState(59),[n,i]=_.useState(!1),o=zt();_.useEffect(()=>{const u=setInterval(()=>{a(m=>m<=1?(i(!0),clearInterval(u),0):m-1)},1e3);return()=>clearInterval(u)},[]);const l=()=>{if(!n)return;I.success("验证码已重新发送"),a(59),i(!1);const u=setInterval(()=>{a(m=>m<=1?(i(!0),clearInterval(u),0):m-1)},1e3)},c=()=>{if(t.length!==6){I.error("请输入6位验证码");return}I.success("验证成功！"),o("/")},d=u=>{const m=u.target.value.replace(/\D/g,"").slice(0,6);e(m)};return r.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:r.jsxs("div",{className:"w-full max-w-6xl min-h-screen bg-white rounded-xl shadow-xl border border-gray-200 mx-auto flex flex-col",children:[r.jsx("header",{className:"py-6 px-8 flex justify-center border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center",children:[r.jsxs("svg",{className:"w-9 h-9 mr-3",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"#1a3d7c",strokeWidth:"2",fill:"none"}),r.jsx("path",{d:"M8 12h8M12 8v8",stroke:"#1a3d7c",strokeWidth:"2"})]}),r.jsx("h1",{className:"text-2xl font-bold",style:{color:"#1a3d7c"},children:"Trademe"})]})}),r.jsxs("div",{className:"absolute top-4 right-8 flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{className:"px-2 py-1 text-sm rounded-md bg-gray-100 hover:bg-gray-200",children:"中"}),r.jsx("button",{className:"px-2 py-1 text-sm rounded-md hover:bg-gray-200",children:"EN"})]}),r.jsx("div",{className:"border-l border-gray-300 h-6"}),r.jsx("button",{className:"p-2 rounded-full hover:bg-gray-200",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})]}),r.jsx("main",{className:"flex flex-col items-center justify-center flex-1 py-16",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8 w-full max-w-md",children:[r.jsx("h2",{className:"text-center text-2xl font-bold mb-8",style:{color:"#1a3d7c"},children:"验证码确认"}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("p",{className:"mb-1 text-gray-600",children:"验证码已发送至"}),r.jsx("p",{className:"font-semibold text-gray-800",children:"134****7890@qq.com"})]}),r.jsx("div",{className:"mb-8",children:r.jsx("input",{type:"text",value:t,onChange:d,placeholder:"输入验证码",maxLength:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-center text-2xl tracking-wide font-semibold focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-colors",style:{letterSpacing:"0.2em"}})}),r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("button",{onClick:l,disabled:!n,className:"text-blue-600 text-sm flex items-center hover:underline disabled:text-gray-400 disabled:cursor-not-allowed",children:[r.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"重新发送"]}),r.jsx("span",{className:"text-gray-500 text-sm",children:n?"可重新发送":`${s}s后可重发`})]}),r.jsx("button",{onClick:c,className:"w-full py-3 rounded-lg text-white font-medium hover:opacity-90 transition-opacity mb-6",style:{backgroundColor:"#1a3d7c"},children:"验证并登录"}),r.jsx("div",{className:"text-center",children:r.jsx("a",{href:"#",className:"text-gray-500 text-sm hover:text-blue-600",children:"遇到问题? 联系客服"})})]})})]})})},Qh={async getKlineData(t,e,s,a=500){try{const n=await U.get("/market/klines",{params:{symbol:t,timeframe:e,exchange:s,limit:a}});return D(n)}catch(n){F(n)}},async getTicker(t,e){try{const s=await U.get("/market/ticker",{params:{symbol:t,exchange:e}});return D(s)}catch(s){F(s)}},async getTickers(t,e){try{const s=await U.post("/market/tickers",{symbols:t,exchange:e});return D(s)}catch(s){F(s)}},async getOrderBook(t,e,s=20){try{const a=await U.get("/market/orderbook",{params:{symbol:t,exchange:e,depth:s}});return D(a)}catch(a){F(a)}},async getExchanges(){try{const t=await U.get("/market/exchanges");return D(t)}catch(t){F(t)}},async getTradingPairs(t){try{const e=await U.get("/market/pairs",{params:{exchange:t}});return D(e)}catch(e){F(e)}},async searchTradingPairs(t,e){try{const s=await U.get("/market/pairs/search",{params:{query:t,exchange:e}});return D(s)}catch(s){F(s)}},async getHistoricalData(t,e,s,a,n="1d"){try{const i=await U.get("/market/historical",{params:{symbol:t,exchange:e,start_date:s,end_date:a,timeframe:n}});return D(i)}catch(i){F(i)}},async getMarketStats(t){try{const e=await U.get("/market/stats",{params:{exchange:t}});return D(e)}catch(e){F(e)}},async getTechnicalIndicators(t,e,s,a,n=20){try{const i=await U.post("/market/indicators",{symbol:t,exchange:e,timeframe:s,indicators:a,period:n});return D(i)}catch(i){F(i)}}};class Gh{constructor(e){cs(this,"connections",new Map);cs(this,"config");cs(this,"heartbeatTimer",null);this.config=e,this.startHeartbeat()}connect(e,s,a={}){try{this.connections.has(e)&&this.disconnect(e);const n=`${this.config.baseUrl}${s}`,o={ws:new WebSocket(n),url:n,key:e,isActive:!1,reconnectAttempts:0,maxReconnectAttempts:this.config.maxReconnectAttempts,reconnectDelay:this.config.reconnectDelay,...a};return this.setupWebSocketHandlers(o),this.connections.set(e,o),console.log(`WebSocket connecting: ${e} -> ${n}`),!0}catch(n){return console.error(`Failed to create WebSocket connection for ${e}:`,n),!1}}disconnect(e){const s=this.connections.get(e);return s?(s.isActive=!1,(s.ws.readyState===WebSocket.OPEN||s.ws.readyState===WebSocket.CONNECTING)&&s.ws.close(1e3,"Manual disconnect"),this.connections.delete(e),console.log(`WebSocket disconnected: ${e}`),!0):!1}disconnectAll(){for(const e of this.connections.keys())this.disconnect(e);this.heartbeatTimer&&(clearInterval(this.heartbeatTimer),this.heartbeatTimer=null)}send(e,s){const a=this.connections.get(e);if(!a||a.ws.readyState!==WebSocket.OPEN)return console.warn(`WebSocket not ready for sending: ${e}`),!1;try{const n=typeof s=="string"?s:JSON.stringify(s);return a.ws.send(n),!0}catch(n){return console.error(`Failed to send message to ${e}:`,n),!1}}getConnectionStatus(e){const s=this.connections.get(e);return s?{isConnected:s.ws.readyState===WebSocket.OPEN,readyState:s.ws.readyState,reconnectAttempts:s.reconnectAttempts}:{isConnected:!1,readyState:null,reconnectAttempts:0}}getAllConnectionStatus(){const e={};for(const[s]of this.connections)e[s]=this.getConnectionStatus(s);return e}setupWebSocketHandlers(e){const{ws:s}=e;s.onopen=a=>{var n;e.isActive=!0,e.reconnectAttempts=0,console.log(`WebSocket connected: ${e.key}`),(n=e.onOpen)==null||n.call(e)},s.onmessage=a=>{var n,i;try{const o=JSON.parse(a.data);(n=e.onMessage)==null||n.call(e,o)}catch(o){console.error(`Failed to parse WebSocket message from ${e.key}:`,o),(i=e.onMessage)==null||i.call(e,a.data)}},s.onerror=a=>{var n;console.error(`WebSocket error on ${e.key}:`,a),(n=e.onError)==null||n.call(e,a)},s.onclose=a=>{var n;console.log(`WebSocket closed: ${e.key}, code: ${a.code}, reason: ${a.reason}`),(n=e.onClose)==null||n.call(e),e.isActive&&e.reconnectAttempts<e.maxReconnectAttempts&&a.code!==1e3?this.scheduleReconnect(e):e.reconnectAttempts>=e.maxReconnectAttempts&&(console.warn(`Max reconnect attempts reached for ${e.key}`),this.connections.delete(e.key))}}scheduleReconnect(e){e.reconnectAttempts++;const s=e.reconnectDelay*Math.pow(2,e.reconnectAttempts-1);console.log(`Scheduling reconnect for ${e.key} in ${s}ms (attempt ${e.reconnectAttempts})`),setTimeout(()=>{if(e.isActive){console.log(`Attempting to reconnect ${e.key}...`);const a=new WebSocket(e.url);e.ws=a,this.setupWebSocketHandlers(e)}},s)}startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>{for(const[e,s]of this.connections)s.ws.readyState===WebSocket.OPEN?this.send(e,{type:"ping",timestamp:Date.now()}):s.ws.readyState===WebSocket.CLOSED&&s.isActive&&s.reconnectAttempts<s.maxReconnectAttempts&&(console.log(`Heartbeat detected closed connection, triggering reconnect: ${e}`),this.scheduleReconnect(s))},this.config.heartbeatInterval)}getStats(){const e=Array.from(this.connections.values()).map(s=>({key:s.key,url:s.url,isActive:s.isActive,readyState:this.getReadyStateString(s.ws.readyState),reconnectAttempts:s.reconnectAttempts}));return{totalConnections:this.connections.size,activeConnections:e.filter(s=>s.readyState==="OPEN").length,connectionDetails:e}}getReadyStateString(e){switch(e){case WebSocket.CONNECTING:return"CONNECTING";case WebSocket.OPEN:return"OPEN";case WebSocket.CLOSING:return"CLOSING";case WebSocket.CLOSED:return"CLOSED";default:return"UNKNOWN"}}}const Be=new Gh({baseUrl:"wss://api.trademe.app/ws",maxReconnectAttempts:5,reconnectDelay:1e3,heartbeatInterval:3e4});typeof window<"u"&&window.addEventListener("beforeunload",()=>{Be.disconnectAll()});const hs=Wt((t,e)=>({currentPrices:{},klineData:{},selectedSymbol:"BTC/USDT",selectedTimeframe:"1h",selectedExchange:"okx",isLoading:!1,isConnected:!1,lastUpdate:null,error:null,subscribedTickers:new Set,connectionStats:null,setSelectedSymbol:s=>{t({selectedSymbol:s});const{selectedTimeframe:a,selectedExchange:n,fetchKlineData:i}=e();i(s,a,n)},setSelectedTimeframe:s=>{t({selectedTimeframe:s});const{selectedSymbol:a,selectedExchange:n,fetchKlineData:i}=e();i(a,s,n)},setSelectedExchange:s=>{t({selectedExchange:s});const{selectedSymbol:a,selectedTimeframe:n,fetchKlineData:i}=e();i(a,n,s)},fetchKlineData:async(s,a,n)=>{var i,o;t({isLoading:!0});try{const l=await Qh.getKlineData(s,a,n);t(c=>({klineData:{...c.klineData,[`${n}:${s}:${a}`]:l},isLoading:!1,lastUpdate:new Date}))}catch(l){t({isLoading:!1});const c=((o=(i=l.response)==null?void 0:i.data)==null?void 0:o.message)||"获取K线数据失败";I.error(c)}},subscribeToTicker:(s,a)=>{const n=`${a}:${s}`,i=`/market/${a}/${s}/ticker`;Be.connect(n,i,{onOpen:()=>{t(l=>({isConnected:!0,subscribedTickers:new Set([...l.subscribedTickers,n]),error:null})),console.log(`Subscribed to ticker: ${n}`)},onMessage:l=>{e().updatePrice(s,l)},onError:l=>{console.error(`WebSocket error for ${n}:`,l),t({error:`${s} 价格订阅失败`}),I.error(`${s} 价格订阅失败`)},onClose:()=>{t(l=>{const c=new Set(l.subscribedTickers);return c.delete(n),{subscribedTickers:c,isConnected:c.size>0}}),console.log(`Unsubscribed from ticker: ${n}`)}})||(I.error(`无法连接到 ${s} 价格推送`),t({error:`WebSocket连接失败: ${s}`}))},unsubscribeFromTicker:(s,a)=>{const n=`${a}:${s}`;Be.disconnect(n)&&t(o=>{const l=new Set(o.subscribedTickers);return l.delete(n),{subscribedTickers:l,isConnected:l.size>0}})},connectWebSocket:()=>{const{selectedSymbol:s,selectedExchange:a}=e();e().subscribeToTicker(s,a)},disconnectWebSocket:()=>{Be.disconnectAll(),t({subscribedTickers:new Set,isConnected:!1,connectionStats:null})},updatePrice:(s,a)=>{t(n=>({currentPrices:{...n.currentPrices,[s]:a},lastUpdate:new Date,error:null}))},clearError:()=>{t({error:null})},getConnectionStats:()=>{const s=Be.getStats();return t({connectionStats:s}),s},reset:()=>{Be.disconnectAll(),t({currentPrices:{},klineData:{},selectedSymbol:"BTC/USDT",selectedTimeframe:"1h",selectedExchange:"okx",isLoading:!1,isConnected:!1,lastUpdate:null,error:null,subscribedTickers:new Set,connectionStats:null})}})),Nt={async getStrategies(t){try{const e=await U.get("/strategies",{params:t});return D(e)}catch(e){F(e)}},async getStrategy(t){try{const e=await U.get(`/strategies/${t}`);return D(e)}catch(e){F(e)}},async createStrategy(t){try{const e=await U.post("/strategies",t);return D(e)}catch(e){F(e)}},async updateStrategy(t,e){try{const s=await U.put(`/strategies/${t}`,e);return D(s)}catch(s){F(s)}},async deleteStrategy(t){try{const e=await U.delete(`/strategies/${t}`);return D(e)}catch(e){F(e)}},async startStrategy(t){try{const e=await U.post(`/strategies/${t}/start`);return D(e)}catch(e){F(e)}},async stopStrategy(t){try{const e=await U.post(`/strategies/${t}/stop`);return D(e)}catch(e){F(e)}},async pauseStrategy(t){try{const e=await U.post(`/strategies/${t}/pause`);return D(e)}catch(e){F(e)}},async runBacktest(t,e){try{const s=await U.post(`/strategies/${t}/backtest`,e);return D(s)}catch(s){F(s)}},async getBacktestResults(t){try{const e=await U.get(`/strategies/${t}/backtests`);return D(e)}catch(e){F(e)}},async getBacktestResult(t,e){try{const s=await U.get(`/strategies/${t}/backtests/${e}`);return D(s)}catch(s){F(s)}},async getStrategyTrades(t,e){try{const s=await U.get(`/strategies/${t}/trades`,{params:e});return D(s)}catch(s){F(s)}},async getStrategyPerformance(t,e){try{const s=await U.get(`/strategies/${t}/performance`,{params:{period:e}});return D(s)}catch(s){F(s)}},async cloneStrategy(t,e){try{const s=await U.post(`/strategies/${t}/clone`,{name:e});return D(s)}catch(s){F(s)}},async exportStrategy(t){try{const e=await U.get(`/strategies/${t}/export`);return D(e)}catch(e){F(e)}},async importStrategy(t){try{const e=await U.post("/strategies/import",t);return D(e)}catch(e){F(e)}}},zo=Wt((t,e)=>({strategies:[],selectedStrategy:null,isLoading:!1,backtestResults:[],isBacktesting:!1,fetchStrategies:async()=>{var s,a;t({isLoading:!0});try{const n=await Nt.getStrategies();t({strategies:n,isLoading:!1})}catch(n){t({isLoading:!1});const i=((a=(s=n.response)==null?void 0:s.data)==null?void 0:a.message)||"获取策略列表失败";I.error(i)}},createStrategy:async s=>{var a,n;try{const i=await Nt.createStrategy(s);return t(o=>({strategies:[...o.strategies,i]})),I.success("策略创建成功"),!0}catch(i){const o=((n=(a=i.response)==null?void 0:a.data)==null?void 0:n.message)||"创建策略失败";return I.error(o),!1}},updateStrategy:async(s,a)=>{var n,i;try{const o=await Nt.updateStrategy(s,a);return t(l=>{var c;return{strategies:l.strategies.map(d=>d.id===s?o:d),selectedStrategy:((c=l.selectedStrategy)==null?void 0:c.id)===s?o:l.selectedStrategy}}),I.success("策略更新成功"),!0}catch(o){const l=((i=(n=o.response)==null?void 0:n.data)==null?void 0:i.message)||"更新策略失败";return I.error(l),!1}},deleteStrategy:async s=>{var a,n;try{return await Nt.deleteStrategy(s),t(i=>{var o;return{strategies:i.strategies.filter(l=>l.id!==s),selectedStrategy:((o=i.selectedStrategy)==null?void 0:o.id)===s?null:i.selectedStrategy}}),I.success("策略删除成功"),!0}catch(i){const o=((n=(a=i.response)==null?void 0:a.data)==null?void 0:n.message)||"删除策略失败";return I.error(o),!1}},selectStrategy:s=>{t({selectedStrategy:s})},runBacktest:async(s,a)=>{var n,i;t({isBacktesting:!0});try{const o=await Nt.runBacktest(s,a);return t(l=>({backtestResults:[...l.backtestResults,o],isBacktesting:!1})),I.success("回测完成"),!0}catch(o){t({isBacktesting:!1});const l=((i=(n=o.response)==null?void 0:n.data)==null?void 0:i.message)||"回测失败";return I.error(l),!1}},fetchBacktestResults:async s=>{var a,n;try{const i=await Nt.getBacktestResults(s);t({backtestResults:i})}catch(i){const o=((n=(a=i.response)==null?void 0:a.data)==null?void 0:n.message)||"获取回测结果失败";I.error(o)}},startStrategy:async s=>{var a,n;try{return await Nt.startStrategy(s),t(i=>{var o;return{strategies:i.strategies.map(l=>l.id===s?{...l,status:"running"}:l),selectedStrategy:((o=i.selectedStrategy)==null?void 0:o.id)===s?{...i.selectedStrategy,status:"running"}:i.selectedStrategy}}),I.success("策略已启动"),!0}catch(i){const o=((n=(a=i.response)==null?void 0:a.data)==null?void 0:n.message)||"启动策略失败";return I.error(o),!1}},stopStrategy:async s=>{var a,n;try{return await Nt.stopStrategy(s),t(i=>{var o;return{strategies:i.strategies.map(l=>l.id===s?{...l,status:"stopped"}:l),selectedStrategy:((o=i.selectedStrategy)==null?void 0:o.id)===s?{...i.selectedStrategy,status:"stopped"}:i.selectedStrategy}}),I.success("策略已停止"),!0}catch(i){const o=((n=(a=i.response)==null?void 0:a.data)==null?void 0:n.message)||"停止策略失败";return I.error(o),!1}}})),st={async createChatSession(t){try{const e=await U.post("/ai/chat/sessions",{title:t});return D(e)}catch(e){F(e)}},async getChatSessions(){try{const t=await U.get("/ai/chat/sessions");return D(t)}catch(t){F(t)}},async getChatSession(t){try{const e=await U.get(`/ai/chat/sessions/${t}`);return D(e)}catch(e){F(e)}},async sendMessage(t,e){try{const s=await U.post(`/ai/chat/sessions/${t}/messages`,{content:e});return D(s)}catch(s){F(s)}},async deleteChatSession(t){try{const e=await U.delete(`/ai/chat/sessions/${t}`);return D(e)}catch(e){F(e)}},async generateStrategy(t){try{const e=await U.post("/ai/generate/strategy",t);return D(e)}catch(e){F(e)}},async optimizeStrategy(t,e){try{const s=await U.post("/ai/optimize/strategy",{code:t,objectives:e});return D(s)}catch(s){F(s)}},async analyzeMarket(t,e,s,a=30){try{const n=await U.post("/ai/analyze/market",{symbol:t,exchange:e,timeframe:s,lookback_days:a});return D(n)}catch(n){F(n)}},async explainStrategy(t){try{const e=await U.post("/ai/explain/strategy",{code:t});return D(e)}catch(e){F(e)}},async analyzeBacktestResults(t){try{const e=await U.post(`/ai/analyze/backtest/${t}`);return D(e)}catch(e){F(e)}},async getTradingSignals(t,e,s){try{const a=await U.post("/ai/signals",{symbol:t,exchange:e,timeframes:s});return D(a)}catch(a){F(a)}},async assessRisk(t,e){try{const s=await U.post("/ai/assess/risk",{strategy_code:t,portfolio:e});return D(s)}catch(s){F(s)}}},ha=Wt()(Rs((t,e)=>({chatSessions:[],currentSession:null,messages:[],isTyping:!1,generatedStrategies:[],isGenerating:!1,currentGeneratedStrategy:null,marketAnalyses:{},isAnalyzing:!1,isLoading:!1,error:null,createChatSession:async s=>{var a,n;t({isLoading:!0,error:null});try{const i=await st.createChatSession(s);return t(o=>({chatSessions:[i,...o.chatSessions],currentSession:i,messages:[],isLoading:!1})),I.success("创建新会话成功"),!0}catch(i){const o=((n=(a=i.response)==null?void 0:a.data)==null?void 0:n.message)||"创建会话失败";return t({error:o,isLoading:!1}),I.error(o),!1}},loadChatSessions:async()=>{var s,a;t({isLoading:!0,error:null});try{const n=await st.getChatSessions();t({chatSessions:n,isLoading:!1})}catch(n){const i=((a=(s=n.response)==null?void 0:s.data)==null?void 0:a.message)||"加载会话列表失败";t({error:i,isLoading:!1}),console.error("Load chat sessions error:",n)}},selectChatSession:s=>{t({currentSession:s,messages:(s==null?void 0:s.messages)||[],error:null})},sendMessage:async s=>{var i,o;const{currentSession:a}=e();if(!a)return I.error("请先选择或创建聊天会话"),!1;const n={role:"user",content:s,timestamp:new Date().toISOString()};t(l=>({messages:[...l.messages,n],isTyping:!0,error:null}));try{const l=await st.sendMessage(a.id,s);return t(c=>({messages:[...c.messages,l],isTyping:!1})),!0}catch(l){const c=((o=(i=l.response)==null?void 0:i.data)==null?void 0:o.message)||"发送消息失败";return t({isTyping:!1,error:c}),I.error(c),!1}},deleteChatSession:async s=>{var a,n;try{return await st.deleteChatSession(s),t(i=>{var o,l;return{chatSessions:i.chatSessions.filter(c=>c.id!==s),currentSession:((o=i.currentSession)==null?void 0:o.id)===s?null:i.currentSession,messages:((l=i.currentSession)==null?void 0:l.id)===s?[]:i.messages}}),I.success("会话删除成功"),!0}catch(i){const o=((n=(a=i.response)==null?void 0:a.data)==null?void 0:n.message)||"删除会话失败";return I.error(o),!1}},clearCurrentMessages:()=>{t({messages:[],currentSession:null})},generateStrategy:async s=>{var a,n;t({isGenerating:!0,error:null});try{const i=await st.generateStrategy(s);return t(o=>({generatedStrategies:[i,...o.generatedStrategies],currentGeneratedStrategy:i,isGenerating:!1})),I.success("策略生成成功"),i}catch(i){const o=((n=(a=i.response)==null?void 0:a.data)==null?void 0:n.message)||"策略生成失败";return t({error:o,isGenerating:!1}),I.error(o),null}},optimizeStrategy:async(s,a)=>{var n,i;t({isLoading:!0,error:null});try{const o=await st.optimizeStrategy(s,a);return t({isLoading:!1}),I.success("策略优化完成"),o}catch(o){const l=((i=(n=o.response)==null?void 0:n.data)==null?void 0:i.message)||"策略优化失败";throw t({error:l,isLoading:!1}),I.error(l),o}},explainStrategy:async s=>{var a,n;t({isLoading:!0,error:null});try{const i=await st.explainStrategy(s);return t({isLoading:!1}),i}catch(i){const o=((n=(a=i.response)==null?void 0:a.data)==null?void 0:n.message)||"策略解释失败";throw t({error:o,isLoading:!1}),I.error(o),i}},clearGeneratedStrategies:()=>{t({generatedStrategies:[],currentGeneratedStrategy:null})},analyzeMarket:async(s,a,n)=>{var o,l;const i=`${s}-${n}`;t({isAnalyzing:!0,error:null});try{const c=await st.analyzeMarket(s,a,n);return t(d=>({marketAnalyses:{...d.marketAnalyses,[i]:c},isAnalyzing:!1})),I.success(`${s} 市场分析完成`),c}catch(c){const d=((l=(o=c.response)==null?void 0:o.data)==null?void 0:l.message)||"市场分析失败";return t({error:d,isAnalyzing:!1}),I.error(d),null}},getTradingSignals:async(s,a,n)=>{var i,o;t({isLoading:!0,error:null});try{const l=await st.getTradingSignals(s,a,n);return t({isLoading:!1}),I.success(`${s} 交易信号获取成功`),l}catch(l){const c=((o=(i=l.response)==null?void 0:i.data)==null?void 0:o.message)||"获取交易信号失败";throw t({error:c,isLoading:!1}),I.error(c),l}},assessRisk:async(s,a)=>{var n,i;t({isLoading:!0,error:null});try{const o=await st.assessRisk(s,a);return t({isLoading:!1}),I.success("风险评估完成"),o}catch(o){const l=((i=(n=o.response)==null?void 0:n.data)==null?void 0:i.message)||"风险评估失败";throw t({error:l,isLoading:!1}),I.error(l),o}},clearError:()=>{t({error:null})},reset:()=>{t({chatSessions:[],currentSession:null,messages:[],isTyping:!1,generatedStrategies:[],isGenerating:!1,currentGeneratedStrategy:null,marketAnalyses:{},isAnalyzing:!1,isLoading:!1,error:null})}}),{name:"ai-storage",partialize:t=>({chatSessions:t.chatSessions,generatedStrategies:t.generatedStrategies,marketAnalyses:t.marketAnalyses})})),Ne={async getAccountBalance(t){try{const e=await U.get(`/trading/accounts/${t}/balance`);return D(e)}catch(e){F(e)}},async getSupportedExchanges(){try{const t=await U.get("/trading/exchanges");return D(t)}catch(t){F(t)}},async getSymbols(t){try{const e=await U.get(`/trading/exchanges/${t}/symbols`);return D(e)}catch(e){F(e)}},async createOrder(t){try{const e=await U.post("/trading/orders",t);return D(e)}catch(e){F(e)}},async getOrders(t){try{const e=await U.get("/trading/orders",{params:t});return D(e)}catch(e){F(e)}},async getOrder(t){try{const e=await U.get(`/trading/orders/${t}`);return D(e)}catch(e){F(e)}},async cancelOrder(t){try{const e=await U.delete(`/trading/orders/${t}`);return D(e)}catch(e){F(e)}},async getOrderStatistics(t=30){try{const e=await U.get(`/trading/orders/statistics?days=${t}`);return D(e)}catch(e){F(e)}},async getPositions(t){try{const e=t?`/trading/positions?exchange=${t}`:"/trading/positions",s=await U.get(e);return D(s)}catch(e){F(e)}},async getPositionPnL(t,e,s){try{const a=await U.get(`/trading/positions/${e}/${t}/pnl`,{params:{current_price:s}});return D(a)}catch(a){F(a)}},async getTradingSummary(t=30){try{const e=await U.get(`/trading/summary?days=${t}`);return D(e)}catch(e){F(e)}},async getDailyPnL(t=30){try{const e=await U.get(`/trading/daily-pnl?days=${t}`);return D(e)}catch(e){F(e)}},async getTrades(t){try{const e=await U.get("/trading/trades",{params:t});return D(e)}catch(e){F(e)}},async createTradingSession(t){try{const e=await U.post("/trading/sessions",t);return D(e)}catch(e){F(e)}},async getTradingSessions(){try{const t=await U.get("/trading/sessions");return D(t)}catch(t){F(t)}},async startTradingSession(t){try{const e=await U.post(`/trading/sessions/${t}/start`);return D(e)}catch(e){F(e)}},async stopTradingSession(t){try{const e=await U.post(`/trading/sessions/${t}/stop`);return D(e)}catch(e){F(e)}},async validateOrder(t){try{const e=await U.post("/trading/risk/validate-order",t);return D(e)}catch(e){F(e)}},async getPortfolioRisk(){try{const t=await U.get("/trading/risk/portfolio");return D(t)}catch(t){F(t)}},async getMarketData(t,e,s,a=100){try{const n=await U.get("/trading/market-data",{params:{exchange:t,symbol:e,timeframe:s,limit:a}});return D(n)}catch(n){F(n)}},async getTradingFees(t){try{const e=await U.get(`/trading/fees/${t}`);return D(e)}catch(e){F(e)}}},ma={exchange:"binance",symbol:"BTC/USDT",side:"buy",order_type:"limit",price:"",quantity:"",amount:""},dt=Wt()(Rs((t,e)=>({accounts:{},selectedExchange:"binance",supportedExchanges:[],availableSymbols:[],orders:[],activeOrders:[],orderHistory:[],orderStats:null,positions:[],totalPortfolioValue:0,totalUnrealizedPnL:0,totalRealizedPnL:0,tradingSummary:null,dailyPnLData:[],recentTrades:[],tradingSessions:[],activeSessions:[],tradingForm:ma,lastRiskAssessment:null,selectedTimeframe:"15m",showAdvancedOptions:!1,isLoading:!1,isPlacingOrder:!1,isLoadingPositions:!1,isLoadingOrders:!1,error:null,loadSupportedExchanges:async()=>{try{t({isLoading:!0,error:null});const s=await Ne.getSupportedExchanges();t({supportedExchanges:s,isLoading:!1})}catch(s){t({error:s instanceof Error?s.message:"Failed to load exchanges",isLoading:!1})}},loadAccountBalance:async s=>{try{t({isLoading:!0,error:null});const a=await Ne.getAccountBalance(s);t(n=>({accounts:{...n.accounts,[s]:a},isLoading:!1}))}catch(a){t({error:a instanceof Error?a.message:"Failed to load account balance",isLoading:!1})}},loadAvailableSymbols:async s=>{try{const a=await Ne.getSymbols(s);t({availableSymbols:a})}catch(a){console.error("Failed to load symbols:",a)}},switchExchange:s=>{t({selectedExchange:s}),e().loadAccountBalance(s),e().loadAvailableSymbols(s),e().loadPositions(s)},createOrder:async s=>{try{t({isPlacingOrder:!0,error:null});const a=await Ne.createOrder(s);return t(n=>({orders:[a,...n.orders],activeOrders:a.status==="filled"?n.activeOrders:[a,...n.activeOrders],isPlacingOrder:!1})),e().loadPositions(),e().loadAccountBalance(s.exchange),a}catch(a){return t({error:a instanceof Error?a.message:"Failed to create order",isPlacingOrder:!1}),null}},loadOrders:async(s={})=>{try{t({isLoadingOrders:!0,error:null});const a=await Ne.getOrders(s),n=a.filter(o=>!["filled","canceled","rejected","failed"].includes(o.status)),i=a.filter(o=>["filled","canceled","rejected","failed"].includes(o.status));t({orders:a,activeOrders:n,orderHistory:i,isLoadingOrders:!1})}catch(a){t({error:a instanceof Error?a.message:"Failed to load orders",isLoadingOrders:!1})}},cancelOrder:async s=>{try{t({isLoading:!0,error:null}),await Ne.cancelOrder(s),t(a=>({orders:a.orders.map(n=>n.id===s?{...n,status:"canceled"}:n),activeOrders:a.activeOrders.filter(n=>n.id!==s),isLoading:!1}))}catch(a){t({error:a instanceof Error?a.message:"Failed to cancel order",isLoading:!1})}},refreshOrder:async s=>{try{const a=await Ne.getOrder(s);t(n=>({orders:n.orders.map(i=>i.id===s?a:i),activeOrders:n.activeOrders.map(i=>i.id===s?a:i)}))}catch(a){console.error("Failed to refresh order:",a)}},loadOrderStatistics:async(s=30)=>{try{const a=await Ne.getOrderStatistics(s);t({orderStats:a})}catch(a){console.error("Failed to load order statistics:",a)}},loadPositions:async s=>{try{t({isLoadingPositions:!0,error:null});const a=await Ne.getPositions(s),n=a.reduce((l,c)=>l+c.current_value,0),i=a.reduce((l,c)=>l+c.unrealized_pnl,0),o=a.reduce((l,c)=>l+c.realized_pnl,0);t({positions:a,totalPortfolioValue:n,totalUnrealizedPnL:i,totalRealizedPnL:o,isLoadingPositions:!1})}catch(a){t({error:a instanceof Error?a.message:"Failed to load positions",isLoadingPositions:!1})}},refreshPositions:async()=>{const{selectedExchange:s}=e();await e().loadPositions(s)},calculatePositionPnL:async(s,a,n)=>{try{const i=await Ne.getPositionPnL(s,a,n);t(o=>({positions:o.positions.map(l=>l.symbol===s&&l.exchange===a?i:l)}))}catch(i){console.error("Failed to calculate position PnL:",i)}},loadTradingSummary:async(s=30)=>{try{t({isLoading:!0,error:null});const a=await Ne.getTradingSummary(s);t({tradingSummary:a,isLoading:!1})}catch(a){t({error:a instanceof Error?a.message:"Failed to load trading summary",isLoading:!1})}},loadDailyPnL:async(s=30)=>{try{const a=await Ne.getDailyPnL(s);t({dailyPnLData:a})}catch(a){console.error("Failed to load daily PnL:",a)}},loadRecentTrades:async(s={})=>{try{const a=await Ne.getTrades({...s,limit:50});t({recentTrades:a})}catch(a){console.error("Failed to load recent trades:",a)}},createTradingSession:async s=>{try{t({isLoading:!0,error:null});const a=await Ne.createTradingSession(s);return t(n=>({tradingSessions:[a,...n.tradingSessions],isLoading:!1})),a}catch(a){return t({error:a instanceof Error?a.message:"Failed to create trading session",isLoading:!1}),null}},loadTradingSessions:async()=>{try{const s=await Ne.getTradingSessions(),a=s.filter(n=>n.status==="active");t({tradingSessions:s,activeSessions:a})}catch(s){console.error("Failed to load trading sessions:",s)}},startTradingSession:async s=>{try{t({isLoading:!0,error:null}),await Ne.startTradingSession(s),t(a=>({tradingSessions:a.tradingSessions.map(n=>n.id===s?{...n,status:"active"}:n),isLoading:!1}))}catch(a){t({error:a instanceof Error?a.message:"Failed to start trading session",isLoading:!1})}},stopTradingSession:async s=>{try{t({isLoading:!0,error:null}),await Ne.stopTradingSession(s),t(a=>({tradingSessions:a.tradingSessions.map(n=>n.id===s?{...n,status:"stopped"}:n),isLoading:!1}))}catch(a){t({error:a instanceof Error?a.message:"Failed to stop trading session",isLoading:!1})}},updateTradingForm:(s,a)=>{t(n=>({tradingForm:{...n.tradingForm,[s]:a}})),(s==="price"||s==="quantity")&&e().calculateOrderAmount()},resetTradingForm:()=>{t({tradingForm:ma,lastRiskAssessment:null})},calculateOrderAmount:()=>{const{tradingForm:s}=e(),{price:a,quantity:n}=s;if(a&&n){const i=(parseFloat(a)*parseFloat(n)).toFixed(2);t(o=>({tradingForm:{...o.tradingForm,amount:i}}))}},validateOrder:async()=>{try{const{tradingForm:s}=e();if(!s.quantity||!s.price)return null;const a={exchange:s.exchange,symbol:s.symbol,order_type:s.order_type,side:s.side,amount:parseFloat(s.quantity),price:s.order_type==="limit"?parseFloat(s.price):void 0},n=await Ne.validateOrder(a);return t({lastRiskAssessment:n}),n}catch(s){return console.error("Failed to validate order:",s),null}},setSelectedTimeframe:s=>{t({selectedTimeframe:s})},toggleAdvancedOptions:()=>{t(s=>({showAdvancedOptions:!s.showAdvancedOptions}))},setLoading:s=>t({isLoading:s}),setError:s=>t({error:s}),clearError:()=>t({error:null}),reset:()=>t({accounts:{},orders:[],activeOrders:[],orderHistory:[],positions:[],tradingSessions:[],activeSessions:[],tradingForm:ma,lastRiskAssessment:null,isLoading:!1,isPlacingOrder:!1,isLoadingPositions:!1,isLoadingOrders:!1,error:null})}),{name:"trading-store",partialize:t=>({selectedExchange:t.selectedExchange,tradingForm:t.tradingForm,selectedTimeframe:t.selectedTimeframe,showAdvancedOptions:t.showAdvancedOptions})})),Jh=()=>dt(t=>({accounts:t.accounts,selectedExchange:t.selectedExchange,supportedExchanges:t.supportedExchanges,switchExchange:t.switchExchange,loadAccountBalance:t.loadAccountBalance,loadSupportedExchanges:t.loadSupportedExchanges})),Xh=()=>dt(t=>({orders:t.orders,activeOrders:t.activeOrders,orderHistory:t.orderHistory,orderStats:t.orderStats,isLoadingOrders:t.isLoadingOrders,isPlacingOrder:t.isPlacingOrder,createOrder:t.createOrder,loadOrders:t.loadOrders,cancelOrder:t.cancelOrder,loadOrderStatistics:t.loadOrderStatistics})),Yh=()=>dt(t=>({positions:t.positions,totalPortfolioValue:t.totalPortfolioValue,totalUnrealizedPnL:t.totalUnrealizedPnL,totalRealizedPnL:t.totalRealizedPnL,isLoadingPositions:t.isLoadingPositions,loadPositions:t.loadPositions,refreshPositions:t.refreshPositions})),e0=()=>dt(t=>({tradingForm:t.tradingForm,lastRiskAssessment:t.lastRiskAssessment,availableSymbols:t.availableSymbols,updateTradingForm:t.updateTradingForm,resetTradingForm:t.resetTradingForm,validateOrder:t.validateOrder,loadAvailableSymbols:t.loadAvailableSymbols})),ft={async createBacktest(t){try{const e=await U.post("/backtest",t);return D(e)}catch(e){F(e)}},async getBacktests(t){try{const e=await U.get("/backtest",{params:t});return D(e)}catch(e){F(e)}},async getBacktest(t){try{const e=await U.get(`/backtest/${t}`);return D(e)}catch(e){F(e)}},async getBacktestStatus(t){try{const e=await U.get(`/backtest/${t}/status`);return D(e)}catch(e){F(e)}},async stopBacktest(t){try{const e=await U.post(`/backtest/${t}/stop`);return D(e)}catch(e){F(e)}},async deleteBacktest(t){try{const e=await U.delete(`/backtest/${t}`);return D(e)}catch(e){F(e)}},async downloadBacktestReport(t,e="html"){try{return(await U.get(`/backtest/${t}/report`,{params:{format:e},responseType:"blob"})).data}catch(s){F(s)}},async compareBacktests(t){try{const e=await U.post("/backtest/compare",{backtest_ids:t});return D(e)}catch(e){F(e)}}},fa={strategy_id:"",symbol:"BTC/USDT",exchange:"binance",start_date:"2024-01-01",end_date:"2024-03-31",initial_capital:1e4,commission_rate:.001,timeframe:"1h"},tr=Wt()(Rs((t,e)=>({backtests:[],currentBacktest:null,loading:!1,error:null,configForm:fa,isCreatingBacktest:!1,runningBacktests:new Map,selectedForComparison:[],comparisonResult:null,pagination:{page:1,per_page:10,total:0,total_pages:0},filters:{},fetchBacktests:async s=>{t({loading:!0,error:null});try{const{page:a=1,per_page:n=10}=s||{},i=await ft.getBacktests({page:a,per_page:n,...e().filters});t({backtests:i,pagination:{page:a,per_page:n,total:i.length,total_pages:Math.ceil(i.length/n)},loading:!1})}catch(a){t({error:a instanceof Error?a.message:"Failed to fetch backtests",loading:!1})}},fetchBacktest:async s=>{t({loading:!0,error:null});try{const a=await ft.getBacktest(s);t({currentBacktest:a,loading:!1})}catch(a){t({error:a instanceof Error?a.message:"Failed to fetch backtest",loading:!1})}},refreshBacktest:async s=>{try{const a=await ft.getBacktest(s);t(n=>{var i;return{backtests:n.backtests.map(o=>o.id===s?a:o),currentBacktest:((i=n.currentBacktest)==null?void 0:i.id)===s?a:n.currentBacktest}})}catch(a){console.error("Failed to refresh backtest:",a)}},deleteBacktest:async s=>{t({loading:!0,error:null});try{await ft.deleteBacktest(s),t(a=>{var n;return{backtests:a.backtests.filter(i=>i.id!==s),currentBacktest:((n=a.currentBacktest)==null?void 0:n.id)===s?null:a.currentBacktest,loading:!1}})}catch(a){t({error:a instanceof Error?a.message:"Failed to delete backtest",loading:!1})}},createBacktest:async s=>{t({isCreatingBacktest:!0,error:null});try{const a=await ft.createBacktest(s);return t(n=>({backtests:[a,...n.backtests],currentBacktest:a,isCreatingBacktest:!1})),a.status==="running"&&e().pollBacktestStatus(a.id),a}catch(a){return t({error:a instanceof Error?a.message:"Failed to create backtest",isCreatingBacktest:!1}),null}},stopBacktest:async s=>{try{await ft.stopBacktest(s),t(a=>{var n;return{backtests:a.backtests.map(i=>i.id===s?{...i,status:"failed"}:i),currentBacktest:((n=a.currentBacktest)==null?void 0:n.id)===s?{...a.currentBacktest,status:"failed"}:a.currentBacktest}})}catch(a){t({error:a instanceof Error?a.message:"Failed to stop backtest"})}},updateBacktestForm:(s,a)=>{t(n=>({configForm:{...n.configForm,[s]:a}}))},resetBacktestForm:()=>{t({configForm:fa})},updateBacktestStatus:(s,a,n)=>{t(i=>({runningBacktests:new Map(i.runningBacktests).set(s,{status:a,progress:n})}))},pollBacktestStatus:async s=>{const n=async()=>{try{const i=await ft.getBacktestStatus(s);if(e().updateBacktestStatus(s,i.status,i.progress),i.status==="completed"||i.status==="failed"){e().refreshBacktest(s);return}setTimeout(n,3e3)}catch(i){console.error("Failed to poll backtest status:",i)}};n()},toggleComparisonSelection:s=>{t(a=>({selectedForComparison:a.selectedForComparison.includes(s)?a.selectedForComparison.filter(n=>n!==s):[...a.selectedForComparison,s].slice(0,5)}))},compareBacktests:async()=>{const{selectedForComparison:s}=e();if(!(s.length<2)){t({loading:!0,error:null});try{const a=await ft.compareBacktests(s);t({comparisonResult:a,loading:!1})}catch(a){t({error:a instanceof Error?a.message:"Failed to compare backtests",loading:!1})}}},clearComparison:()=>{t({selectedForComparison:[],comparisonResult:null})},downloadReport:async(s,a="html")=>{try{const n=await ft.downloadBacktestReport(s,a),i=window.URL.createObjectURL(n),o=document.createElement("a");o.href=i,o.download=`backtest-report-${s}.${a}`,document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(i)}catch(n){t({error:n instanceof Error?n.message:"Failed to download report"})}},setLoading:s=>t({loading:s}),setError:s=>t({error:s}),clearError:()=>t({error:null}),reset:()=>t({backtests:[],currentBacktest:null,loading:!1,error:null,configForm:fa,isCreatingBacktest:!1,runningBacktests:new Map,selectedForComparison:[],comparisonResult:null,pagination:{page:1,per_page:10,total:0,total_pages:0},filters:{}})}),{name:"backtest-store",partialize:t=>({configForm:t.configForm,selectedForComparison:t.selectedForComparison})})),t0=()=>tr(t=>({backtests:t.backtests,loading:t.loading,error:t.error,pagination:t.pagination,fetchBacktests:t.fetchBacktests,deleteBacktest:t.deleteBacktest,downloadReport:t.downloadReport})),s0=()=>tr(t=>({configForm:t.configForm,isCreatingBacktest:t.isCreatingBacktest,createBacktest:t.createBacktest,updateBacktestForm:t.updateBacktestForm,resetBacktestForm:t.resetBacktestForm})),r0=()=>tr(t=>({selectedForComparison:t.selectedForComparison,comparisonResult:t.comparisonResult,toggleComparisonSelection:t.toggleComparisonSelection,compareBacktests:t.compareBacktests,clearComparison:t.clearComparison})),mr=()=>{const t=Xe(u=>u.isLoading),e=hs(u=>u.isLoading),s=zo(u=>u.isLoading),a=ha(u=>u.isLoading),n=ha(u=>u.isGenerating),i=ha(u=>u.isAnalyzing),o=dt(u=>u.isLoading),l=dt(u=>u.isPlacingOrder),c=tr(u=>u.loading),d=tr(u=>u.isCreatingBacktest);return{isLoading:t||e||s||a||o||c,isGenerating:n,isAnalyzing:i,isPlacingOrder:l,isCreatingBacktest:d,loadingStates:{auth:t,market:e,strategy:s,ai:a,aiGenerating:n,aiAnalyzing:i,trading:o,placingOrder:l,backtest:c,creatingBacktest:d}}},fr=()=>{const t=hs(a=>a.isConnected),e=hs(a=>a.subscribedTickers),s=hs(a=>a.connectionStats);return{isConnected:t,subscribedCount:e.size,subscribedTickers:Array.from(e),connectionStats:s,refreshStats:hs.getState().getConnectionStats}},Ps=()=>{const t=Xe(a=>a.user),e=Xe(a=>a.isAuthenticated),s=(t==null?void 0:t.membership_level)||"basic";return{user:t,isAuthenticated:e,membershipLevel:s,isPremium:s==="premium"||s==="professional",isProfessional:s==="professional"}},Bt=({size:t="md",color:e="primary",className:s=""})=>{const a={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"},n={primary:"text-brand-500",secondary:"text-gray-500",white:"text-white"};return r.jsx("div",{className:`inline-block ${s}`,children:r.jsxs("svg",{className:`animate-spin ${a[t]} ${n[e]}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})},kt=({children:t,requireMembership:e})=>{const s=qa(),{isAuthenticated:a,isLoading:n,user:i,checkAuth:o}=Xe();if(_.useEffect(()=>{!a&&!n&&o()},[a,n,o]),n)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsx(Bt,{size:"lg"})});if(!a)return r.jsx(Go,{to:"/login",state:{from:s},replace:!0});if(e&&i){const l={basic:1,premium:2,professional:3},c=l[i.membership_level]||0,d=l[e]||0;if(c<d)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mb-4",children:r.jsx("div",{className:"w-16 h-16 mx-auto bg-yellow-100 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-8 h-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16c-.77.833.192 2.5 1.732 2.5z"})})})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"需要升级会员"}),r.jsxs("p",{className:"text-gray-500 mb-4",children:["此功能需要 ",e==="premium"?"高级版":"专业版"," 会员权限"]}),r.jsx("button",{onClick:()=>window.location.href="/profile/membership",className:"btn btn-primary btn-md",children:"升级会员"})]})})}return r.jsx(r.Fragment,{children:t})},pi=({variant:t="primary",size:e="md",loading:s=!1,children:a,className:n="",disabled:i,...o})=>{const l="btn",c={primary:"btn-primary",secondary:"btn-secondary",outline:"btn-outline",ghost:"btn-ghost",danger:"bg-red-500 text-white hover:bg-red-600 active:bg-red-700"},d={sm:"btn-sm",md:"btn-md",lg:"btn-lg"},u=i||s;return r.jsxs("button",{className:`
        ${l}
        ${c[t]}
        ${d[e]}
        ${u?"opacity-50 cursor-not-allowed":""}
        ${n}
      `,disabled:u,...o,children:[s&&r.jsx(Bt,{size:"sm",color:t==="primary"?"white":"primary",className:"mr-2"}),a]})},a0=_.forwardRef(({label:t,error:e,helperText:s,icon:a,iconPosition:n="left",className:i="",...o},l)=>{const c=!!a,u=`
    input
    ${c&&n==="left"?"pl-10":""}
    ${c&&n==="right"?"pr-10":""}
    ${!!e?"border-red-300 focus-visible:ring-red-500":""}
    ${i}
  `;return r.jsxs("div",{className:"w-full",children:[t&&r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t}),r.jsxs("div",{className:"relative",children:[c&&n==="left"&&r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("span",{className:"text-gray-400 sm:text-sm",children:a})}),r.jsx("input",{ref:l,className:u,...o}),c&&n==="right"&&r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:r.jsx("span",{className:"text-gray-400 sm:text-sm",children:a})})]}),e&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:e}),s&&!e&&r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:s})]})});a0.displayName="Input";const ot=({children:t,className:e="",padding:s="md"})=>{const a={none:"",sm:"p-4",md:"p-6",lg:"p-8"};return r.jsx("div",{className:`card ${a[s]} ${e}`,children:t})},n0=({children:t,className:e=""})=>r.jsx("div",{className:`card-header ${e}`,children:t}),i0=({children:t,className:e=""})=>r.jsx("h3",{className:`card-title ${e}`,children:t}),o0=({children:t,className:e=""})=>r.jsx("p",{className:`card-description ${e}`,children:t}),l0=({children:t,className:e=""})=>r.jsx("div",{className:`card-content ${e}`,children:t}),c0=({children:t,className:e=""})=>r.jsx("div",{className:`card-footer ${e}`,children:t});ot.Header=n0;ot.Title=i0;ot.Description=o0;ot.Content=l0;ot.Footer=c0;const yi=(t,e=1,s=!1)=>`${(s?t:t*100).toFixed(e)}%`,dn=(t,e="datetime")=>{const s=new Date(t);if(isNaN(s.getTime()))return"无效日期";const a=s.getFullYear(),n=String(s.getMonth()+1).padStart(2,"0"),i=String(s.getDate()).padStart(2,"0"),o=String(s.getHours()).padStart(2,"0"),l=String(s.getMinutes()).padStart(2,"0"),c=String(s.getSeconds()).padStart(2,"0");switch(e){case"date":return`${a}-${n}-${i}`;case"time":return`${o}:${l}:${c}`;case"short":return`${n}-${i} ${o}:${l}`;case"datetime":default:return`${a}-${n}-${i} ${o}:${l}:${c}`}},xa=({icon:t,title:e,value:s,suffix:a="",trend:n="neutral",iconBg:i="bg-blue-100",iconColor:o="text-blue-600",className:l=""})=>{const c=u=>{const m={key:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v-2H7v-2H4a1 1 0 01-1-1v-4c0-2.632 2.122-5.367 5.5-5.5L17 7z"})}),rocket:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),money:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})};return m[u]||m.money},d=()=>n==="positive"&&typeof s=="number"?r.jsxs("span",{className:"text-green-600 bg-green-50 px-2 py-1 rounded",children:["+",s,a]}):n==="negative"&&typeof s=="number"?r.jsxs("span",{className:"text-red-600 bg-red-50 px-2 py-1 rounded",children:[s,a]}):r.jsxs("span",{children:[s,a]});return r.jsx("div",{className:`bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all ${l}`,children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center mr-4 ${i}`,children:r.jsx("div",{className:o,children:c(t)})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-sm text-gray-500 mb-1",children:e}),r.jsx("p",{className:"text-2xl font-bold",children:d()})]})]})})},d0=()=>{const[t,e]=_.useState("3M"),s={"7d":[12.1,11.8,12.3,12.7,11.9,12.5,12.3],"1M":[8.2,9.1,10.5,11.2,11.8,12.1,12.3],"3M":[4.2,5.7,8.1,9.5,10.8,11.5,12.3]};return r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"✅ 当前收益率曲线 (公网热更新已成功)"}),r.jsx("div",{className:"flex space-x-2",children:["7d","1M","3M"].map(a=>r.jsx("button",{onClick:()=>e(a),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${t===a?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:a==="7d"?"近7天":a==="1M"?"本月":"近3月"},a))})]}),r.jsxs("div",{className:"h-64 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg flex items-center justify-center relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-4 flex items-end space-x-1",children:s[t].map((a,n)=>r.jsx("div",{className:"bg-blue-500 rounded-t flex-1 opacity-70 hover:opacity-100 transition-opacity cursor-pointer",style:{height:`${a/15*100}%`},title:`${a}%`},n))}),r.jsxs("div",{className:"text-center z-10",children:[r.jsx("p",{className:"text-sm text-blue-600 mb-1",children:"当前收益率"}),r.jsxs("p",{className:"text-3xl font-bold text-blue-700",children:["+",s[t].slice(-1)[0],"%"]}),r.jsx("p",{className:"text-xs text-blue-500 mt-1",children:"🎉 ECharts图表集成开发中 - 热更新测试成功！"})]})]})]})},bi=({activity:t})=>{const e=s=>{switch(s){case"strategy_created":return r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"});case"backtest_completed":return r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"});case"trade_executed":return r.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"});case"ai_chat":return r.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"});default:return r.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full"})}};return r.jsxs("div",{className:"flex items-center space-x-3 p-3 hover:bg-gray-50 rounded-lg",children:[e(t.type),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.title}),r.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.description})]}),r.jsx("div",{className:"text-xs text-gray-400",children:dn(t.timestamp,"short")})]})},u0=()=>{var k,N,b;const t=zt(),{user:e,isAuthenticated:s,isPremium:a}=Ps(),{isConnected:n}=fr(),{isLoading:i}=mr(),l=zo(p=>p.strategies).filter(p=>p.status==="running"),{data:c,isLoading:d}=kn({queryKey:["dashboard","stats"],queryFn:Fr.getStats,refetchInterval:3e4}),{data:u,isLoading:m}=kn({queryKey:["dashboard","activity"],queryFn:Fr.getRecentActivity}),[g]=_.useState({apiKeys:{current:6,total:10},activeStrategies:((k=c==null?void 0:c.live_strategies)==null?void 0:k.current)||l.length||4,monthlyReturn:12.3,totalBalance:((N=c==null?void 0:c.trading_stats)==null?void 0:N.net_amount)||56970,todayPnL:((b=c==null?void 0:c.trading_stats)==null?void 0:b.realized_pnl)||1240});return _.useEffect(()=>{if(!s){t("/login");return}},[s,t]),s?d?r.jsx("div",{className:"min-h-96 flex items-center justify-center",children:r.jsx(Bt,{size:"lg"})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center py-6",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["欢迎回来，",(e==null?void 0:e.username)||"交易员","！"]}),r.jsxs("p",{className:"text-gray-600 mt-1",children:["今日是 ",new Date().toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",weekday:"long"})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${n?"bg-green-500":"bg-red-500"}`}),r.jsx("span",{className:"text-sm text-gray-500",children:n?"实时数据已连接":"数据连接中断"})]}),a&&r.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 text-white px-3 py-1 rounded-full text-xs font-medium",children:"高级会员"})]})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsx(xa,{icon:"key",title:"APIKEY数量",value:`${g.apiKeys.current}/${g.apiKeys.total}`,iconBg:"bg-blue-100",iconColor:"text-blue-600"}),r.jsx(xa,{icon:"rocket",title:"实盘策略数",value:g.activeStrategies,iconBg:"bg-green-100",iconColor:"text-green-600"}),r.jsx(xa,{icon:"money",title:"本月收益率",value:g.monthlyReturn,suffix:"%",trend:"positive",iconBg:"bg-yellow-100",iconColor:"text-yellow-600"})]}),r.jsx("div",{className:"mb-8",children:r.jsx(d0,{})}),r.jsx("div",{className:"mt-8",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"最近活动"}),r.jsx("button",{onClick:()=>t("/trading/history"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"查看全部 →"})]}),r.jsx("div",{className:"space-y-4",children:m?r.jsx("div",{className:"h-32 flex items-center justify-center",children:r.jsx(Bt,{})}):u&&u.length>0?u.slice(0,3).map(p=>r.jsx(bi,{activity:p},p.id)):[{id:"1",type:"trade_executed",title:"EMA交叉策略执行了一笔交易",description:"2小时前 • BTC/USDT • +2.3% • $1,240",timestamp:new Date(Date.now()-2*60*60*1e3).toISOString(),status:"success"},{id:"2",type:"strategy_created",title:"RSI策略完成回测分析",description:"4小时前 • ETH/USDT • 胜率68% • 年化收益15%",timestamp:new Date(Date.now()-4*60*60*1e3).toISOString(),status:"success"},{id:"3",type:"ai_chat",title:"AI助手生成新策略建议",description:"6小时前 • 布林带突破策略优化方案",timestamp:new Date(Date.now()-6*60*60*1e3).toISOString(),status:"success"}].map(p=>r.jsx(bi,{activity:p},p.id))})]})})]}),i&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-20 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 flex items-center space-x-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),r.jsx("span",{className:"text-gray-900",children:"加载中..."})]})})]}):r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"正在验证身份..."})]})})},h0=()=>{var oe;const t=zt(),{user:e,isPremium:s}=Ps(),{isConnected:a}=fr();mr();const[n,i]=_.useState(!1),[o,l]=_.useState(null),[c,d]=_.useState(""),[u,m]=_.useState("all"),[g,k]=_.useState("list"),[N,b]=_.useState([{id:"1",name:"RSI 均值回归策略",description:"基于RSI指标的均值回归交易策略，适用于震荡市场",status:"running",pair:"BTC/USDT",profit:"+2,847.32",profitPercent:12.3,lastUpdate:"2024-01-15 14:30:25",createdAt:"2024-01-10 09:00:00",runningTime:"5天 12小时",totalTrades:28,winRate:67.8},{id:"2",name:"MACD 趋势跟踪",description:"使用MACD指标捕捉价格趋势，适合中长期投资",status:"stopped",pair:"ETH/USDT",profit:"+1,456.78",profitPercent:8.7,lastUpdate:"2024-01-14 16:45:10",createdAt:"2024-01-08 15:30:00",runningTime:"6天 8小时",totalTrades:15,winRate:73.3},{id:"3",name:"网格交易策略",description:"自动网格交易，利用价格波动实现稳定收益",status:"running",pair:"BNB/USDT",profit:"+3,284.56",profitPercent:15.8,lastUpdate:"2024-01-15 15:20:45",createdAt:"2024-01-05 10:15:00",runningTime:"10天 5小时",totalTrades:42,winRate:71.4},{id:"4",name:"布林带突破策略",description:"基于布林带指标的突破交易策略",status:"paused",pair:"SOL/USDT",profit:"+890.34",profitPercent:4.2,lastUpdate:"2024-01-13 20:15:30",createdAt:"2024-01-12 14:00:00",runningTime:"1天 6小时",totalTrades:8,winRate:62.5}]),p=N.filter(y=>{var X;const T=y.name.toLowerCase().includes(c.toLowerCase())||((X=y.description)==null?void 0:X.toLowerCase().includes(c.toLowerCase())),M=u==="all"||y.status===u;return T&&M}),E={total:N.length,running:N.filter(y=>y.status==="running").length,stopped:N.filter(y=>y.status==="stopped").length,paused:N.filter(y=>y.status==="paused").length,totalProfit:N.reduce((y,T)=>y+parseFloat(T.profit.replace(/[+,]/g,"")),0),totalTrades:N.reduce((y,T)=>y+(T.totalTrades||0),0),avgWinRate:N.reduce((y,T)=>y+(T.winRate||0),0)/N.length},f=()=>{if(!s){I.error("创建策略需要升级到高级版本");return}t("/strategy/create")},j=y=>{l(y),t(`/strategy/edit/${y.id}`)},w=y=>{l(y),t(`/backtest?strategy=${y.id}`)},A=y=>{if(!s){I.error("启动策略需要高级版本");return}b(T=>T.map(M=>M.id===y.id?{...M,status:"running"}:M)),I.success(`策略 "${y.name}" 已启动`)},Z=y=>{b(T=>T.map(M=>M.id===y.id?{...M,status:"stopped"}:M)),I.success(`策略 "${y.name}" 已停止`)},B=y=>{b(T=>T.map(M=>M.id===y.id?{...M,status:"paused"}:M)),I.success(`策略 "${y.name}" 已暂停`)},Q=y=>{window.confirm(`确定要删除策略 "${y.name}" 吗？该操作不可恢复。`)&&(b(T=>T.filter(M=>M.id!==y.id)),I.success("策略已删除"))},G=y=>{switch(y){case"running":return"bg-green-100 text-green-800";case"stopped":return"bg-gray-100 text-gray-800";case"paused":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},te=y=>{switch(y){case"running":return"运行中";case"stopped":return"已停止";case"paused":return"已暂停";default:return"未知"}};return r.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:r.jsxs("div",{className:"max-w-[1440px] mx-auto bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[r.jsxs("header",{className:"py-4 px-8 flex justify-between border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-7 h-7 rounded-full bg-brand-500 flex items-center justify-center mr-3",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"T"})}),r.jsx("h1",{className:"text-xl font-bold text-brand-500",children:"Trademe"})]}),r.jsxs("nav",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>t("/"),className:"nav-item",children:"首页"}),r.jsx("button",{className:"nav-item active",children:"策略交易"}),r.jsx("button",{onClick:()=>t("/trading"),className:"nav-item",children:"图表交易"}),r.jsx("button",{onClick:()=>t("/api-keys"),className:"nav-item",children:"API管理"}),r.jsx("button",{onClick:()=>t("/insights"),className:"nav-item",children:"交易心得"}),r.jsx("button",{onClick:()=>t("/profile"),className:"nav-item",children:"账户中心"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${a?"bg-green-500":"bg-red-500"}`}),r.jsx("span",{className:"text-gray-600",children:a?"策略服务已连接":"策略服务断开"})]}),r.jsx("div",{className:"w-9 h-9 rounded-full bg-gray-200 overflow-hidden cursor-pointer",children:e!=null&&e.avatar_url?r.jsx("img",{src:e.avatar_url,alt:"User avatar",className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-brand-100 text-brand-600 font-medium",children:((oe=e==null?void 0:e.username)==null?void 0:oe.charAt(0).toUpperCase())||"U"})})]})]}),r.jsxs("main",{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl p-4 border border-blue-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-blue-600",children:"策略总数"}),r.jsx("p",{className:"text-2xl font-bold text-blue-900",children:E.total})]}),r.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),r.jsx("div",{className:"bg-gradient-to-r from-green-50 to-green-100 rounded-xl p-4 border border-green-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-green-600",children:"运行中"}),r.jsx("p",{className:"text-2xl font-bold text-green-900",children:E.running})]}),r.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H15M9 10V9a2 2 0 012-2h2a2 2 0 012 2v1M9 10v5a2 2 0 002 2h2a2 2 0 002-2v-5m-6 0h6"})})})]})}),r.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 rounded-xl p-4 border border-purple-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-purple-600",children:"总收益"}),r.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:["+",E.totalProfit.toLocaleString()]})]}),r.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]})}),r.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 rounded-xl p-4 border border-orange-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-orange-600",children:"平均胜率"}),r.jsxs("p",{className:"text-2xl font-bold text-orange-900",children:[E.avgWinRate.toFixed(1),"%"]})]}),r.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})})]})})]}),r.jsx("section",{className:"mb-6",children:r.jsxs("div",{className:"flex border-b border-gray-200",children:[r.jsx("button",{className:"px-6 py-3 font-medium border-b-2 border-brand-500 text-brand-600",children:"实盘管理"}),r.jsx("button",{onClick:()=>t("/backtest"),className:"px-6 py-3 font-medium text-gray-500 hover:text-gray-700 transition-colors",children:"回测管理"})]})}),r.jsxs("section",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[r.jsxs("div",{className:"p-6 border-b border-gray-100",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"策略列表"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"管理您的交易策略，监控实时表现"})]}),r.jsxs("button",{onClick:f,className:"px-4 py-2 bg-brand-500 text-white rounded-lg font-medium flex items-center hover:bg-brand-600 transition-colors",children:[r.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),s?"创建策略":"升级创建"]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx("input",{type:"text",placeholder:"搜索策略名称或描述...",value:c,onChange:y=>d(y.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent"}),r.jsx("svg",{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),r.jsxs("select",{value:u,onChange:y=>m(y.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"全部状态"}),r.jsx("option",{value:"running",children:"运行中"}),r.jsx("option",{value:"stopped",children:"已停止"}),r.jsx("option",{value:"paused",children:"已暂停"})]})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[r.jsx("button",{onClick:()=>k("list"),className:`px-3 py-2 text-sm transition-colors ${g==="list"?"bg-brand-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})}),r.jsx("button",{onClick:()=>k("card"),className:`px-3 py-2 text-sm transition-colors ${g==="card"?"bg-brand-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})})]})})]})]}),r.jsxs("div",{className:g==="list"?"overflow-x-auto":"p-6",children:[g==="list"?r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"策略信息"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"状态"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"交易对"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"收益"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"表现"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(y=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("div",{className:"font-medium text-gray-900",children:y.name}),r.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:y.description}),r.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["创建于 ",y.createdAt]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${G(y.status)}`,children:te(y.status)}),y.runningTime&&r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["运行 ",y.runningTime]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"font-medium text-gray-900",children:y.pair})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsxs("div",{className:`font-semibold ${y.profitPercent>=0?"text-green-600":"text-red-600"}`,children:[y.profit," USDT"]}),r.jsxs("div",{className:`text-sm ${y.profitPercent>=0?"text-green-500":"text-red-500"}`,children:[y.profitPercent>0?"+":"",y.profitPercent,"%"]})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsxs("div",{className:"text-sm text-gray-900",children:["交易 ",y.totalTrades," 笔"]}),r.jsxs("div",{className:"text-sm text-gray-500",children:["胜率 ",y.winRate,"%"]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[y.status==="running"?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>B(y),className:"px-3 py-1 rounded bg-yellow-100 text-yellow-700 hover:bg-yellow-200 transition-colors text-xs",children:"暂停"}),r.jsx("button",{onClick:()=>Z(y),className:"px-3 py-1 rounded bg-red-100 text-red-700 hover:bg-red-200 transition-colors text-xs",children:"停止"})]}):y.status==="paused"?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>A(y),className:"px-3 py-1 rounded bg-green-100 text-green-700 hover:bg-green-200 transition-colors text-xs",children:"继续"}),r.jsx("button",{onClick:()=>Z(y),className:"px-3 py-1 rounded bg-red-100 text-red-700 hover:bg-red-200 transition-colors text-xs",children:"停止"})]}):r.jsx("button",{onClick:()=>A(y),className:"px-3 py-1 rounded bg-green-100 text-green-700 hover:bg-green-200 transition-colors text-xs",children:"启动"}),r.jsx("button",{onClick:()=>w(y),className:"px-3 py-1 rounded bg-blue-100 text-blue-700 hover:bg-blue-200 transition-colors text-xs",children:"回测"}),r.jsx("button",{onClick:()=>j(y),className:"px-3 py-1 rounded bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors text-xs",children:"编辑"}),r.jsx("button",{onClick:()=>Q(y),className:"px-3 py-1 rounded bg-red-100 text-red-700 hover:bg-red-200 transition-colors text-xs",children:"删除"})]})})]},y.id))})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(y=>r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:[r.jsx("div",{className:"flex items-start justify-between mb-4",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:y.name}),r.jsx("p",{className:"text-sm text-gray-500 mb-2 line-clamp-2",children:y.description}),r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${G(y.status)}`,children:te(y.status)})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"交易对:"}),r.jsx("span",{className:"font-medium",children:y.pair})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"收益:"}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:`font-semibold ${y.profitPercent>=0?"text-green-600":"text-red-600"}`,children:[y.profit," USDT"]}),r.jsxs("div",{className:`text-xs ${y.profitPercent>=0?"text-green-500":"text-red-500"}`,children:[y.profitPercent>0?"+":"",y.profitPercent,"%"]})]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"胜率:"}),r.jsxs("span",{className:"font-medium",children:[y.winRate,"%"]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"交易笔数:"}),r.jsx("span",{className:"font-medium",children:y.totalTrades})]}),y.runningTime&&r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"运行时间:"}),r.jsx("span",{className:"font-medium",children:y.runningTime})]})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex flex-wrap gap-2",children:[y.status==="running"?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>B(y),className:"flex-1 px-3 py-2 rounded bg-yellow-100 text-yellow-700 hover:bg-yellow-200 transition-colors text-sm",children:"暂停"}),r.jsx("button",{onClick:()=>Z(y),className:"flex-1 px-3 py-2 rounded bg-red-100 text-red-700 hover:bg-red-200 transition-colors text-sm",children:"停止"})]}):r.jsx("button",{onClick:()=>A(y),className:"flex-1 px-3 py-2 rounded bg-green-100 text-green-700 hover:bg-green-200 transition-colors text-sm",children:"启动"}),r.jsx("button",{onClick:()=>w(y),className:"px-3 py-2 rounded bg-blue-100 text-blue-700 hover:bg-blue-200 transition-colors text-sm",children:"回测"}),r.jsx("button",{onClick:()=>j(y),className:"px-3 py-2 rounded bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors text-sm",children:"编辑"})]})]},y.id))}),p.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:c||u!=="all"?"没有找到匹配的策略":"暂无策略"}),r.jsx("p",{className:"text-gray-500 mb-6",children:c||u!=="all"?"请尝试修改搜索条件":"开始创建您的第一个交易策略"}),!c&&u==="all"&&r.jsx("button",{onClick:f,className:"px-6 py-3 bg-brand-500 text-white rounded-lg font-medium hover:bg-brand-600 transition-colors",children:s?"创建策略":"升级后创建"})]})]})]})]})]})})},m0=()=>{var g,k,N,b,p,E,f,j;const t=zt(),{user:e}=Ps();fr(),mr();const[s,a]=_.useState(""),[n,i]=_.useState(null),[o,l]=_.useState(!1),[c]=_.useState([{id:"1",name:"EMA交叉策略",tradingPair:"BTC/USDT",exchange:"币安",status:"running",profitRate:8.2,signalCount:16,createdAt:"2024-05-10",winRate:68.4,totalTrades:16},{id:"2",name:"RSI超买超卖策略",tradingPair:"ETH/USDT",exchange:"OKX",status:"running",profitRate:5.7,signalCount:12,createdAt:"2024-05-12"},{id:"3",name:"布林带突破策略",tradingPair:"SOL/USDT",exchange:"币安",status:"paused",profitRate:10.3,signalCount:8,createdAt:"2024-05-08"},{id:"4",name:"MACD背离策略",tradingPair:"DOGE/USDT",exchange:"OKX",status:"stopped",profitRate:-2.8,signalCount:6,createdAt:"2024-05-05"}]),d={activeStrategies:c.filter(w=>w.status==="running").length,totalReturn:15.8,maxDrawdown:-6.3,lastTradeTime:"2小时前"},u=(w,A)=>{I.success(`策略${A==="pause"?"已暂停":A==="stop"?"已停止":"已启动"}`)},m=w=>{const A={running:"bg-green-50 text-green-700 border-green-200",paused:"bg-yellow-50 text-yellow-700 border-yellow-200",stopped:"bg-gray-50 text-gray-700 border-gray-200"},Z={running:"运行中",paused:"已暂停",stopped:"已停止"};return r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-md text-xs font-medium border ${A[w]}`,children:Z[w]})};return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs("div",{className:"w-full max-w-7xl min-h-screen bg-white rounded-xl shadow-xl border border-gray-200 mx-auto",children:[r.jsxs("header",{className:"py-4 px-8 flex justify-between border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-7 h-7 mr-3 flex items-center justify-center",children:r.jsxs("svg",{viewBox:"0 0 24 24",className:"w-full h-full",style:{color:"#1a3d7c"},children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"2"}),r.jsx("path",{d:"M8 12h8M12 8v8",stroke:"currentColor",strokeWidth:"2"})]})}),r.jsx("h1",{className:"text-xl font-bold",style:{color:"#1a3d7c"},children:"Trademe"})]}),r.jsxs("nav",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>t("/"),className:"px-4 py-2 text-blue-600 font-medium hover:bg-blue-50 rounded-lg",children:"首页"}),r.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white font-medium rounded-lg",children:"策略交易"}),r.jsx("button",{onClick:()=>t("/trading"),className:"px-4 py-2 text-blue-600 font-medium hover:bg-blue-50 rounded-lg",children:"图表交易"}),r.jsx("button",{onClick:()=>t("/api-keys"),className:"px-4 py-2 text-blue-600 font-medium hover:bg-blue-50 rounded-lg",children:"API管理"}),r.jsx("button",{className:"px-4 py-2 text-blue-600 font-medium hover:bg-blue-50 rounded-lg",children:"交易心得"}),r.jsx("button",{onClick:()=>t("/profile"),className:"px-4 py-2 text-blue-600 font-medium hover:bg-blue-50 rounded-lg",children:"账户中心"})]}),r.jsx("div",{className:"flex items-center",children:r.jsx("div",{className:"w-9 h-9 rounded-full bg-gray-200 overflow-hidden",children:e!=null&&e.avatar_url?r.jsx("img",{src:e.avatar_url,alt:"User avatar",className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-blue-100 text-blue-600 font-medium",children:((g=e==null?void 0:e.username)==null?void 0:g.charAt(0).toUpperCase())||"U"})})})]}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex items-center mb-6",children:[r.jsxs("button",{onClick:()=>t("/strategies"),className:"text-blue-600 hover:underline flex items-center mr-2",children:[r.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"返回策略列表"]}),r.jsx("span",{className:"text-gray-500",children:"/ 实盘管理"})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold mb-2",style:{color:"#1a3d7c"},children:"实盘策略管理"}),r.jsx("p",{className:"text-gray-500",children:"管理您当前运行中的实盘策略"})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 flex items-center",children:[r.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center mr-4",style:{backgroundColor:"#e9f1fe"},children:r.jsx("svg",{className:"w-6 h-6",style:{color:"#1a3d7c"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm text-gray-500 mb-1",children:"活跃策略"}),r.jsx("p",{className:"text-2xl font-bold",children:d.activeStrategies})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 flex items-center",children:[r.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center mr-4",style:{backgroundColor:"#e9faf3"},children:r.jsx("svg",{className:"w-6 h-6",style:{color:"#21ce90"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm text-gray-500 mb-1",children:"总收益率"}),r.jsx("p",{className:"text-2xl font-bold",children:r.jsxs("span",{className:"bg-green-50 text-green-600 px-2 py-1 rounded",children:["+",d.totalReturn,"%"]})})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 flex items-center",children:[r.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center mr-4",style:{backgroundColor:"#f8f3d6"},children:r.jsx("svg",{className:"w-6 h-6",style:{color:"#f0b90b"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm text-gray-500 mb-1",children:"最大回撤"}),r.jsx("p",{className:"text-2xl font-bold",children:r.jsxs("span",{className:"bg-red-50 text-red-600 px-2 py-1 rounded",children:[d.maxDrawdown,"%"]})})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 flex items-center",children:[r.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center mr-4",style:{backgroundColor:"#fef1f1"},children:r.jsx("svg",{className:"w-6 h-6",style:{color:"#f53d3d"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm text-gray-500 mb-1",children:"上次交易"}),r.jsx("p",{className:"text-lg font-bold",children:d.lastTradeTime})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-xl font-bold",style:{color:"#1a3d7c"},children:"实盘策略列表"}),r.jsxs("div",{className:"flex",children:[r.jsxs("button",{className:"bg-blue-600 text-white rounded-lg px-4 py-2 font-medium hover:bg-blue-700 transition-colors flex items-center mr-2",children:[r.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"添加策略"]}),r.jsx("input",{type:"text",className:"border border-gray-200 bg-gray-50 rounded-lg px-4 py-2 w-64 text-sm focus:border-blue-600 focus:outline-none focus:bg-white",placeholder:"搜索策略...",value:s,onChange:w=>a(w.target.value)})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"bg-gray-50 border-b border-gray-200 px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"策略名称"}),r.jsx("th",{className:"bg-gray-50 border-b border-gray-200 px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"交易对"}),r.jsx("th",{className:"bg-gray-50 border-b border-gray-200 px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"交易所"}),r.jsx("th",{className:"bg-gray-50 border-b border-gray-200 px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"状态"}),r.jsx("th",{className:"bg-gray-50 border-b border-gray-200 px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"收益率"}),r.jsx("th",{className:"bg-gray-50 border-b border-gray-200 px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"信号数量"}),r.jsx("th",{className:"bg-gray-50 border-b border-gray-200 px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"创建时间"}),r.jsx("th",{className:"bg-gray-50 border-b border-gray-200 px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"操作"})]})}),r.jsx("tbody",{children:c.filter(w=>w.name.toLowerCase().includes(s.toLowerCase())).map(w=>r.jsxs("tr",{className:"cursor-pointer hover:bg-blue-50 border-b border-gray-100",onClick:()=>i(n===w.id?null:w.id),children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:w.name}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:w.tradingPair}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:w.exchange}),r.jsx("td",{className:"px-4 py-3 text-sm",children:m(w.status)}),r.jsx("td",{className:"px-4 py-3 text-sm",children:r.jsxs("span",{className:`px-2 py-1 rounded ${w.profitRate>0?"bg-green-50 text-green-600":"bg-red-50 text-red-600"}`,children:[w.profitRate>0?"+":"",w.profitRate,"%"]})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:w.signalCount}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:w.createdAt}),r.jsx("td",{className:"px-4 py-3 text-sm",children:r.jsxs("div",{className:"flex space-x-2",children:[w.status==="running"?r.jsx("button",{onClick:A=>{A.stopPropagation(),u(w.id,"pause")},className:"text-blue-600 hover:text-blue-800",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 9v6m4-6v6"})})}):r.jsx("button",{onClick:A=>{A.stopPropagation(),u(w.id,"start")},className:"text-green-600 hover:text-green-800",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H15"})})}),r.jsx("button",{onClick:A=>{A.stopPropagation(),u(w.id,"stop")},className:"text-red-600 hover:text-red-800",children:r.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 10h6v4H9z"})]})}),r.jsx("button",{className:"text-gray-600 hover:text-gray-800",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]})})]},w.id))})]})})]}),n&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[r.jsxs("div",{className:"flex justify-between items-start mb-6",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-bold mb-2",style:{color:"#1a3d7c"},children:[(k=c.find(w=>w.id===n))==null?void 0:k.name," 详情"]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-sm text-gray-600",children:(N=c.find(w=>w.id===n))==null?void 0:N.tradingPair}),r.jsx("span",{className:"text-sm text-gray-600",children:(b=c.find(w=>w.id===n))==null?void 0:b.exchange}),m(((p=c.find(w=>w.id===n))==null?void 0:p.status)||"stopped")]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{className:"border border-blue-600 text-blue-600 rounded-lg px-4 py-2 text-sm font-medium hover:bg-blue-50",children:"暂停"}),r.jsx("button",{className:"border border-red-600 text-red-600 rounded-lg px-4 py-2 text-sm font-medium hover:bg-red-50",children:"终止"})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-6",children:[r.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[r.jsx("p",{className:"text-gray-500 mb-2 text-sm",children:"总收益率"}),r.jsx("p",{className:"text-2xl font-bold",children:r.jsxs("span",{className:"bg-green-50 text-green-600 px-2 py-1 rounded",children:["+",(E=c.find(w=>w.id===n))==null?void 0:E.profitRate,"%"]})})]}),r.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[r.jsx("p",{className:"text-gray-500 mb-2 text-sm",children:"胜率"}),r.jsxs("p",{className:"text-2xl font-bold",children:[((f=c.find(w=>w.id===n))==null?void 0:f.winRate)||0,"%"]})]}),r.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[r.jsx("p",{className:"text-gray-500 mb-2 text-sm",children:"交易次数"}),r.jsx("p",{className:"text-2xl font-bold",children:((j=c.find(w=>w.id===n))==null?void 0:j.totalTrades)||0})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"font-bold mb-4",children:"策略收益曲线"}),r.jsx("div",{className:"h-64 bg-gray-50 rounded-lg border border-gray-200 flex items-center justify-center",children:r.jsx("p",{className:"text-gray-500",children:"📈 收益曲线图表（需要ECharts集成）"})})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-xl font-bold mb-6",style:{color:"#1a3d7c"},children:"策略参数设置"}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"策略类型"}),r.jsxs("select",{className:"w-full border border-gray-200 bg-gray-50 rounded-lg px-4 py-3 text-sm focus:border-blue-600 focus:outline-none focus:bg-white",children:[r.jsx("option",{children:"EMA交叉策略"}),r.jsx("option",{children:"RSI超买超卖策略"}),r.jsx("option",{children:"布林带突破策略"}),r.jsx("option",{children:"MACD背离策略"})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"交易对"}),r.jsxs("select",{className:"w-full border border-gray-200 bg-gray-50 rounded-lg px-4 py-3 text-sm focus:border-blue-600 focus:outline-none focus:bg-white",children:[r.jsx("option",{children:"BTC/USDT"}),r.jsx("option",{children:"ETH/USDT"}),r.jsx("option",{children:"SOL/USDT"}),r.jsx("option",{children:"DOGE/USDT"})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"交易所"}),r.jsxs("select",{className:"w-full border border-gray-200 bg-gray-50 rounded-lg px-4 py-3 text-sm focus:border-blue-600 focus:outline-none focus:bg-white",children:[r.jsx("option",{children:"币安"}),r.jsx("option",{children:"OKX"}),r.jsx("option",{children:"火币"})]})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"EMA短周期"}),r.jsx("input",{type:"number",className:"w-full border border-gray-200 bg-gray-50 rounded-lg px-4 py-3 text-sm focus:border-blue-600 focus:outline-none focus:bg-white",defaultValue:"10"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"EMA长周期"}),r.jsx("input",{type:"number",className:"w-full border border-gray-200 bg-gray-50 rounded-lg px-4 py-3 text-sm focus:border-blue-600 focus:outline-none focus:bg-white",defaultValue:"50"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"止损比例"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",className:"w-full border border-gray-200 bg-gray-50 rounded-lg px-4 py-3 pr-8 text-sm focus:border-blue-600 focus:outline-none focus:bg-white",defaultValue:"1.5"}),r.jsx("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm",children:"%"})]})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-6 mt-6 flex justify-end",children:[r.jsx("button",{className:"border border-gray-300 rounded-lg px-4 py-2 text-gray-700 font-medium mr-3 hover:bg-gray-50",children:"取消"}),r.jsx("button",{className:"bg-blue-600 text-white rounded-lg px-4 py-2 font-medium hover:bg-blue-700 transition-colors",children:"更新策略参数"})]})]})]})]})})},f0=()=>{var Z,B,Q,G,te,oe,y,T,M,X,ae,fe;const{user:t}=Xe(),[e,s]=_.useState("create"),{backtests:a,loading:n,error:i,fetchBacktests:o,deleteBacktest:l,downloadReport:c}=t0(),{configForm:d,isCreatingBacktest:u,createBacktest:m,updateBacktestForm:g,resetBacktestForm:k}=s0(),{selectedForComparison:N,toggleComparisonSelection:b,compareBacktests:p,clearComparison:E}=r0();_.useEffect(()=>{o()},[]);const f=async()=>{if(!d.strategy_id){alert("请选择策略");return}await m(d)&&s("history")},j=async z=>{confirm("确定要删除这个回测吗？")&&await l(z)},w=z=>{switch(z){case"completed":return"bg-green-100 text-green-800";case"running":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},A=z=>{switch(z){case"completed":return"已完成";case"running":return"运行中";case"failed":return"已失败";default:return"未知"}};return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs("div",{className:"w-full max-w-6xl min-h-screen bg-white rounded-xl shadow-xl border border-gray-200 mx-auto",children:[r.jsxs("header",{className:"py-4 px-8 flex justify-between items-center border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsxs("svg",{className:"w-7 h-7 mr-3",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"#1a3d7c",strokeWidth:"2",fill:"none"}),r.jsx("path",{d:"M8 12h8M12 8v8",stroke:"#1a3d7c",strokeWidth:"2"})]}),r.jsx("h1",{className:"text-xl font-bold",style:{color:"#1a3d7c"},children:"Trademe"})]}),r.jsxs("nav",{className:"flex gap-2",children:[r.jsx(ve,{to:"/",className:"px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:"首页"}),r.jsx(ve,{to:"/strategies",className:"px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:"策略交易"}),r.jsx(ve,{to:"/trading",className:"px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:"图表交易"}),r.jsx(ve,{to:"/api-keys",className:"px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:"API管理"}),r.jsx(ve,{to:"/trading-notes",className:"px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:"交易心得"}),r.jsx(ve,{to:"/profile",className:"px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:"账户中心"})]}),r.jsx("div",{className:"flex items-center",children:r.jsx("div",{className:"w-9 h-9 rounded-full bg-gray-200 overflow-hidden",children:r.jsx("div",{className:"w-full h-full bg-gradient-to-r from-blue-400 to-blue-600 flex items-center justify-center text-white font-semibold",children:(Z=t==null?void 0:t.username)==null?void 0:Z.charAt(0).toUpperCase()})})})]}),r.jsxs("main",{className:"p-8",children:[r.jsx("section",{className:"mb-8",children:r.jsxs("div",{className:"flex border-b border-gray-200",children:[r.jsx("button",{onClick:()=>s("create"),className:`px-6 py-3 font-medium border-b-2 transition-colors ${e==="create"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"创建回测"}),r.jsx("button",{onClick:()=>s("history"),className:`px-6 py-3 font-medium border-b-2 transition-colors ${e==="history"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"回测历史"})]})}),e==="create"?r.jsxs("section",{className:"grid grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h2",{className:"text-xl font-bold mb-6",style:{color:"#1a3d7c"},children:"回测配置"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"选择策略 *"}),r.jsxs("select",{value:d.strategy_id,onChange:z=>g("strategy_id",z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[r.jsx("option",{value:"",children:"请选择策略"}),r.jsx("option",{value:"rsi_strategy",children:"RSI 均值回归策略"}),r.jsx("option",{value:"macd_strategy",children:"MACD 趋势跟踪"}),r.jsx("option",{value:"grid_strategy",children:"网格交易策略"}),r.jsx("option",{value:"ema_crossover",children:"EMA 交叉策略"}),r.jsx("option",{value:"bollinger_strategy",children:"布林带突破策略"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"交易对"}),r.jsxs("select",{value:d.symbol,onChange:z=>g("symbol",z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"BTC/USDT",children:"BTC/USDT"}),r.jsx("option",{value:"ETH/USDT",children:"ETH/USDT"}),r.jsx("option",{value:"BNB/USDT",children:"BNB/USDT"}),r.jsx("option",{value:"SOL/USDT",children:"SOL/USDT"}),r.jsx("option",{value:"ADA/USDT",children:"ADA/USDT"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"交易所"}),r.jsxs("select",{value:d.exchange,onChange:z=>g("exchange",z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"binance",children:"币安 (Binance)"}),r.jsx("option",{value:"okx",children:"OKX"}),r.jsx("option",{value:"huobi",children:"火币 (Huobi)"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"开始日期"}),r.jsx("input",{type:"date",value:d.start_date,onChange:z=>g("start_date",z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"结束日期"}),r.jsx("input",{type:"date",value:d.end_date,onChange:z=>g("end_date",z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"初始资金 (USDT)"}),r.jsx("input",{type:"number",value:d.initial_capital,onChange:z=>g("initial_capital",Number(z.target.value)),min:"100",step:"100",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"时间框架"}),r.jsxs("select",{value:d.timeframe,onChange:z=>g("timeframe",z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"1m",children:"1分钟"}),r.jsx("option",{value:"5m",children:"5分钟"}),r.jsx("option",{value:"15m",children:"15分钟"}),r.jsx("option",{value:"1h",children:"1小时"}),r.jsx("option",{value:"4h",children:"4小时"}),r.jsx("option",{value:"1d",children:"1天"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"手续费率 (%)"}),r.jsx("input",{type:"number",value:d.commission_rate*100,onChange:z=>g("commission_rate",Number(z.target.value)/100),step:"0.001",min:"0",max:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"币安 Maker: 0.1%, Taker: 0.1%"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:f,disabled:u||!d.strategy_id,className:"flex-1 py-3 rounded-lg text-white font-medium transition-all hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",style:{backgroundColor:"#1a3d7c"},children:u?r.jsxs(r.Fragment,{children:[r.jsx(Bt,{size:"sm",className:"mr-2"}),"创建中..."]}):"开始回测"}),r.jsx("button",{onClick:k,className:"px-4 py-3 rounded-lg border border-gray-300 text-gray-700 font-medium transition-all hover:bg-gray-50",children:"重置"})]}),i&&r.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-red-700 text-sm",children:i})})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h2",{className:"text-xl font-bold mb-6",style:{color:"#1a3d7c"},children:"回测预览"}),u?r.jsxs("div",{className:"flex flex-col items-center justify-center h-80",children:[r.jsx(Bt,{size:"lg",className:"mb-4"}),r.jsx("p",{className:"text-gray-600",children:"正在执行回测..."}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"预计需要 30-60 秒"})]}):a.length>0?r.jsx(Hu,{metrics:{total_return:((B=a[0].results)==null?void 0:B.total_return)||0,max_drawdown:((Q=a[0].results)==null?void 0:Q.max_drawdown)||0,sharpe_ratio:((G=a[0].results)==null?void 0:G.sharpe_ratio)||0,win_rate:((te=a[0].results)==null?void 0:te.win_rate)||0,profit_factor:((oe=a[0].results)==null?void 0:oe.profit_factor)||0,annual_return:((y=a[0].results)==null?void 0:y.annual_return)||0,volatility:((T=a[0].results)==null?void 0:T.volatility)||0,total_trades:((M=a[0].results)==null?void 0:M.total_trades)||0},equityCurve:((ae=(X=a[0].results)==null?void 0:X.equity_curve)==null?void 0:ae.map(z=>({timestamp:z.timestamp,equity:z.value,drawdown:0})))||[],trades:((fe=a[0].results)==null?void 0:fe.trade_history)||[],height:300}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-80 text-gray-500",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:r.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),r.jsx("p",{children:"选择策略并开始回测"}),r.jsx("p",{className:"text-sm mt-1",children:"回测结果将在此处显示"})]})]})]}):r.jsxs("section",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[r.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-bold",style:{color:"#1a3d7c"},children:"回测历史"}),r.jsx("button",{className:"px-4 py-2 rounded-lg text-white font-medium transition-all hover:opacity-90",style:{backgroundColor:"#1a3d7c"},onClick:()=>s("create"),children:"新建回测"})]}),r.jsxs("div",{className:"overflow-x-auto",children:[n?r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx(Bt,{size:"lg"})}):a.length===0?r.jsxs("div",{className:"text-center py-16",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"暂无回测记录"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"创建您的第一个回测以开始使用"}),r.jsx("button",{onClick:()=>s("create"),className:"px-4 py-2 rounded-lg text-white font-medium transition-all hover:opacity-90",style:{backgroundColor:"#1a3d7c"},children:"创建回测"})]}):r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-2 py-3 text-left",children:r.jsx("input",{type:"checkbox",className:"rounded border-gray-300",onChange:z=>{z.target.checked?a.forEach(_e=>b(_e.id)):E()}})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"策略ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"交易对"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"时间范围"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"总收益率"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"最大回撤"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"夏普比率"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"状态"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(z=>{var _e,et,is,Ce,ze;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-2 py-4",children:r.jsx("input",{type:"checkbox",className:"rounded border-gray-300",checked:N.includes(z.id),onChange:()=>b(z.id)})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:z.strategy_id}),r.jsx("div",{className:"text-xs text-gray-500",children:dn(z.created_at)})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[z.config.symbol,r.jsx("div",{className:"text-xs text-gray-400",children:z.config.exchange})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[z.config.start_date," 至 ",z.config.end_date,r.jsx("div",{className:"text-xs text-gray-400",children:z.config.timeframe})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`font-semibold ${(((_e=z.results)==null?void 0:_e.total_return)||0)>=0?"text-green-600":"text-red-600"}`,children:yi(((et=z.results)==null?void 0:et.total_return)||0)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-red-600 font-semibold",children:yi(((is=z.results)==null?void 0:is.max_drawdown)||0)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-blue-600 font-semibold",children:((ze=(Ce=z.results)==null?void 0:Ce.sharpe_ratio)==null?void 0:ze.toFixed(2))||"N/A"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${w(z.status)}`,children:A(z.status)})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm space-x-2",children:[r.jsx("button",{onClick:()=>console.log("View details:",z.id),className:"px-3 py-1 rounded bg-blue-100 text-blue-700 hover:bg-blue-200 transition-colors",children:"查看"}),r.jsx("button",{onClick:()=>c(z.id,"html"),className:"px-3 py-1 rounded bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:"下载"}),r.jsx("button",{onClick:()=>j(z.id),className:"px-3 py-1 rounded bg-red-100 text-red-700 hover:bg-red-200 transition-colors",children:"删除"})]})]},z.id)})})]}),N.length>=2&&r.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("p",{className:"text-blue-700",children:["已选择 ",N.length," 个回测进行比较"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"比较回测"}),r.jsx("button",{onClick:E,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"清除选择"})]})]})})]}),i&&r.jsx("div",{className:"mt-4 mx-6 mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-red-700 text-sm",children:i})})]})]})]})})},x0=(t={})=>{const{enableMarketData:e=!0,enableTradingUpdates:s=!0,enableOrderUpdates:a=!0,enablePositionUpdates:n=!0,symbols:i=["BTC/USDT","ETH/USDT"]}=t,{user:o,token:l}=Xe(),c=_.useRef(!1),d=_.useRef(new Set),{loadOrders:u,loadPositions:m,refreshPositions:g,selectedExchange:k}=dt(),{updatePrice:N}=hs(),b=_.useCallback(()=>{if(!o||!l||c.current)return;const y={onOpen:()=>{console.log("🟢 实时数据连接已建立"),c.current=!0,Be.send("main",{type:"auth",token:l,user_id:o.id}),e&&i.length>0&&i.forEach(T=>{Be.send("main",{type:"subscribe_market",symbol:T,interval:"1m"}),d.current.add(`market_${T}`)}),s&&(Be.send("main",{type:"subscribe_trading",user_id:o.id}),d.current.add("trading_updates"))},onMessage:T=>{p(T)},onError:T=>{console.error("❌ WebSocket连接错误:",T),c.current=!1},onClose:()=>{console.log("🔴 实时数据连接已断开"),c.current=!1,d.current.clear()}};Be.connect("main","/realtime",y)},[o,l,e,s,i]),p=_.useCallback(y=>{try{const{type:T,payload:M}=y;switch(T){case"auth_success":console.log("✅ 实时数据认证成功");break;case"auth_failed":console.error("❌ 实时数据认证失败:",M.message);break;case"market_data":e&&E(M);break;case"ticker_update":e&&f(M);break;case"order_update":a&&j(M);break;case"position_update":n&&w(M);break;case"trade_executed":s&&A(M);break;case"account_update":s&&Z(M);break;case"pong":break;default:console.log("未知消息类型:",T,M)}}catch(T){console.error("处理WebSocket消息失败:",T)}},[e,a,n,s]),E=_.useCallback(y=>{const{symbol:T,kline:M,timestamp:X}=y;N(T,{symbol:T,price:parseFloat(M.close),change:0,change_percent:0,high_24h:parseFloat(M.high),low_24h:parseFloat(M.low),volume_24h:parseFloat(M.volume),timestamp:X})},[N]),f=_.useCallback(y=>{const{symbol:T,price:M,change:X,changePercent:ae,volume24h:fe}=y;N(T,{symbol:T,price:parseFloat(M),change:parseFloat(X),change_percent:parseFloat(ae),high_24h:0,low_24h:0,volume_24h:parseFloat(fe),timestamp:Date.now()})},[N]),j=_.useCallback(y=>{const{order_id:T,status:M,filled_quantity:X,remaining_quantity:ae}=y;dt.setState(fe=>({orders:fe.orders.map(z=>z.id===T?{...z,status:M,filled_quantity:parseFloat(X),remaining_quantity:parseFloat(ae),updated_at:new Date().toISOString()}:z),activeOrders:fe.activeOrders.map(z=>z.id===T?{...z,status:M,filled_quantity:parseFloat(X),remaining_quantity:parseFloat(ae),updated_at:new Date().toISOString()}:z).filter(z=>!["filled","canceled","rejected","failed"].includes(z.status))}))},[]),w=_.useCallback(y=>{const{symbol:T,exchange:M,quantity:X,unrealized_pnl:ae,avg_cost:fe}=y;dt.setState(z=>({positions:z.positions.map(_e=>_e.symbol===T&&_e.exchange===M?{..._e,quantity:parseFloat(X),unrealized_pnl:parseFloat(ae),avg_cost:parseFloat(fe),current_value:parseFloat(X)*parseFloat(fe)+parseFloat(ae)}:_e)}))},[]),A=_.useCallback(y=>{const{trade:T}=y;setTimeout(()=>{u(),g()},1e3),console.log("🎯 交易执行:",T)},[u,g]),Z=_.useCallback(y=>{const{exchange:T,balance:M}=y;dt.setState(X=>({accounts:{...X.accounts,[T]:{...X.accounts[T],balance:M,last_updated:new Date().toISOString()}}}))},[]),B=_.useCallback((y,T)=>{if(!c.current){console.warn("WebSocket未连接，无法订阅:",y);return}Be.send("main",{type:"subscribe",channel:y,...T}),d.current.add(y)},[]),Q=_.useCallback(y=>{c.current&&(Be.send("main",{type:"unsubscribe",channel:y}),d.current.delete(y))},[]),G=_.useCallback((y,T="1m")=>{B("market_data",{symbol:y,interval:T}),B("ticker",{symbol:y})},[B]),te=_.useCallback(y=>{Q(`market_${y}`),Q(`ticker_${y}`)},[Q]),oe=c.current;return _.useEffect(()=>(o&&l&&b(),()=>{c.current&&(Be.disconnect("main"),c.current=!1,d.current.clear())}),[b]),_.useEffect(()=>{oe&&s&&Be.send("main",{type:"subscribe_trading",exchange:k,user_id:o==null?void 0:o.id})},[k,oe,s,o==null?void 0:o.id]),{isConnected:oe,subscribe:B,unsubscribe:Q,subscribeToSymbol:G,unsubscribeFromSymbol:te,subscriptions:Array.from(d.current)}},g0=()=>{var vr,jr,sa,Bs;zt();const{isPremium:t}=Ps();fr();const{isLoading:e}=mr(),{tradingForm:s,updateTradingForm:a,resetTradingForm:n,validateOrder:i,availableSymbols:o,loadAvailableSymbols:l}=e0(),{createOrder:c,activeOrders:d,orderHistory:u,loadOrders:m,isPlacingOrder:g}=Xh(),{positions:k,totalPortfolioValue:N,totalUnrealizedPnL:b,loadPositions:p}=Yh(),{accounts:E,selectedExchange:f,supportedExchanges:j,switchExchange:w,loadAccountBalance:A,loadSupportedExchanges:Z}=Jh(),[B,Q]=_.useState("BTC/USDT"),{isConnected:G,subscribeToSymbol:te,unsubscribeFromSymbol:oe}=x0({enableMarketData:!0,enableTradingUpdates:t,enableOrderUpdates:t,enablePositionUpdates:t,symbols:[B]}),y=_.useRef(null),T=_.useRef(null),[M,X]=_.useState("15m"),[ae,fe]=_.useState("43,250.00"),[z,_e]=_.useState("+2.34%"),[et,is]=_.useState(2.34),[Ce,ze]=_.useState(null),[Fs,Ds]=_.useState(!1),[ta,vt]=_.useState("");_.useEffect(()=>{(async()=>{t&&await Promise.allSettled([Z(),A(f),l(f),m(),p()])})()},[t,f]),_.useEffect(()=>{f&&o.length===0&&l(f)},[f,o.length]),_.useEffect(()=>{if(!y.current)return;T.current=Za(y.current);const h=xr(),v={backgroundColor:"#ffffff",animation:!0,grid:{top:"10%",left:"8%",right:"8%",bottom:"15%"},xAxis:{type:"category",data:h.map(R=>R[0]),boundaryGap:!1,axisLine:{lineStyle:{color:"#8392A5"}},axisLabel:{color:"#8392A5"}},yAxis:{scale:!0,axisLine:{lineStyle:{color:"#8392A5"}},axisLabel:{color:"#8392A5"},splitLine:{show:!0,lineStyle:{color:"#f0f0f0"}}},tooltip:{trigger:"axis",axisPointer:{type:"cross"},backgroundColor:"rgba(245, 245, 245, 0.9)",borderWidth:1,borderColor:"#ccc",textStyle:{color:"#000"},formatter:function(R){const O=R[0].data;return`
            <div style="padding: 10px;">
              <div style="font-weight: bold; margin-bottom: 5px;">${B} - ${O[0]}</div>
              <div>开盘: ${O[1]}</div>
              <div>收盘: ${O[2]}</div>
              <div>最低: ${O[3]}</div>
              <div>最高: ${O[4]}</div>
              <div>成交量: ${O[5]}</div>
            </div>
          `}},series:[{name:"K线",type:"candlestick",data:h.map(R=>[R[1],R[2],R[3],R[4]]),itemStyle:{color:"#00da3c",color0:"#ec0000",borderColor:"#00da3c",borderColor0:"#ec0000"}}]};T.current.setOption(v);const C=()=>{var R;(R=T.current)==null||R.resize()};return window.addEventListener("resize",C),()=>{var R;window.removeEventListener("resize",C),(R=T.current)==null||R.dispose()}},[B,M]);const xr=()=>{const h=[];let v=43250;const C=new Date;for(let R=100;R>=0;R--){const O=new Date(C.getTime()-R*15*60*1e3),P=`${O.getHours().toString().padStart(2,"0")}:${O.getMinutes().toString().padStart(2,"0")}`,K=v+(Math.random()-.5)*100,le=K+(Math.random()-.5)*200,he=Math.max(K,le)+Math.random()*50,Fe=Math.min(K,le)-Math.random()*50,ls=Math.random()*100+50;h.push([P,K.toFixed(2),le.toFixed(2),Fe.toFixed(2),he.toFixed(2),ls.toFixed(2)]),v=le}return h},os=h=>{a("price",h)},Ms=h=>{a("quantity",h)},gr=h=>{a("amount",h)},Is=h=>{a("side",h)},pr=h=>{a("order_type",h)},yr=h=>{oe(B),Q(h),a("symbol",h),G&&te(h)},br=async()=>{if(!t){I.error("实盘交易需要升级到高级版本");return}if(!s.quantity||s.order_type==="limit"&&!s.price){I.error("请填写完整的交易信息");return}try{const h=await i();if(h&&!h.approved){I.error(`订单被风控拒绝: ${h.violations.join(", ")}`);return}const v={exchange:s.exchange,symbol:s.symbol,order_type:s.order_type,side:s.side,amount:parseFloat(s.quantity),price:s.order_type==="limit"?parseFloat(s.price):void 0};await c(v)&&(I.success(`${s.side==="buy"?"买入":"卖出"}订单已提交`),n())}catch(h){I.error(`下单失败: ${h instanceof Error?h.message:"未知错误"}`)}};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50 -mx-6 -mt-6 mb-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${G?"bg-green-500":"bg-red-500"}`}),r.jsx("span",{className:"text-gray-600",children:G?"✅ 实时数据已连接":"❌ 数据连接断开"})]}),r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-bold text-lg",children:B}),r.jsx("select",{value:B,onChange:h=>yr(h.target.value),className:"text-sm border-none bg-transparent focus:outline-none cursor-pointer",children:o.length>0?o.map(h=>r.jsx("option",{value:h,children:h},h)):r.jsxs(r.Fragment,{children:[r.jsx("option",{value:"BTC/USDT",children:"BTC/USDT"}),r.jsx("option",{value:"ETH/USDT",children:"ETH/USDT"}),r.jsx("option",{value:"BNB/USDT",children:"BNB/USDT"}),r.jsx("option",{value:"SOL/USDT",children:"SOL/USDT"}),r.jsx("option",{value:"ADA/USDT",children:"ADA/USDT"})]})})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-2xl font-bold",children:ae}),r.jsx("span",{className:`ml-2 font-semibold ${et>=0?"text-green-600":"text-red-600"}`,children:z})]}),r.jsxs("div",{className:"text-sm text-gray-500",children:[r.jsx("div",{children:"24H最高: 44,100.00"}),r.jsx("div",{children:"24H最低: 42,800.00"})]}),r.jsxs("div",{className:"text-sm text-gray-500",children:[r.jsx("div",{children:"24H成交量: 1,234.56 BTC"}),r.jsx("div",{children:"24H成交额: 53.2M USDT"})]})]})]}),r.jsx("div",{className:"flex items-center space-x-2",children:["1m","5m","15m","1h","4h","1d"].map(h=>r.jsx("button",{onClick:()=>X(h),className:`px-3 py-1 rounded text-sm transition-colors ${M===h?"bg-brand-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:h==="1m"?"1分钟":h==="5m"?"5分钟":h==="15m"?"15分钟":h==="1h"?"1小时":h==="4h"?"4小时":"1天"},h))})]})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-12 gap-6 h-[calc(100vh-280px)]",children:[r.jsx("div",{className:"col-span-8",children:r.jsxs("div",{className:"h-full bg-white border border-gray-100 rounded-xl shadow-sm overflow-hidden",children:[r.jsxs("div",{className:"p-3 border-b border-gray-100 bg-gray-50 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("h3",{className:"font-semibold text-gray-900",children:[B," K线图"]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx("span",{children:"时间周期:"}),r.jsx("span",{className:"font-medium text-brand-600",children:M})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>Ds(!Fs),className:`p-1 rounded hover:bg-gray-200 transition-colors ${Fs?"bg-blue-100 text-blue-600":""}`,title:"AI指标助手",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),r.jsx("button",{className:"p-1 rounded hover:bg-gray-200 transition-colors",title:"全屏",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})}),r.jsx("button",{className:"p-1 rounded hover:bg-gray-200 transition-colors",title:"设置",children:r.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37-2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]}),r.jsxs("div",{className:"px-3 py-2 bg-white border-b border-gray-100 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsxs("div",{className:"flex items-center space-x-1 mr-4",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"绘图工具："}),r.jsx("button",{onClick:()=>ze(Ce==="cursor"?null:"cursor"),className:`p-1 rounded text-xs hover:bg-gray-100 ${Ce==="cursor"?"bg-blue-100 text-blue-600":"text-gray-600"}`,title:"光标",children:r.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M6.672 1.911a1 1 0 10-1.932.518l.259.966a1 1 0 001.932-.518l-.26-.966zM2.429 4.74a1 1 0 10-.517 1.932l.966.259a1 1 0 00.517-1.932l-.966-.26zm8.814-.569a1 1 0 00-1.415-1.414l-.707.707a1 1 0 101.415 1.415l.707-.708zm-7.071 7.072l.707-.707A1 1 0 003.465 9.12l-.708.707a1 1 0 001.415 1.415zm3.2-5.171a1 1 0 00-1.3 1.3l4 10a1 1 0 001.823.075l1.38-2.759 3.018 3.02a1 1 0 001.414-1.415l-3.019-3.02 2.76-1.379a1 1 0 00-.076-1.822l-10-4z",clipRule:"evenodd"})})}),r.jsx("button",{onClick:()=>ze(Ce==="line"?null:"line"),className:`p-1 rounded text-xs hover:bg-gray-100 ${Ce==="line"?"bg-blue-100 text-blue-600":"text-gray-600"}`,title:"直线",children:r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 20l16-16"})})}),r.jsx("button",{onClick:()=>ze(Ce==="rectangle"?null:"rectangle"),className:`p-1 rounded text-xs hover:bg-gray-100 ${Ce==="rectangle"?"bg-blue-100 text-blue-600":"text-gray-600"}`,title:"矩形",children:r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16v12H4z"})})}),r.jsx("button",{onClick:()=>ze(Ce==="circle"?null:"circle"),className:`p-1 rounded text-xs hover:bg-gray-100 ${Ce==="circle"?"bg-blue-100 text-blue-600":"text-gray-600"}`,title:"圆形",children:r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("circle",{cx:"12",cy:"12",r:"8"})})}),r.jsx("button",{onClick:()=>ze(Ce==="fibonacci"?null:"fibonacci"),className:`p-1 rounded text-xs hover:bg-gray-100 ${Ce==="fibonacci"?"bg-blue-100 text-blue-600":"text-gray-600"}`,title:"斐波那契回调",children:r.jsx("span",{className:"text-xs font-mono",children:"Fib"})}),r.jsx("button",{onClick:()=>ze(Ce==="text"?null:"text"),className:`p-1 rounded text-xs hover:bg-gray-100 ${Ce==="text"?"bg-blue-100 text-blue-600":"text-gray-600"}`,title:"文本",children:r.jsx("span",{className:"text-xs font-bold",children:"T"})})]}),r.jsxs("div",{className:"flex items-center space-x-1 text-xs",children:[r.jsx("span",{className:"text-gray-500",children:"指标："}),r.jsx("button",{className:"px-2 py-1 bg-gray-100 rounded hover:bg-gray-200 text-gray-600",children:"MA"}),r.jsx("button",{className:"px-2 py-1 bg-gray-100 rounded hover:bg-gray-200 text-gray-600",children:"MACD"}),r.jsx("button",{className:"px-2 py-1 bg-gray-100 rounded hover:bg-gray-200 text-gray-600",children:"RSI"}),r.jsx("button",{className:"px-2 py-1 bg-gray-100 rounded hover:bg-gray-200 text-gray-600",children:"BOLL"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>ze(null),className:"px-2 py-1 text-xs bg-gray-100 rounded hover:bg-gray-200 text-gray-600",title:"清除绘图",children:"清除"}),r.jsx("button",{className:"px-2 py-1 text-xs bg-gray-100 rounded hover:bg-gray-200 text-gray-600",title:"撤销",children:"撤销"})]})]}),r.jsx("div",{ref:y,className:"w-full h-[calc(100%-120px)]"})]})}),r.jsxs("div",{className:"col-span-4 space-y-4",children:[r.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl shadow-sm",children:[r.jsxs("div",{className:"p-4 border-b border-gray-100",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"现货交易"}),!t&&r.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs text-yellow-700",children:r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),r.jsx("span",{children:"实盘交易需要高级版本"})]})})]}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex mb-4",children:[r.jsx("button",{onClick:()=>Is("buy"),className:`flex-1 py-2 text-center rounded-l-lg font-medium transition-colors ${s.side==="buy"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"买入"}),r.jsx("button",{onClick:()=>Is("sell"),className:`flex-1 py-2 text-center rounded-r-lg font-medium transition-colors ${s.side==="sell"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"卖出"})]}),r.jsxs("div",{className:"flex mb-4 text-sm",children:[r.jsx("button",{onClick:()=>pr("limit"),className:`px-3 py-1 rounded-l border ${s.order_type==="limit"?"bg-brand-50 text-brand-700 border-brand-200":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"}`,children:"限价单"}),r.jsx("button",{onClick:()=>pr("market"),className:`px-3 py-1 rounded-r border-t border-r border-b ${s.order_type==="market"?"bg-brand-50 text-brand-700 border-brand-200":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"}`,children:"市价单"})]}),r.jsxs("div",{className:"space-y-3",children:[s.order_type==="limit"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"价格 (USDT)"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:s.price,onChange:h=>os(h.target.value),placeholder:ae.replace(",",""),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-transparent"}),r.jsx("button",{onClick:()=>os(ae.replace(",","")),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-xs text-brand-600 hover:text-brand-700",children:"最新价"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm text-gray-600 mb-1",children:["数量 (",B.split("/")[0],")"]}),r.jsx("input",{type:"text",value:s.quantity,onChange:h=>Ms(h.target.value),placeholder:"0.001",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-transparent"}),r.jsx("div",{className:"flex space-x-2 mt-2",children:["25%","50%","75%","100%"].map(h=>r.jsx("button",{className:"flex-1 py-1 text-xs border border-gray-200 rounded hover:bg-gray-50 transition-colors",onClick:()=>{const R=(1e3*(parseInt(h)/100)).toFixed(2);gr(R)},children:h},h))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"金额 (USDT)"}),r.jsx("input",{type:"text",value:s.amount,onChange:h=>gr(h.target.value),placeholder:"43.25",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500 pt-2",children:[r.jsxs("span",{children:["可用: ",((Bs=(sa=(jr=(vr=E[f])==null?void 0:vr.balance)==null?void 0:jr.USDT)==null?void 0:sa.free)==null?void 0:Bs.toFixed(2))||"0.00"," USDT"]}),r.jsx("span",{children:"手续费: ~0.1%"})]}),r.jsx("button",{onClick:br,disabled:!t||g||e,className:`w-full py-3 rounded-lg text-white font-medium transition-all ${s.side==="buy"?"bg-green-500 hover:bg-green-600 disabled:bg-gray-300":"bg-red-500 hover:bg-red-600 disabled:bg-gray-300"} disabled:cursor-not-allowed`,children:t?g?"处理中...":`${s.side==="buy"?"买入":"卖出"} ${B.split("/")[0]}`:"升级以启用交易"})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl shadow-sm",children:[r.jsx("div",{className:"p-3 border-b border-gray-100",children:r.jsx("h3",{className:"font-semibold text-gray-900",children:"订单簿"})}),r.jsxs("div",{className:"p-3",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs font-medium text-gray-500 mb-2",children:[r.jsx("span",{children:"价格(USDT)"}),r.jsx("span",{className:"text-center",children:"数量(BTC)"}),r.jsx("span",{className:"text-right",children:"累计(BTC)"})]}),r.jsx("div",{className:"space-y-1 mb-3",children:[{price:"43,285.00",amount:"0.025",total:"0.850"},{price:"43,280.00",amount:"0.048",total:"0.825"},{price:"43,275.00",amount:"0.032",total:"0.777"},{price:"43,270.00",amount:"0.056",total:"0.745"},{price:"43,265.00",amount:"0.041",total:"0.689"}].map((h,v)=>r.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs hover:bg-red-50 rounded px-1 py-0.5 cursor-pointer",children:[r.jsx("span",{className:"text-red-500 font-medium",children:h.price}),r.jsx("span",{className:"text-gray-700 text-center",children:h.amount}),r.jsx("span",{className:"text-gray-500 text-right",children:h.total})]},`sell-${v}`))}),r.jsxs("div",{className:"py-2 text-center border-t border-b border-gray-100 my-3",children:[r.jsx("div",{className:`text-lg font-bold ${et>=0?"text-green-600":"text-red-600"}`,children:ae}),r.jsxs("div",{className:"text-xs text-gray-500",children:["≈ $",ae.replace(",","")]})]}),r.jsx("div",{className:"space-y-1",children:[{price:"43,240.00",amount:"0.067",total:"0.648"},{price:"43,235.00",amount:"0.089",total:"0.581"},{price:"43,230.00",amount:"0.045",total:"0.492"},{price:"43,225.00",amount:"0.073",total:"0.447"},{price:"43,220.00",amount:"0.038",total:"0.374"}].map((h,v)=>r.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs hover:bg-green-50 rounded px-1 py-0.5 cursor-pointer",children:[r.jsx("span",{className:"text-green-500 font-medium",children:h.price}),r.jsx("span",{className:"text-gray-700 text-center",children:h.amount}),r.jsx("span",{className:"text-gray-500 text-right",children:h.total})]},`buy-${v}`))})]})]}),r.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl shadow-sm",children:[r.jsx("div",{className:"p-3 border-b border-gray-100",children:r.jsx("h3",{className:"font-semibold text-gray-900",children:"我的订单"})}),r.jsx("div",{className:"p-3",children:d.length>0?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs font-medium text-gray-500 pb-2 border-b",children:[r.jsx("span",{children:"交易对"}),r.jsx("span",{children:"类型"}),r.jsx("span",{children:"价格"}),r.jsx("span",{children:"状态"})]}),d.slice(0,5).map(h=>r.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs py-1 hover:bg-gray-50 rounded",children:[r.jsx("span",{className:"font-medium",children:h.symbol}),r.jsx("span",{className:`font-medium ${h.side==="buy"?"text-green-600":"text-red-600"}`,children:h.side==="buy"?"买入":"卖出"}),r.jsx("span",{children:h.price||"市价"}),r.jsx("span",{className:`text-xs px-1 py-0.5 rounded ${h.status==="filled"?"bg-green-100 text-green-700":h.status==="open"?"bg-blue-100 text-blue-700":h.status==="canceled"?"bg-gray-100 text-gray-700":"bg-yellow-100 text-yellow-700"}`,children:h.status==="filled"?"已成交":h.status==="open"?"挂单中":h.status==="canceled"?"已取消":"处理中"})]},h.id))]}):r.jsxs("div",{className:"text-center py-8 text-gray-400",children:[r.jsx("svg",{className:"w-12 h-12 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),r.jsx("p",{className:"text-sm",children:"暂无订单"}),!t&&r.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"升级账户后可查看订单"})]})})]})]})]})}),Fs&&r.jsx("div",{className:"border-t border-gray-200 bg-white",children:r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",style:{color:"#1a3d7c"},children:"🤖 AI指标助手"}),r.jsx("button",{onClick:()=>Ds(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-4 max-h-64 overflow-hidden",children:[r.jsxs("div",{className:"col-span-3 flex flex-col",children:[r.jsx("div",{className:"flex-1 bg-gray-50 rounded-lg p-4 mb-3 max-h-40 overflow-y-auto",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3 flex-shrink-0",children:r.jsx("span",{className:"text-blue-600 text-sm",children:"🤖"})}),r.jsxs("div",{className:"bg-white rounded-lg px-3 py-2 shadow-sm border",children:[r.jsx("p",{className:"text-sm text-gray-800",children:"根据当前BTC/USDT价格走势分析，RSI指标显示超买信号，建议关注回调机会。当前价格在布林带上轨附近，可能面临阻力。"}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"刚刚"})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs("div",{className:"bg-blue-600 text-white rounded-lg px-3 py-2 max-w-xs",children:[r.jsx("p",{className:"text-sm",children:"分析一下MACD指标"}),r.jsx("div",{className:"text-xs text-blue-200 mt-1",children:"1分钟前"})]})})]})}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("input",{type:"text",value:ta,onChange:h=>vt(h.target.value),placeholder:"请描述您的交易问题或需要的指标分析...",className:"flex-1 border border-gray-200 bg-gray-50 rounded-lg px-3 py-2 text-sm focus:border-blue-600 focus:outline-none focus:bg-white",onKeyPress:h=>{h.key==="Enter"&&(I.success("AI分析功能开发中..."),vt(""))}}),r.jsx("button",{onClick:()=>{I.success("AI分析功能开发中..."),vt("")},className:"bg-blue-600 text-white rounded-lg px-4 py-2 text-sm font-medium hover:bg-blue-700 transition-colors",children:"发送"})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"💡 快速建议"}),r.jsx("div",{className:"space-y-2",children:["分析RSI指标","查看MACD走势","布林带分析","支撑阻力位","趋势线分析","交易信号提醒"].map((h,v)=>r.jsx("button",{onClick:()=>{vt(h)},className:"w-full text-left text-xs bg-white border border-gray-200 rounded px-2 py-1 hover:bg-gray-100 text-gray-700",children:h},v))})]})]})]})})]})},p0=()=>{var f;const t=zt(),{user:e,isPremium:s}=Ps(),{isConnected:a}=fr();mr();const[n,i]=_.useState([{id:"1",type:"assistant",content:`您好！我是Trademe AI交易助手。我可以帮您：

• 📈 分析市场趋势和技术指标
• 🤖 生成量化交易策略代码
• 💡 提供交易建议和风险评估
• 📊 解读回测结果和优化建议

请告诉我您需要什么帮助？`,timestamp:new Date(Date.now()-5e3)}]),[o,l]=_.useState(""),[c,d]=_.useState(!1),u=_.useRef(null),m=_.useRef(null),g=()=>{var j;(j=u.current)==null||j.scrollIntoView({behavior:"smooth"})};_.useEffect(()=>{g()},[n]);const k=async()=>{if(!o.trim())return;if(!s){I.error("AI对话功能需要升级到高级版本");return}const j={id:Date.now().toString(),type:"user",content:o.trim(),timestamp:new Date};i(A=>[...A,j]),l(""),d(!0);const w={id:(Date.now()+1).toString(),type:"assistant",content:"",timestamp:new Date,isLoading:!0};i(A=>[...A,w]),setTimeout(()=>{const A=N(j.content);i(Z=>Z.map(B=>B.id===w.id?{...B,content:A,isLoading:!1}:B)),d(!1)},2e3+Math.random()*2e3)},N=j=>{const w=j.toLowerCase();if(w.includes("策略")||w.includes("代码"))return`我可以帮您生成交易策略。这里是一个基于RSI指标的策略示例：

\`\`\`python
def rsi_strategy(data, rsi_period=14, oversold=30, overbought=70):
    # 计算RSI指标
    rsi = calculate_rsi(data['close'], rsi_period)
    
    # 生成信号
    signals = []
    for i in range(len(data)):
        if rsi[i] < oversold:
            signals.append('BUY')  # 超卖买入
        elif rsi[i] > overbought:
            signals.append('SELL')  # 超买卖出
        else:
            signals.append('HOLD')  # 持有
    
    return signals
\`\`\`

这个策略使用RSI指标识别超买超卖机会。您需要根据具体市场调整参数。需要我解释更多细节吗？`;if(w.includes("分析")||w.includes("市场"))return`基于当前市场情况，我观察到以下趋势：

📊 **技术分析**
• BTC当前处于震荡区间，支撑位在$42,000
• ETH相对强势，可能突破$2,600阻力位
• 整体市场情绪偏中性，波动率适中

📈 **交易建议**
1. 短线：关注15分钟和1小时图表的突破信号
2. 中线：等待日线级别的明确趋势确认
3. 风控：单笔交易风险控制在2%以内

⚠️ **风险提示**
市场波动较大，建议采用分批建仓策略，避免单点进入。

您想了解特定币种的分析吗？`;if(w.includes("回测")||w.includes("优化"))return`关于回测优化，我建议关注以下关键指标：

📊 **核心指标**
• 年化收益率：目标 > 15%
• 最大回撤：控制在 < 10%
• 夏普比率：优秀策略 > 1.5
• 胜率：平衡型策略通常 50-70%

🔧 **优化建议**
1. **参数调优**：使用网格搜索或贝叶斯优化
2. **样本外测试**：避免过拟合，保留30%数据做验证
3. **滑点成本**：加入真实的交易成本计算
4. **风险管理**：添加动态止损和仓位管理

需要我帮您分析具体的回测结果吗？`;const A=["这是一个很好的问题！让我来分析一下您的需求。","基于我的分析，我建议您考虑以下几个方面...","从技术角度来看，这个问题涉及多个因素。","我理解您的关注点。让我为您提供一些专业建议。"];return A[Math.floor(Math.random()*A.length)]+`

如果您需要更具体的帮助，请提供更多详细信息，我会为您制定个性化的解决方案。`},b=j=>{var w;l(j),(w=m.current)==null||w.focus()},p=j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),k())},E=["帮我分析当前BTC走势","生成一个网格交易策略","如何优化策略的夏普比率？","解释MACD指标的使用方法"];return r.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:r.jsxs("div",{className:"max-w-[1440px] mx-auto bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[r.jsxs("header",{className:"py-4 px-8 flex justify-between border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-7 h-7 rounded-full bg-brand-500 flex items-center justify-center mr-3",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"T"})}),r.jsx("h1",{className:"text-xl font-bold text-brand-500",children:"Trademe"}),r.jsx("span",{className:"ml-3 px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium",children:"AI助手"})]}),r.jsxs("nav",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>t("/"),className:"nav-item",children:"首页"}),r.jsx("button",{onClick:()=>t("/strategies"),className:"nav-item",children:"策略交易"}),r.jsx("button",{onClick:()=>t("/trading"),className:"nav-item",children:"图表交易"}),r.jsx("button",{className:"nav-item active",children:"AI助手"}),r.jsx("button",{onClick:()=>t("/insights"),className:"nav-item",children:"交易心得"}),r.jsx("button",{onClick:()=>t("/profile"),className:"nav-item",children:"账户中心"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${a?"bg-green-500":"bg-red-500"}`}),r.jsx("span",{className:"text-gray-600",children:a?"AI服务已连接":"AI服务断开"})]}),r.jsx("div",{className:"w-9 h-9 rounded-full bg-gray-200 overflow-hidden cursor-pointer",children:e!=null&&e.avatar_url?r.jsx("img",{src:e.avatar_url,alt:"User avatar",className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-brand-100 text-brand-600 font-medium",children:((f=e==null?void 0:e.username)==null?void 0:f.charAt(0).toUpperCase())||"U"})})]})]}),r.jsxs("main",{className:"flex h-[calc(100vh-120px)]",children:[r.jsxs("div",{className:"flex-1 flex flex-col",children:[r.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[n.map(j=>{var w;return r.jsxs("div",{className:`flex ${j.type==="user"?"justify-end":"justify-start"}`,children:[r.jsxs("div",{className:`max-w-[70%] ${j.type==="user"?"order-2":"order-1"}`,children:[r.jsx("div",{className:`rounded-2xl px-4 py-3 ${j.type==="user"?"bg-brand-500 text-white":"bg-gray-100 text-gray-900"}`,children:j.isLoading?r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),r.jsx("span",{className:"text-sm text-gray-500",children:"AI正在思考..."})]}):r.jsx("pre",{className:"whitespace-pre-wrap font-sans text-sm leading-relaxed",children:j.content})}),r.jsx("div",{className:`text-xs text-gray-500 mt-1 ${j.type==="user"?"text-right":"text-left"}`,children:dn(j.timestamp,"short")})]}),r.jsx("div",{className:`w-8 h-8 rounded-full flex-shrink-0 ${j.type==="user"?"order-1 ml-3":"order-2 mr-3"}`,children:j.type==="user"?r.jsx("div",{className:"w-full h-full bg-brand-100 text-brand-600 rounded-full flex items-center justify-center text-sm font-medium",children:((w=e==null?void 0:e.username)==null?void 0:w.charAt(0).toUpperCase())||"U"}):r.jsx("div",{className:"w-full h-full bg-purple-100 text-purple-600 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})})})]},j.id)}),r.jsx("div",{ref:u})]}),n.length<=1&&r.jsx("div",{className:"px-6 pb-4",children:r.jsx("div",{className:"flex flex-wrap gap-2",children:E.map((j,w)=>r.jsx("button",{onClick:()=>b(j),className:"px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:j},w))})}),r.jsxs("div",{className:"p-6 border-t border-gray-200",children:[!s&&r.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-2 text-yellow-700",children:[r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),r.jsx("span",{className:"text-sm font-medium",children:"AI对话功能需要高级版本，请升级账户后使用"})]})}),r.jsxs("div",{className:"flex items-end space-x-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("textarea",{ref:m,value:o,onChange:j=>l(j.target.value),onKeyPress:p,placeholder:s?"请输入您的问题...":"升级到高级版本后即可使用AI对话",disabled:!s||c,className:"w-full px-4 py-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-brand-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",rows:2,maxLength:1e3}),r.jsxs("div",{className:"flex justify-between items-center mt-2 text-xs text-gray-500",children:[r.jsx("span",{children:"按Enter发送，Shift+Enter换行"}),r.jsxs("span",{children:[o.length,"/1000"]})]})]}),r.jsx("button",{onClick:k,disabled:!o.trim()||!s||c,className:"px-6 py-3 bg-brand-500 text-white rounded-lg font-medium hover:bg-brand-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:c?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"发送中"})]}):r.jsxs(r.Fragment,{children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),r.jsx("span",{children:"发送"})]})})]})]})]}),r.jsx("div",{className:"w-80 border-l border-gray-200 bg-gray-50 p-6",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"AI助手能力"}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),r.jsx("span",{children:"市场趋势分析"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),r.jsx("span",{children:"策略代码生成"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),r.jsx("span",{children:"风险评估建议"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),r.jsx("span",{children:"回测结果解读"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"使用统计"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"今日对话"}),r.jsxs("span",{className:"font-medium",children:[s?"12":"0"," 次"]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"本月剩余"}),r.jsxs("span",{className:"font-medium",children:[s?"488":"0"," 次"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-brand-500 h-2 rounded-full",style:{width:s?"12%":"0%"}})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"最近话题"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("button",{className:"w-full text-left p-2 rounded hover:bg-gray-50 transition-colors",children:[r.jsx("div",{className:"font-medium text-gray-900",children:"BTC趋势分析"}),r.jsx("div",{className:"text-gray-500",children:"2小时前"})]}),r.jsxs("button",{className:"w-full text-left p-2 rounded hover:bg-gray-50 transition-colors",children:[r.jsx("div",{className:"font-medium text-gray-900",children:"网格策略优化"}),r.jsx("div",{className:"text-gray-500",children:"昨天"})]}),r.jsxs("button",{className:"w-full text-left p-2 rounded hover:bg-gray-50 transition-colors",children:[r.jsx("div",{className:"font-medium text-gray-900",children:"风险管理建议"}),r.jsx("div",{className:"text-gray-500",children:"3天前"})]})]})]})]})})]})]})})},y0=()=>{var p,E;const t=zt(),{user:e,isPremium:s}=Ps(),[a,n]=_.useState(!1),[i,o]=_.useState({name:"",exchange:"binance",apiKey:"",secretKey:"",passphrase:"",permissions:["read"]}),[l,c]=_.useState([{id:"1",name:"币安主账户",exchange:"binance",apiKey:"bN1A...k2D9",permissions:["read","spot_trade"],status:"active",createdAt:"2024-05-10",lastUsed:"2小时前"},{id:"2",name:"OKX交易账户",exchange:"okx",apiKey:"okx4...7h3f",permissions:["read","spot_trade"],status:"active",createdAt:"2024-05-12",lastUsed:"1天前"},{id:"3",name:"测试密钥",exchange:"huobi",apiKey:"hub2...9x1q",permissions:["read"],status:"inactive",createdAt:"2024-05-08"}]),d=[{value:"binance",label:"币安 (Binance)",needsPassphrase:!1},{value:"okx",label:"OKX",needsPassphrase:!0},{value:"huobi",label:"火币 (Huobi)",needsPassphrase:!1},{value:"coinbase",label:"Coinbase Pro",needsPassphrase:!0},{value:"kraken",label:"Kraken",needsPassphrase:!1}],u=[{value:"read",label:"只读权限",description:"查看账户余额和交易记录"},{value:"spot_trade",label:"现货交易",description:"执行现货买卖交易"},{value:"futures_trade",label:"合约交易",description:"执行期货合约交易"},{value:"withdraw",label:"提现权限",description:"资金提取功能"}],m=f=>{if(f.preventDefault(),!i.name||!i.apiKey||!i.secretKey){I.error("请填写完整的API信息");return}if(!s&&l.length>=2){I.error("基础版本最多添加2个API密钥，请升级到高级版本");return}const j={id:Date.now().toString(),name:i.name,exchange:i.exchange,apiKey:i.apiKey.substring(0,4)+"..."+i.apiKey.slice(-4),permissions:i.permissions,status:"active",createdAt:new Date().toISOString().split("T")[0]};c([...l,j]),n(!1),o({name:"",exchange:"binance",apiKey:"",secretKey:"",passphrase:"",permissions:["read"]}),I.success("API密钥添加成功")},g=f=>{confirm("确定要删除此API密钥吗？")&&(c(l.filter(j=>j.id!==f)),I.success("API密钥已删除"))},k=f=>{I.success("连接测试通过")},N=f=>{var j;return((j=d.find(w=>w.value===f))==null?void 0:j.label)||f},b=f=>{const j={active:"bg-green-50 text-green-700 border-green-200",inactive:"bg-gray-50 text-gray-700 border-gray-200",error:"bg-red-50 text-red-700 border-red-200"},w={active:"正常",inactive:"未激活",error:"错误"};return r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-md text-xs font-medium border ${j[f]}`,children:w[f]})};return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs("div",{className:"w-full max-w-7xl min-h-screen bg-white rounded-xl shadow-xl border border-gray-200 mx-auto",children:[r.jsxs("header",{className:"py-4 px-8 flex justify-between border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-7 h-7 mr-3 flex items-center justify-center",children:r.jsxs("svg",{viewBox:"0 0 24 24",className:"w-full h-full",style:{color:"#1a3d7c"},children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"2"}),r.jsx("path",{d:"M8 12h8M12 8v8",stroke:"currentColor",strokeWidth:"2"})]})}),r.jsx("h1",{className:"text-xl font-bold",style:{color:"#1a3d7c"},children:"Trademe"})]}),r.jsxs("nav",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>t("/"),className:"px-4 py-2 text-blue-600 font-medium hover:bg-blue-50 rounded-lg",children:"首页"}),r.jsx("button",{onClick:()=>t("/strategies"),className:"px-4 py-2 text-blue-600 font-medium hover:bg-blue-50 rounded-lg",children:"策略交易"}),r.jsx("button",{onClick:()=>t("/trading"),className:"px-4 py-2 text-blue-600 font-medium hover:bg-blue-50 rounded-lg",children:"图表交易"}),r.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white font-medium rounded-lg",children:"API管理"}),r.jsx("button",{className:"px-4 py-2 text-blue-600 font-medium hover:bg-blue-50 rounded-lg",children:"交易心得"}),r.jsx("button",{onClick:()=>t("/profile"),className:"px-4 py-2 text-blue-600 font-medium hover:bg-blue-50 rounded-lg",children:"账户中心"})]}),r.jsx("div",{className:"flex items-center",children:r.jsx("div",{className:"w-9 h-9 rounded-full bg-gray-200 overflow-hidden",children:e!=null&&e.avatar_url?r.jsx("img",{src:e.avatar_url,alt:"User avatar",className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-blue-100 text-blue-600 font-medium",children:((p=e==null?void 0:e.username)==null?void 0:p.charAt(0).toUpperCase())||"U"})})})]}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-2xl font-bold mb-2",style:{color:"#1a3d7c"},children:"API密钥管理"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"安全管理您的交易所API密钥，用于自动化交易和数据获取"}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex",children:[r.jsx("svg",{className:"w-5 h-5 text-yellow-600 mr-3 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-yellow-800 font-medium mb-2",children:"🔐 API安全提示"}),r.jsxs("ul",{className:"text-yellow-700 text-sm space-y-1",children:[r.jsx("li",{children:"• 请确保API密钥来自官方交易所，切勿使用第三方生成的密钥"}),r.jsx("li",{children:"• 建议仅开启必要的权限，避免开启提现权限"}),r.jsx("li",{children:"• 定期检查API密钥的使用记录，如发现异常请立即删除"}),r.jsx("li",{children:"• 密钥信息经过加密存储，平台无法查看您的完整密钥"})]})]})]})})]}),r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("h3",{className:"text-xl font-bold",children:"API密钥列表"}),r.jsxs("span",{className:"text-sm text-gray-500",children:["(",l.length,"/",s?"无限制":"2",")"]})]}),r.jsxs("button",{onClick:()=>n(!a),className:"bg-blue-600 text-white rounded-lg px-4 py-2 font-medium hover:bg-blue-700 transition-colors flex items-center",children:[r.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"添加API密钥"]})]}),a&&r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:"#1a3d7c"},children:"新增API密钥"}),r.jsxs("form",{onSubmit:m,children:[r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"密钥名称"}),r.jsx("input",{type:"text",value:i.name,onChange:f=>o({...i,name:f.target.value}),className:"w-full border border-gray-200 bg-gray-50 rounded-lg px-4 py-3 text-sm focus:border-blue-600 focus:outline-none focus:bg-white",placeholder:"如：币安主账户",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"交易所"}),r.jsx("select",{value:i.exchange,onChange:f=>o({...i,exchange:f.target.value}),className:"w-full border border-gray-200 bg-gray-50 rounded-lg px-4 py-3 text-sm focus:border-blue-600 focus:outline-none focus:bg-white",children:d.map(f=>r.jsx("option",{value:f.value,children:f.label},f.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API Key"}),r.jsx("input",{type:"password",value:i.apiKey,onChange:f=>o({...i,apiKey:f.target.value}),className:"w-full border border-gray-200 bg-gray-50 rounded-lg px-4 py-3 text-sm focus:border-blue-600 focus:outline-none focus:bg-white",placeholder:"输入API Key",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Secret Key"}),r.jsx("input",{type:"password",value:i.secretKey,onChange:f=>o({...i,secretKey:f.target.value}),className:"w-full border border-gray-200 bg-gray-50 rounded-lg px-4 py-3 text-sm focus:border-blue-600 focus:outline-none focus:bg-white",placeholder:"输入Secret Key",required:!0})]}),((E=d.find(f=>f.value===i.exchange))==null?void 0:E.needsPassphrase)&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Passphrase"}),r.jsx("input",{type:"password",value:i.passphrase,onChange:f=>o({...i,passphrase:f.target.value}),className:"w-full border border-gray-200 bg-gray-50 rounded-lg px-4 py-3 text-sm focus:border-blue-600 focus:outline-none focus:bg-white",placeholder:"输入Passphrase（部分交易所需要）"})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"权限设置"}),r.jsx("div",{className:"grid grid-cols-2 gap-4",children:u.map(f=>r.jsxs("label",{className:"flex items-start space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:i.permissions.includes(f.value),onChange:j=>{j.target.checked?o({...i,permissions:[...i.permissions,f.value]}):o({...i,permissions:i.permissions.filter(w=>w!==f.value)})},className:"mt-0.5"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:f.label}),r.jsx("div",{className:"text-xs text-gray-500",children:f.description})]})]},f.value))})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:()=>n(!1),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"取消"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"添加密钥"})]})]})]}),r.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"bg-gray-50 border-b border-gray-200 px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"交易所"}),r.jsx("th",{className:"bg-gray-50 border-b border-gray-200 px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"密钥名称"}),r.jsx("th",{className:"bg-gray-50 border-b border-gray-200 px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"API Key"}),r.jsx("th",{className:"bg-gray-50 border-b border-gray-200 px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"权限"}),r.jsx("th",{className:"bg-gray-50 border-b border-gray-200 px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"状态"}),r.jsx("th",{className:"bg-gray-50 border-b border-gray-200 px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"创建时间"}),r.jsx("th",{className:"bg-gray-50 border-b border-gray-200 px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"操作"})]})}),r.jsx("tbody",{children:l.map((f,j)=>r.jsxs("tr",{className:`${j%2===0?"bg-white":"bg-gray-50"} hover:bg-blue-50`,children:[r.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:N(f.exchange)}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:f.name}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 font-mono",children:f.apiKey}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:r.jsx("div",{className:"flex flex-wrap gap-1",children:f.permissions.map(w=>{var A;return r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs",children:((A=u.find(Z=>Z.value===w))==null?void 0:A.label)||w},w)})})}),r.jsx("td",{className:"px-6 py-4 text-sm",children:b(f.status)}),r.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[r.jsx("div",{children:f.createdAt}),f.lastUsed&&r.jsxs("div",{className:"text-xs text-gray-500",children:["最后使用: ",f.lastUsed]})]}),r.jsx("td",{className:"px-6 py-4 text-sm",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>k(f.id),className:"text-blue-600 hover:text-blue-800 text-xs",title:"测试连接",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),r.jsx("button",{className:"text-gray-600 hover:text-gray-800 text-xs",title:"编辑",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),r.jsx("button",{onClick:()=>g(f.id),className:"text-red-600 hover:text-red-800 text-xs",title:"删除",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},f.id))})]})})}),r.jsxs("div",{className:"mt-8 bg-gray-50 border border-gray-200 rounded-xl p-6",children:[r.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:"#1a3d7c"},children:"📖 API使用指南"}),r.jsxs("div",{className:"grid grid-cols-2 gap-6 text-sm text-gray-700",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"权限说明"}),r.jsxs("ul",{className:"space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"只读权限"}),"：查看账户余额、历史订单等基础信息"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"现货交易"}),"：执行现货买卖交易，不包含提现功能"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"合约交易"}),"：执行期货合约交易（高风险，请谨慎开启）"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"提现权限"}),"：资金提取功能（不建议开启）"]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"安全建议"}),r.jsxs("ul",{className:"space-y-1",children:[r.jsx("li",{children:"• 使用专门的API子账户，避免使用主账户密钥"}),r.jsx("li",{children:"• 设置IP白名单，限制API密钥的访问来源"}),r.jsx("li",{children:"• 定期检查交易记录，确保没有异常交易"}),r.jsx("li",{children:"• 如发现账户异常，请立即禁用相关API密钥"})]})]})]})]})]})]})})},b0=()=>r.jsxs("div",{children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-brand-500 mb-2",children:"个人中心"}),r.jsx("p",{className:"text-gray-600",children:"管理您的账户信息和会员服务"})]}),r.jsxs(ot,{children:[r.jsxs(ot.Header,{children:[r.jsx(ot.Title,{children:"个人信息"}),r.jsx(ot.Description,{children:"功能开发中..."})]}),r.jsx(ot.Content,{children:r.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:r.jsx("p",{className:"text-gray-500",children:"个人中心界面开发中..."})})})]})]}),v0=()=>r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("div",{className:"w-24 h-24 mx-auto bg-gray-200 rounded-full flex items-center justify-center mb-4",children:r.jsx("span",{className:"text-4xl",children:"🔍"})}),r.jsx("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:"404"}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-2",children:"页面未找到"}),r.jsx("p",{className:"text-gray-500 mb-8",children:"抱歉，您访问的页面不存在或已被移动"})]}),r.jsxs("div",{className:"space-x-4",children:[r.jsx(ve,{to:"/",children:r.jsx(pi,{children:"返回首页"})}),r.jsx(ve,{to:"/dashboard",children:r.jsx(pi,{variant:"outline",children:"前往仪表板"})})]})]})}),Vs=({children:t})=>{var l;const e=qa(),{user:s,logout:a}=Xe(),n=[{path:"/",label:"首页",key:"home"},{path:"/strategies",label:"策略交易",key:"strategies"},{path:"/trading",label:"图表交易",key:"trading"},{path:"/api-keys",label:"API管理",key:"api"},{path:"/insights",label:"交易心得",key:"insights"},{path:"/profile",label:"账户中心",key:"profile"}],i=c=>c==="/"?e.pathname==="/":e.pathname.startsWith(c),o=()=>{a(),window.location.href="/login"};return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs("div",{className:"max-w-[1440px] mx-auto bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden relative",children:[r.jsxs("header",{className:"py-4 px-8 flex justify-between border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-7 h-7 rounded-full bg-brand-500 flex items-center justify-center mr-3",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"T"})}),r.jsx("h1",{className:"text-xl font-bold text-brand-500",children:"Trademe"})]}),r.jsx("nav",{className:"flex gap-2",children:n.map(c=>r.jsx(ve,{to:c.path,className:`nav-item ${i(c.path)?"active":""}`,children:c.label},c.key))}),r.jsxs("div",{className:"flex items-center relative group",children:[r.jsx("div",{className:"w-9 h-9 rounded-full bg-gray-200 overflow-hidden cursor-pointer",children:s!=null&&s.avatar_url?r.jsx("img",{src:s.avatar_url,alt:"User avatar",className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-brand-100 text-brand-600 font-medium",children:((l=s==null?void 0:s.username)==null?void 0:l.charAt(0).toUpperCase())||"U"})}),r.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:[r.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[r.jsx("p",{className:"font-medium text-gray-900",children:s==null?void 0:s.username}),r.jsx("p",{className:"text-sm text-gray-500",children:s==null?void 0:s.email}),r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800 mt-1",children:[(s==null?void 0:s.membership_level)==="basic"&&"基础版",(s==null?void 0:s.membership_level)==="premium"&&"高级版",(s==null?void 0:s.membership_level)==="professional"&&"专业版"]})]}),r.jsx(ve,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"个人设置"}),r.jsx(ve,{to:"/profile/membership",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"会员管理"}),r.jsx("button",{onClick:o,className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"退出登录"})]})]})]}),r.jsxs("div",{className:"absolute top-4 right-8 flex items-center space-x-4 z-40",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{className:"lang-toggle px-2 py-1 text-sm rounded-md bg-gray-100 hover:bg-gray-200","data-lang":"zh",children:"中"}),r.jsx("button",{className:"lang-toggle px-2 py-1 text-sm rounded-md hover:bg-gray-200","data-lang":"en",children:"EN"})]}),r.jsx("div",{className:"border-l border-gray-300 h-6"}),r.jsx("button",{id:"theme-toggle",className:"p-2 rounded-full hover:bg-gray-200",title:"切换主题",children:r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.697 7.757a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 00-1.061 1.06l1.59 1.591z"})})})]}),r.jsx("main",{className:"p-8",children:t})]})})},j0=({children:t})=>r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4",children:r.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[r.jsx("header",{className:"py-6 px-8 flex justify-center border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-9 h-9 rounded-full bg-brand-500 flex items-center justify-center mr-3",children:r.jsx("span",{className:"text-white font-bold",children:"T"})}),r.jsx("h1",{className:"text-2xl font-bold text-brand-500",children:"Trademe"})]})}),r.jsxs("div",{className:"absolute top-4 right-4 flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{className:"lang-toggle px-2 py-1 text-sm rounded-md bg-gray-100 hover:bg-gray-200","data-lang":"zh",children:"中"}),r.jsx("button",{className:"lang-toggle px-2 py-1 text-sm rounded-md hover:bg-gray-200","data-lang":"en",children:"EN"})]}),r.jsx("div",{className:"border-l border-gray-300 h-6"}),r.jsx("button",{id:"theme-toggle",className:"p-2 rounded-full hover:bg-gray-200",title:"切换主题",children:r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.697 7.757a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 00-1.061 1.06l1.59 1.591z"})})})]}),r.jsx("main",{className:"p-8",children:t}),r.jsx("footer",{className:"px-8 pb-6 text-center",children:r.jsx("p",{className:"text-xs text-gray-500",children:"© 2024 Trademe. 专业的数字货币策略交易平台"})})]})});function w0(){const{isLoading:t,checkAuth:e}=Xe(),{theme:s}=sn();return _.useEffect(()=>{e()},[e]),_.useEffect(()=>{s==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[s]),t?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 transition-colors",children:r.jsx(Bt,{size:"lg"})}):r.jsx(Iu,{clientId:"832153922895-6hc3h1qsb72td6gd8lq9vcajq3rborpj.apps.googleusercontent.com",children:r.jsxs(Jo,{children:[r.jsx(We,{path:"/login",element:r.jsx(Zh,{})}),r.jsx(We,{path:"/verification",element:r.jsx(j0,{children:r.jsx(Kh,{})})}),r.jsx(We,{path:"/",element:r.jsx(qu,{})}),r.jsx(We,{path:"/dashboard",element:r.jsx(kt,{children:r.jsx(Vs,{children:r.jsx(u0,{})})})}),r.jsx(We,{path:"/strategies",element:r.jsx(kt,{children:r.jsx(Vs,{children:r.jsx(h0,{})})})}),r.jsx(We,{path:"/live-strategies",element:r.jsx(kt,{children:r.jsx(m0,{})})}),r.jsx(We,{path:"/backtest",element:r.jsx(kt,{children:r.jsx(Vs,{children:r.jsx(f0,{})})})}),r.jsx(We,{path:"/trading",element:r.jsx(kt,{children:r.jsx(Vs,{children:r.jsx(g0,{})})})}),r.jsx(We,{path:"/ai-chat",element:r.jsx(kt,{children:r.jsx(p0,{})})}),r.jsx(We,{path:"/api-management",element:r.jsx(kt,{children:r.jsx(y0,{})})}),r.jsx(We,{path:"/profile",element:r.jsx(kt,{children:r.jsx(Vs,{children:r.jsx(b0,{})})})}),r.jsx(We,{path:"*",element:r.jsx(v0,{})})]})})}const N0=new wl({defaultOptions:{queries:{staleTime:5*60*1e3,retry:(t,e)=>{var s,a;return((s=e==null?void 0:e.response)==null?void 0:s.status)>=400&&((a=e==null?void 0:e.response)==null?void 0:a.status)<500?!1:t<3}},mutations:{retry:1}}});pa.createRoot(document.getElementById("root")).render(r.jsx(Ae.StrictMode,{children:r.jsxs(Cl,{client:N0,children:[r.jsxs(Xo,{children:[r.jsx(w0,{}),r.jsx(_c,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{iconTheme:{primary:"#22c55e",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]}),!1]})}));
//# sourceMappingURL=index-DhyJFVNX.js.map
