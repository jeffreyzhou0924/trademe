{"clientVersion":"5.22.0","code":"P2000","level":"error","message":"Prisma error: \nInvalid `prisma.userSession.create()` invocation in\n/root/trademe/backend/user-service/src/controllers/auth.ts:232:30\n\n  229 \n  230 // 创建会话\n  231 const sessionId = generateUUID();\n→ 232 await prisma.userSession.create(\nThe provided value for the column is too long for the column's type. Column: token","meta":{"column_name":"token","modelName":"UserSession"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.userSession.create()` invocation in\n/root/trademe/backend/user-service/src/controllers/auth.ts:232:30\n\n  229 \n  230 // 创建会话\n  231 const sessionId = generateUUID();\n→ 232 await prisma.userSession.create(\nThe provided value for the column is too long for the column's type. Column: token\n    at $n.handleRequestError (/root/trademe/backend/user-service/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/root/trademe/backend/user-service/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/root/trademe/backend/user-service/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/root/trademe/backend/user-service/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async login (/root/trademe/backend/user-service/src/controllers/auth.ts:232:5)","timestamp":"2025-08-20 01:01:19:119"}
{"code":"P2000","level":"error","message":"Unhandled Prisma error: \nInvalid `prisma.userSession.create()` invocation in\n/root/trademe/backend/user-service/src/controllers/auth.ts:232:30\n\n  229 \n  230 // 创建会话\n  231 const sessionId = generateUUID();\n→ 232 await prisma.userSession.create(\nThe provided value for the column is too long for the column's type. Column: token","timestamp":"2025-08-20 01:01:19:119"}
{"error":"数据库操作失败","errorCode":"DATABASE_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: 数据库操作失败\n    at handlePrismaError (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:106:14)\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:168:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9","statusCode":500,"timestamp":"2025-08-20 01:01:19:119"}
{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7","connection":"upgrade","content-length":"53","content-type":"application/json","host":"43.167.252.120","origin":"http://43.167.252.120","referer":"http://43.167.252.120/login","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","x-forwarded-for":"170.205.39.134","x-forwarded-proto":"http","x-real-ip":"170.205.39.134"},"level":"error","message":"Unhandled error: Not allowed by CORS","method":"POST","name":"Error","params":{},"path":"/api/v1/auth/login","query":{},"stack":"Error: Not allowed by CORS\n    at origin (/root/trademe/backend/user-service/src/app.ts:83:20)\n    at /root/trademe/backend/user-service/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:328:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/root/trademe/backend/user-service/node_modules/helmet/index.cjs:537:6)","timestamp":"2025-08-20 01:19:05:195"}
{"error":"Not allowed by CORS","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Not allowed by CORS\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-20 01:19:05:195"}
{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7","connection":"upgrade","content-length":"53","content-type":"application/json","host":"43.167.252.120","origin":"http://43.167.252.120","referer":"http://43.167.252.120/login","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","x-forwarded-for":"170.205.39.134","x-forwarded-proto":"http","x-real-ip":"170.205.39.134"},"level":"error","message":"Unhandled error: Not allowed by CORS","method":"POST","name":"Error","params":{},"path":"/api/v1/auth/login","query":{},"stack":"Error: Not allowed by CORS\n    at origin (/root/trademe/backend/user-service/src/app.ts:83:20)\n    at /root/trademe/backend/user-service/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:328:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/root/trademe/backend/user-service/node_modules/helmet/index.cjs:537:6)","timestamp":"2025-08-20 01:19:06:196"}
{"error":"Not allowed by CORS","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Not allowed by CORS\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-20 01:19:06:196"}
{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7","connection":"upgrade","content-length":"54","content-type":"application/json","host":"43.167.252.120","origin":"http://43.167.252.120","referer":"http://43.167.252.120/login","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","x-forwarded-for":"170.205.39.134","x-forwarded-proto":"http","x-real-ip":"170.205.39.134"},"level":"error","message":"Unhandled error: Not allowed by CORS","method":"POST","name":"Error","params":{},"path":"/api/v1/auth/login","query":{},"stack":"Error: Not allowed by CORS\n    at origin (/root/trademe/backend/user-service/src/app.ts:83:20)\n    at /root/trademe/backend/user-service/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:328:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/root/trademe/backend/user-service/node_modules/helmet/index.cjs:537:6)","timestamp":"2025-08-20 01:19:30:1930"}
{"error":"Not allowed by CORS","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Not allowed by CORS\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-20 01:19:30:1930"}
{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7","connection":"upgrade","content-length":"54","content-type":"application/json","host":"43.167.252.120","origin":"http://43.167.252.120","referer":"http://43.167.252.120/login","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","x-forwarded-for":"170.205.39.134","x-forwarded-proto":"http","x-real-ip":"170.205.39.134"},"level":"error","message":"Unhandled error: Not allowed by CORS","method":"POST","name":"Error","params":{},"path":"/api/v1/auth/login","query":{},"stack":"Error: Not allowed by CORS\n    at origin (/root/trademe/backend/user-service/src/app.ts:83:20)\n    at /root/trademe/backend/user-service/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:328:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/root/trademe/backend/user-service/node_modules/helmet/index.cjs:537:6)","timestamp":"2025-08-20 01:19:31:1931"}
{"error":"Not allowed by CORS","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Not allowed by CORS\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-20 01:19:31:1931"}
{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7","connection":"upgrade","content-length":"135","content-type":"application/json","host":"43.167.252.120","origin":"http://43.167.252.120","referer":"http://43.167.252.120/login","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","x-forwarded-for":"170.205.39.134","x-forwarded-proto":"http","x-real-ip":"170.205.39.134"},"level":"error","message":"Unhandled error: Not allowed by CORS","method":"POST","name":"Error","params":{},"path":"/api/v1/auth/register","query":{},"stack":"Error: Not allowed by CORS\n    at origin (/root/trademe/backend/user-service/src/app.ts:83:20)\n    at /root/trademe/backend/user-service/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:328:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/root/trademe/backend/user-service/node_modules/helmet/index.cjs:537:6)","timestamp":"2025-08-20 01:19:59:1959"}
{"error":"Not allowed by CORS","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/register","stack":"Error: Not allowed by CORS\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-20 01:19:59:1959"}
{"body":{},"headers":{"accept":"*/*","content-length":"77","content-type":"application/json","host":"localhost:3001","user-agent":"curl/8.5.0"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 74","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/register","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 74\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-20 12:41:40:4140"}
{"error":"Bad escaped character in JSON at position 74","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/register","stack":"Error: Bad escaped character in JSON at position 74\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-20 12:41:40:4140"}
{"error":"Mail command failed: 530-5.7.0 Authentication Required. For more information, go to\n530 5.7.0  https://support.google.com/accounts/troubleshooter/2402620. d9443c01a7336-245ed4e9bd2sm13219505ad.106 - gsmtp","level":"error","message":"邮件发送失败:","subject":"【Trademe】邮箱验证码","timestamp":"2025-08-20 12:43:35:4335","to":"test@example.com"}
{"error":"Mail command failed: 530-5.7.0 Authentication Required. For more information, go to\n530 5.7.0  https://support.google.com/accounts/troubleshooter/2402620. d9443c01a7336-245ed4c73b6sm18324275ad.76 - gsmtp","level":"error","message":"邮件发送失败:","subject":"【Trademe】邮箱验证码","timestamp":"2025-08-20 15:55:39:5539","to":"admin@trademe.com"}
{"error":"Mail command failed: 530-5.7.0 Authentication Required. For more information, go to\n530 5.7.0  https://support.google.com/accounts/troubleshooter/2402620. d2e1a72fcca58-76e7d11c77csm4596845b3a.34 - gsmtp","level":"error","message":"邮件发送失败:","subject":"【Trademe】邮箱验证码","timestamp":"2025-08-20 15:55:45:5545","to":"demo@trademe.com"}
{"error":"Mail command failed: 530-5.7.0 Authentication Required. For more information, go to\n530 5.7.0  https://support.google.com/accounts/troubleshooter/2402620. 98e67ed59e1d1-324e2625749sm1596478a91.14 - gsmtp","level":"error","message":"邮件发送失败:","subject":"【Trademe】邮箱验证码","timestamp":"2025-08-20 16:44:10:4410","to":"newuser123@example.com"}
{"body":{},"headers":{"accept":"*/*","content-length":"125","content-type":"application/json","host":"localhost:3001","user-agent":"curl/8.5.0"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 88","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/register","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 88\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-20 17:01:48:148"}
{"error":"Bad escaped character in JSON at position 88","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/register","stack":"Error: Bad escaped character in JSON at position 88\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-20 17:01:48:148"}
{"error":"Mail command failed: 530-5.7.0 Authentication Required. For more information, go to\n530 5.7.0  https://support.google.com/accounts/troubleshooter/2402620. d2e1a72fcca58-76e7d54d9c9sm4660654b3a.104 - gsmtp","level":"error","message":"邮件发送失败:","subject":"【Trademe】邮箱验证码","timestamp":"2025-08-20 17:02:46:246","to":"testfrontend@example.com"}
{"headers":{"accept":"*/*","access-control-request-headers":"Content-Type","access-control-request-method":"POST","host":"localhost:3001","origin":"http://localhost:3003","user-agent":"curl/8.5.0"},"level":"error","message":"Unhandled error: Not allowed by CORS","method":"OPTIONS","name":"Error","params":{},"path":"/api/v1/auth/login","query":{},"stack":"Error: Not allowed by CORS\n    at origin (/root/trademe/backend/user-service/src/app.ts:85:20)\n    at /root/trademe/backend/user-service/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:328:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/root/trademe/backend/user-service/node_modules/helmet/index.cjs:537:6)","timestamp":"2025-08-20 17:03:51:351"}
{"error":"Not allowed by CORS","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"OPTIONS","path":"/api/v1/auth/login","stack":"Error: Not allowed by CORS\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-20 17:03:51:351"}
{"code":"EPIPE","errno":-32,"level":"error","message":"Uncaught Exception: write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:161:15)\n    at writeGeneric (node:internal/stream_base_commons:152:3)\n    at Socket._writeGeneric (node:net:958:11)\n    at Socket._write (node:net:970:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Socket.Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/root/trademe/backend/user-service/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/root/trademe/backend/user-service/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/root/trademe/backend/user-service/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write","timestamp":"2025-08-20 19:02:57:257"}
{"body":{},"headers":{"accept":"*/*","content-length":"83","content-type":"application/json","host":"localhost:3001","user-agent":"curl/8.5.0"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 80","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/register","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 80\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-20 19:59:02:592"}
{"error":"Bad escaped character in JSON at position 80","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/register","stack":"Error: Bad escaped character in JSON at position 80\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-20 19:59:02:592"}
{"error":"Mail command failed: 530-5.7.0 Authentication Required. For more information, go to\n530 5.7.0  https://support.google.com/accounts/troubleshooter/2402620. d9443c01a7336-245ed5244e4sm24797115ad.150 - gsmtp","level":"error","message":"邮件发送失败:","subject":"【Trademe】邮箱验证码","timestamp":"2025-08-20 19:59:45:5945","to":"testuser3@trademe.com"}
{"error":"Mail command failed: 530-5.7.0 Authentication Required. For more information, go to\n530 5.7.0  https://support.google.com/accounts/troubleshooter/2402620. d2e1a72fcca58-76e7f0b4f0esm4992348b3a.90 - gsmtp","level":"error","message":"邮件发送失败:","subject":"【Trademe】邮箱验证码","timestamp":"2025-08-20 20:09:07:97","to":"testjwt@example.com"}
{"body":{},"headers":{"accept":"*/*","content-length":"63","content-type":"application/json","host":"localhost:3001","user-agent":"curl/8.5.0"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 60","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 60\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-20 20:46:24:4624"}
{"error":"Bad escaped character in JSON at position 60","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 60\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-20 20:46:24:4624"}
{"code":"EPIPE","errno":-32,"level":"error","message":"Uncaught Exception: write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:161:15)\n    at writeGeneric (node:internal/stream_base_commons:152:3)\n    at Socket._writeGeneric (node:net:958:11)\n    at Socket._write (node:net:970:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Socket.Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/root/trademe/backend/user-service/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/root/trademe/backend/user-service/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/root/trademe/backend/user-service/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write","timestamp":"2025-08-20 21:03:16:316"}
{"body":{},"headers":{"accept":"*/*","content-length":"53","content-type":"application/json","host":"localhost:3001","user-agent":"curl/8.5.0"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 50","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 50\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-20 21:40:43:4043"}
{"error":"Bad escaped character in JSON at position 50","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 50\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-20 21:40:43:4043"}
{"body":{},"headers":{"accept":"*/*","content-length":"53","content-type":"application/json","host":"localhost:3001","user-agent":"curl/8.5.0"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 50","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 50\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-20 21:45:42:4542"}
{"error":"Bad escaped character in JSON at position 50","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 50\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-20 21:45:42:4542"}
{"body":{},"headers":{"accept":"*/*","content-length":"53","content-type":"application/json","host":"localhost:3001","user-agent":"curl/8.5.0"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 50","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 50\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-20 21:46:31:4631"}
{"error":"Bad escaped character in JSON at position 50","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 50\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-20 21:46:31:4631"}
{"error":"Mail command failed: 530-5.7.0 Authentication Required. For more information, go to\n530 5.7.0  https://support.google.com/accounts/troubleshooter/2402620. d2e1a72fcca58-76e7d4fa868sm5747391b3a.64 - gsmtp","level":"error","message":"邮件发送失败:","subject":"【Trademe】邮箱验证码","timestamp":"2025-08-21 00:26:44:2644","to":"test@example.com"}
{"code":"EPIPE","errno":-32,"level":"error","message":"Uncaught Exception: write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:161:15)\n    at writeGeneric (node:internal/stream_base_commons:152:3)\n    at Socket._writeGeneric (node:net:958:11)\n    at Socket._write (node:net:970:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Socket.Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/root/trademe/backend/user-service/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/root/trademe/backend/user-service/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/root/trademe/backend/user-service/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write","timestamp":"2025-08-21 09:52:54:5254"}
{"body":{},"headers":{"accept":"*/*","content-length":"123","content-type":"application/json","host":"localhost:3001","user-agent":"curl/8.5.0"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 90","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/register","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 90\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-21 10:49:05:495"}
{"error":"Bad escaped character in JSON at position 90","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/register","stack":"Error: Bad escaped character in JSON at position 90\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-21 10:49:05:495"}
{"error":"Mail command failed: 530-5.7.0 Authentication Required. For more information, go to\n530 5.7.0  https://support.google.com/accounts/troubleshooter/2402620. 41be03b00d2f7-b4763d73744sm3457180a12.0 - gsmtp","level":"error","message":"邮件发送失败:","subject":"【Trademe】邮箱验证码","timestamp":"2025-08-21 10:50:20:5020","to":"e2etest@example.com"}
{"error":"Mail command failed: 530-5.7.0 Authentication Required. For more information, go to\n530 5.7.0  https://support.google.com/accounts/troubleshooter/2402620. 98e67ed59e1d1-324f2bda028sm418530a91.19 - gsmtp","level":"error","message":"邮件发送失败:","subject":"【Trademe】邮箱验证码","timestamp":"2025-08-21 11:07:47:747","to":"publictest@example.com"}
{"body":{},"headers":{"accept":"*/*","content-length":"72","content-type":"application/json","host":"localhost:3001","user-agent":"curl/8.5.0"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 68","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 68\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-21 13:31:07:317"}
{"error":"Bad escaped character in JSON at position 68","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 68\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-21 13:31:07:317"}
{"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.9","connection":"close","content-length":"54","content-type":"application/json","host":"trademe.one","origin":"http://trademe.one","referer":"http://trademe.one/login","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/132.0.0.0 Safari/537.36 NetType/WIFI MicroMessenger/7.0.20.1781(0x6700143B) WindowsWechat(0x63090a13) UnifiedPCWindowsWechat(0xf254061a) XWEB/16203 Flue","x-forwarded-for":"211.141.201.18","x-forwarded-proto":"http","x-real-ip":"211.141.201.18"},"level":"error","message":"Unhandled error: Not allowed by CORS","method":"POST","name":"Error","params":{},"path":"/api/v1/auth/login","query":{},"stack":"Error: Not allowed by CORS\n    at origin (/root/trademe/backend/user-service/src/app.ts:85:20)\n    at /root/trademe/backend/user-service/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:328:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/root/trademe/backend/user-service/node_modules/helmet/index.cjs:537:6)","timestamp":"2025-08-21 13:43:09:439"}
{"error":"Not allowed by CORS","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Not allowed by CORS\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-21 13:43:09:439"}
{"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7","connection":"close","content-length":"53","content-type":"application/json","cookie":"dps_site_id=us-west-2","host":"trademe.one","origin":"http://trademe.one","referer":"http://trademe.one/login","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36","x-forwarded-for":"208.87.243.57","x-forwarded-proto":"http","x-real-ip":"208.87.243.57"},"level":"error","message":"Unhandled error: Not allowed by CORS","method":"POST","name":"Error","params":{},"path":"/api/v1/auth/login","query":{},"stack":"Error: Not allowed by CORS\n    at origin (/root/trademe/backend/user-service/src/app.ts:85:20)\n    at /root/trademe/backend/user-service/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:328:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/root/trademe/backend/user-service/node_modules/helmet/index.cjs:537:6)","timestamp":"2025-08-21 13:43:11:4311"}
{"error":"Not allowed by CORS","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Not allowed by CORS\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-21 13:43:11:4311"}
{"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7","connection":"close","content-length":"53","content-type":"application/json","cookie":"dps_site_id=us-west-2","host":"trademe.one","origin":"http://trademe.one","referer":"http://trademe.one/login","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36","x-forwarded-for":"208.87.243.57","x-forwarded-proto":"http","x-real-ip":"208.87.243.57"},"level":"error","message":"Unhandled error: Not allowed by CORS","method":"POST","name":"Error","params":{},"path":"/api/v1/auth/login","query":{},"stack":"Error: Not allowed by CORS\n    at origin (/root/trademe/backend/user-service/src/app.ts:85:20)\n    at /root/trademe/backend/user-service/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:328:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/root/trademe/backend/user-service/node_modules/helmet/index.cjs:537:6)","timestamp":"2025-08-21 13:43:19:4319"}
{"error":"Not allowed by CORS","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Not allowed by CORS\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-21 13:43:19:4319"}
{"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7","connection":"close","content-length":"53","content-type":"application/json","cookie":"dps_site_id=us-west-2","host":"trademe.one","origin":"http://trademe.one","referer":"http://trademe.one/login","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36","x-forwarded-for":"208.87.243.57","x-forwarded-proto":"http","x-real-ip":"208.87.243.57"},"level":"error","message":"Unhandled error: Not allowed by CORS","method":"POST","name":"Error","params":{},"path":"/api/v1/auth/login","query":{},"stack":"Error: Not allowed by CORS\n    at origin (/root/trademe/backend/user-service/src/app.ts:85:20)\n    at /root/trademe/backend/user-service/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:328:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/root/trademe/backend/user-service/node_modules/helmet/index.cjs:537:6)","timestamp":"2025-08-21 13:43:30:4330"}
{"error":"Not allowed by CORS","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Not allowed by CORS\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-21 13:43:30:4330"}
{"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.9","connection":"close","content-length":"53","content-type":"application/json","host":"trademe.one","origin":"http://trademe.one","referer":"http://trademe.one/login","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/132.0.0.0 Safari/537.36 NetType/WIFI MicroMessenger/7.0.20.1781(0x6700143B) WindowsWechat(0x63090a13) UnifiedPCWindowsWechat(0xf254061a) XWEB/16203 Flue","x-forwarded-for":"211.141.201.18","x-forwarded-proto":"http","x-real-ip":"211.141.201.18"},"level":"error","message":"Unhandled error: Not allowed by CORS","method":"POST","name":"Error","params":{},"path":"/api/v1/auth/login","query":{},"stack":"Error: Not allowed by CORS\n    at origin (/root/trademe/backend/user-service/src/app.ts:85:20)\n    at /root/trademe/backend/user-service/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:328:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/root/trademe/backend/user-service/node_modules/helmet/index.cjs:537:6)","timestamp":"2025-08-21 13:43:44:4344"}
{"error":"Not allowed by CORS","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Not allowed by CORS\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-21 13:43:44:4344"}
{"error":"Mail command failed: 530-5.7.0 Authentication Required. For more information, go to\n530 5.7.0  https://support.google.com/accounts/troubleshooter/2402620. d2e1a72fcca58-76e7d0d3a61sm7131832b3a.16 - gsmtp","level":"error","message":"邮件发送失败:","subject":"【Trademe】邮箱验证码","timestamp":"2025-08-21 14:30:04:304","to":"testuser2025@example.com"}
{"error":"Mail command failed: 530-5.7.0 Authentication Required. For more information, go to\n530 5.7.0  https://support.google.com/accounts/troubleshooter/2402620. d9443c01a7336-245ed339fbesm45375915ad.15 - gsmtp","level":"error","message":"邮件发送失败:","subject":"【Trademe】邮箱验证码","timestamp":"2025-08-21 14:34:04:344","to":"demo@trademe.com"}
{"body":{},"headers":{"accept":"*/*","content-length":"66","content-type":"application/json","host":"localhost:3001","user-agent":"curl/8.5.0"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 63","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 63\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-21 15:03:32:332"}
{"error":"Bad escaped character in JSON at position 63","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 63\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-21 15:03:32:332"}
{"body":{},"headers":{"accept":"*/*","content-length":"66","content-type":"application/json","host":"localhost:3001","user-agent":"curl/8.5.0"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 63","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 63\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-21 15:03:44:344"}
{"error":"Bad escaped character in JSON at position 63","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 63\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-21 15:03:44:344"}
{"body":{},"headers":{"accept":"*/*","connection":"close","content-length":"63","content-type":"application/json","host":"43.167.252.120","user-agent":"curl/8.5.0","x-forwarded-for":"43.167.252.120","x-forwarded-proto":"http","x-real-ip":"43.167.252.120"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 60","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 60\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-21 15:47:48:4748"}
{"error":"Bad escaped character in JSON at position 60","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 60\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-21 15:47:48:4748"}
{"body":{},"headers":{"accept":"*/*","connection":"close","content-length":"63","content-type":"application/json","host":"43.167.252.120","user-agent":"curl/8.5.0","x-forwarded-for":"43.167.252.120","x-forwarded-proto":"http","x-real-ip":"43.167.252.120"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 60","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 60\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-21 15:47:54:4754"}
{"error":"Bad escaped character in JSON at position 60","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 60\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-21 15:47:54:4754"}
{"body":{},"headers":{"accept":"*/*","connection":"close","content-length":"63","content-type":"application/json","host":"43.167.252.120","user-agent":"curl/8.5.0","x-forwarded-for":"43.167.252.120","x-forwarded-proto":"http","x-real-ip":"43.167.252.120"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 60","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 60\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-21 15:48:32:4832"}
{"error":"Bad escaped character in JSON at position 60","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 60\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-21 15:48:32:4832"}
{"code":"EPIPE","errno":-32,"level":"error","message":"Uncaught Exception: write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:161:15)\n    at writeGeneric (node:internal/stream_base_commons:152:3)\n    at Socket._writeGeneric (node:net:958:11)\n    at Socket._write (node:net:970:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Socket.Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/root/trademe/backend/user-service/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/root/trademe/backend/user-service/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/root/trademe/backend/user-service/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write","timestamp":"2025-08-21 17:10:41:1041"}
{"level":"error","message":"Google OAuth error: Wrong number of segments in token: test_token","stack":"Error: Wrong number of segments in token: test_token\n    at OAuth2Client.verifySignedJwtWithCertsAsync (/root/trademe/backend/user-service/node_modules/google-auth-library/build/src/auth/oauth2client.js:655:19)\n    at OAuth2Client.verifyIdTokenAsync (/root/trademe/backend/user-service/node_modules/google-auth-library/build/src/auth/oauth2client.js:508:34)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async googleAuth (/root/trademe/backend/user-service/src/controllers/auth.ts:314:22)","timestamp":"2025-08-21 17:26:11:2611"}
{"code":"EPIPE","errno":-32,"level":"error","message":"Uncaught Exception: write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:161:15)\n    at writeGeneric (node:internal/stream_base_commons:152:3)\n    at Socket._writeGeneric (node:net:958:11)\n    at Socket._write (node:net:970:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Socket.Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/root/trademe/backend/user-service/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/root/trademe/backend/user-service/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/root/trademe/backend/user-service/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write","timestamp":"2025-08-21 18:13:02:132"}
{"body":{},"headers":{"accept":"*/*","connection":"close","content-length":"66","content-type":"application/json","host":"43.167.252.120","user-agent":"curl/8.5.0","x-forwarded-for":"43.167.252.120","x-forwarded-proto":"http","x-real-ip":"43.167.252.120"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 63","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 63\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-21 19:18:51:1851"}
{"error":"Bad escaped character in JSON at position 63","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 63\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-21 19:18:51:1851"}
{"body":{},"headers":{"accept":"*/*","connection":"close","content-length":"63","content-type":"application/json","host":"43.167.252.120","user-agent":"curl/8.5.0","x-forwarded-for":"43.167.252.120","x-forwarded-proto":"http","x-real-ip":"43.167.252.120"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 60","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 60\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-21 19:19:00:190"}
{"error":"Bad escaped character in JSON at position 60","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 60\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-21 19:19:00:190"}
{"body":{},"headers":{"accept":"*/*","connection":"close","content-length":"63","content-type":"application/json","host":"43.167.252.120","user-agent":"curl/8.5.0","x-forwarded-for":"43.167.252.120","x-forwarded-proto":"http","x-real-ip":"43.167.252.120"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 60","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 60\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-21 19:30:21:3021"}
{"error":"Bad escaped character in JSON at position 60","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 60\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-21 19:30:21:3021"}
{"body":{},"headers":{"accept":"*/*","connection":"close","content-length":"63","content-type":"application/json","host":"43.167.252.120","user-agent":"curl/8.5.0","x-forwarded-for":"43.167.252.120","x-forwarded-proto":"http","x-real-ip":"43.167.252.120"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 60","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 60\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-21 19:35:37:3537"}
{"error":"Bad escaped character in JSON at position 60","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 60\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-21 19:35:37:3537"}
{"body":{},"headers":{"accept":"*/*","connection":"close","content-length":"63","content-type":"application/json","host":"43.167.252.120","user-agent":"curl/8.5.0","x-forwarded-for":"43.167.252.120","x-forwarded-proto":"http","x-real-ip":"43.167.252.120"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 60","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 60\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-21 19:37:01:371"}
{"error":"Bad escaped character in JSON at position 60","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 60\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-21 19:37:01:371"}
{"body":{},"headers":{"accept":"*/*","connection":"close","content-length":"63","content-type":"application/json","host":"43.167.252.120","user-agent":"curl/8.5.0","x-forwarded-for":"43.167.252.120","x-forwarded-proto":"http","x-real-ip":"43.167.252.120"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 60","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 60\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-21 19:39:05:395"}
{"error":"Bad escaped character in JSON at position 60","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 60\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-21 19:39:05:395"}
{"code":"EPIPE","errno":-32,"level":"error","message":"Uncaught Exception: write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:161:15)\n    at writeGeneric (node:internal/stream_base_commons:152:3)\n    at Socket._writeGeneric (node:net:958:11)\n    at Socket._write (node:net:970:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Socket.Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/root/trademe/backend/user-service/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/root/trademe/backend/user-service/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/root/trademe/backend/user-service/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write","timestamp":"2025-08-21 20:57:06:576"}
{"body":{},"headers":{"accept":"*/*","content-length":"73","content-type":"application/json","host":"localhost:3001","user-agent":"curl/8.5.0"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 48","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/register","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 48\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-21 21:00:09:09"}
{"error":"Bad escaped character in JSON at position 48","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/register","stack":"Error: Bad escaped character in JSON at position 48\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-21 21:00:09:09"}
{"body":{},"headers":{"accept":"*/*","content-length":"63","content-type":"application/json","host":"localhost:3001","user-agent":"curl/8.5.0"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 60","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 60\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-21 21:00:19:019"}
{"error":"Bad escaped character in JSON at position 60","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 60\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-21 21:00:19:019"}
{"body":{},"headers":{"accept":"*/*","content-length":"63","content-type":"application/json","host":"localhost:3001","user-agent":"curl/8.5.0"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 60","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 60\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-21 21:18:23:1823"}
{"error":"Bad escaped character in JSON at position 60","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 60\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-21 21:18:23:1823"}
{"body":{},"headers":{"accept":"*/*","content-length":"66","content-type":"application/json","host":"localhost:3001","user-agent":"curl/8.5.0"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 63","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 63\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-21 21:29:42:2942"}
{"error":"Bad escaped character in JSON at position 63","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 63\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-21 21:29:42:2942"}
{"body":{},"headers":{"accept":"*/*","content-length":"66","content-type":"application/json","host":"localhost:3001","user-agent":"curl/8.5.0"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 63","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 63\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-21 21:30:49:3049"}
{"error":"Bad escaped character in JSON at position 63","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 63\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-21 21:30:49:3049"}
{"body":{},"headers":{"accept":"*/*","connection":"close","content-length":"63","content-type":"application/json","host":"43.167.252.120","user-agent":"curl/8.5.0","x-forwarded-for":"43.167.252.120","x-forwarded-proto":"http","x-real-ip":"43.167.252.120"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 60","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 60\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-22 11:59:48:5948"}
{"error":"Bad escaped character in JSON at position 60","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 60\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-22 11:59:48:5948"}
{"body":{},"headers":{"accept":"*/*","connection":"close","content-length":"63","content-type":"application/json","host":"43.167.252.120","user-agent":"curl/8.5.0","x-forwarded-for":"43.167.252.120","x-forwarded-proto":"http","x-real-ip":"43.167.252.120"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 60","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 60\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-22 12:00:06:06"}
{"error":"Bad escaped character in JSON at position 60","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 60\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-22 12:00:06:06"}
{"code":"EPIPE","errno":-32,"level":"error","message":"Uncaught Exception: write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:161:15)\n    at writeGeneric (node:internal/stream_base_commons:152:3)\n    at Socket._writeGeneric (node:net:958:11)\n    at Socket._write (node:net:970:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Socket.Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/root/trademe/backend/user-service/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/root/trademe/backend/user-service/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/root/trademe/backend/user-service/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write","timestamp":"2025-08-22 12:26:07:267"}
{"body":{},"headers":{"accept":"*/*","connection":"close","content-length":"72","content-type":"application/json","host":"43.167.252.120","user-agent":"curl/8.5.0","x-forwarded-for":"43.167.252.120","x-forwarded-proto":"http","x-real-ip":"43.167.252.120"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 68","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 68\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-22 12:41:34:4134"}
{"error":"Bad escaped character in JSON at position 68","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 68\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-22 12:41:34:4134"}
{"body":{},"headers":{"accept":"*/*","connection":"close","content-length":"66","content-type":"application/json","host":"43.167.252.120","user-agent":"curl/8.5.0","x-forwarded-for":"43.167.252.120","x-forwarded-proto":"http","x-real-ip":"43.167.252.120"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 63","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 63\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-22 12:41:48:4148"}
{"error":"Bad escaped character in JSON at position 63","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 63\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-22 12:41:48:4148"}
{"body":{},"headers":{"accept":"*/*","connection":"close","content-length":"133","content-type":"application/json","host":"43.167.252.120","user-agent":"curl/8.5.0","x-forwarded-for":"43.167.252.120","x-forwarded-proto":"http","x-real-ip":"43.167.252.120"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 63","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 63\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-22 12:41:56:4156"}
{"error":"Bad escaped character in JSON at position 63","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 63\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-22 12:41:56:4156"}
{"body":{},"headers":{"accept":"*/*","content-length":"72","content-type":"application/json","host":"localhost:3001","user-agent":"curl/8.5.0"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 68","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 68\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-22 13:23:13:2313"}
{"error":"Bad escaped character in JSON at position 68","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 68\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-22 13:23:13:2313"}
{"body":{},"headers":{"accept":"*/*","content-length":"66","content-type":"application/json","host":"localhost:3001","user-agent":"curl/8.5.0"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 63","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 63\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-22 13:43:09:439"}
{"error":"Bad escaped character in JSON at position 63","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 63\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-22 13:43:09:439"}
{"body":{},"headers":{"accept":"*/*","content-length":"63","content-type":"application/json","host":"localhost:3001","user-agent":"curl/8.5.0"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 60","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 60\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-22 13:43:15:4315"}
{"error":"Bad escaped character in JSON at position 60","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 60\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-22 13:43:15:4315"}
{"body":{},"headers":{"accept":"*/*","content-length":"63","content-type":"application/json","host":"localhost:3001","user-agent":"curl/8.5.0"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 60","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 60\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-22 13:44:03:443"}
{"error":"Bad escaped character in JSON at position 60","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 60\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-22 13:44:03:443"}
{"body":{},"headers":{"accept":"*/*","connection":"close","content-length":"63","content-type":"application/json","host":"43.167.252.120","user-agent":"curl/8.5.0","x-forwarded-for":"43.167.252.120","x-forwarded-proto":"http","x-real-ip":"43.167.252.120"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 60","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 60\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-22 13:44:10:4410"}
{"error":"Bad escaped character in JSON at position 60","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 60\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-22 13:44:10:4410"}
{"body":{},"headers":{"accept":"*/*","connection":"close","content-length":"63","content-type":"application/json","host":"43.167.252.120","user-agent":"curl/8.5.0","x-forwarded-for":"43.167.252.120","x-forwarded-proto":"http","x-real-ip":"43.167.252.120"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 60","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 60\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-22 14:00:19:019"}
{"error":"Bad escaped character in JSON at position 60","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 60\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-22 14:00:19:019"}
{"body":{},"headers":{"accept":"*/*","content-length":"72","content-type":"application/json","host":"localhost:3001","user-agent":"curl/8.5.0"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 68","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 68\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-22 14:19:11:1911"}
{"error":"Bad escaped character in JSON at position 68","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 68\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-22 14:19:11:1911"}
{"body":{},"headers":{"accept":"*/*","content-length":"66","content-type":"application/json","host":"localhost:3001","user-agent":"curl/8.5.0"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 63","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 63\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-22 14:19:22:1922"}
{"error":"Bad escaped character in JSON at position 63","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 63\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-22 14:19:22:1922"}
{"body":{},"headers":{"accept":"*/*","content-length":"66","content-type":"application/json","host":"localhost:3001","user-agent":"curl/8.5.0"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 63","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 63\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-22 14:55:09:559"}
{"error":"Bad escaped character in JSON at position 63","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 63\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-22 14:55:09:559"}
{"body":{},"headers":{"accept":"*/*","content-length":"66","content-type":"application/json","host":"localhost:3001","user-agent":"curl/8.5.0"},"level":"error","message":"Unhandled error: Bad escaped character in JSON at position 63","method":"POST","name":"SyntaxError","params":{},"path":"/api/v1/auth/login","query":{},"stack":"SyntaxError: Bad escaped character in JSON at position 63\n    at JSON.parse (<anonymous>)\n    at parse (/root/trademe/backend/user-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /root/trademe/backend/user-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/root/trademe/backend/user-service/node_modules/raw-body/index.js:238:16)\n    at done (/root/trademe/backend/user-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/root/trademe/backend/user-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-08-22 14:55:15:5515"}
{"error":"Bad escaped character in JSON at position 63","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Bad escaped character in JSON at position 63\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-22 14:55:15:5515"}
{"code":"EPIPE","errno":-32,"level":"error","message":"Uncaught Exception: write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:161:15)\n    at writeGeneric (node:internal/stream_base_commons:152:3)\n    at Socket._writeGeneric (node:net:958:11)\n    at Socket._write (node:net:970:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Socket.Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/root/trademe/backend/user-service/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/root/trademe/backend/user-service/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/root/trademe/backend/user-service/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write","timestamp":"2025-08-23 00:05:45:545"}
{"code":"EPIPE","errno":-32,"level":"error","message":"Uncaught Exception: write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:161:15)\n    at writeGeneric (node:internal/stream_base_commons:152:3)\n    at Socket._writeGeneric (node:net:958:11)\n    at Socket._write (node:net:970:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Socket.Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/root/trademe/backend/user-service/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/root/trademe/backend/user-service/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/root/trademe/backend/user-service/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write","timestamp":"2025-08-23 11:15:34:1534"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Uncaught Exception: listen EADDRINUSE: address already in use 0.0.0.0:3001","port":3001,"stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3001\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-08-24 23:56:50:5650"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Uncaught Exception: listen EADDRINUSE: address already in use 0.0.0.0:3001","port":3001,"stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3001\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-08-24 23:57:16:5716"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Uncaught Exception: listen EADDRINUSE: address already in use 0.0.0.0:3001","port":3001,"stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3001\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-08-24 23:57:45:5745"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Uncaught Exception: listen EADDRINUSE: address already in use 0.0.0.0:3001","port":3001,"stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3001\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-08-25 01:20:54:2054"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Uncaught Exception: listen EADDRINUSE: address already in use 0.0.0.0:3001","port":3001,"stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3001\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-08-25 01:25:03:253"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Uncaught Exception: listen EADDRINUSE: address already in use 0.0.0.0:3001","port":3001,"stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3001\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-08-25 01:26:08:268"}
{"code":"EPIPE","errno":-32,"level":"error","message":"Uncaught Exception: write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:161:15)\n    at writeGeneric (node:internal/stream_base_commons:152:3)\n    at Socket._writeGeneric (node:net:958:11)\n    at Socket._write (node:net:970:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Socket.Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/root/trademe/backend/user-service/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/root/trademe/backend/user-service/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/root/trademe/backend/user-service/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write","timestamp":"2025-08-25 08:40:47:4047"}
{"code":"EPIPE","errno":-32,"level":"error","message":"Uncaught Exception: write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:161:15)\n    at writeGeneric (node:internal/stream_base_commons:152:3)\n    at Socket._writeGeneric (node:net:958:11)\n    at Socket._write (node:net:970:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Socket.Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/root/trademe/backend/user-service/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/root/trademe/backend/user-service/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/root/trademe/backend/user-service/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write","timestamp":"2025-08-25 10:51:55:5155"}
{"code":"EPIPE","errno":-32,"level":"error","message":"Uncaught Exception: write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:161:15)\n    at writeGeneric (node:internal/stream_base_commons:152:3)\n    at Socket._writeGeneric (node:net:958:11)\n    at Socket._write (node:net:970:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Socket.Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/root/trademe/backend/user-service/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/root/trademe/backend/user-service/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/root/trademe/backend/user-service/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write","timestamp":"2025-08-29 02:07:20:720"}
{"code":"EPIPE","errno":-32,"level":"error","message":"Uncaught Exception: write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:161:15)\n    at writeGeneric (node:internal/stream_base_commons:152:3)\n    at Socket._writeGeneric (node:net:958:11)\n    at Socket._write (node:net:970:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Socket.Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/root/trademe/backend/user-service/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/root/trademe/backend/user-service/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/root/trademe/backend/user-service/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write","timestamp":"2025-08-29 03:02:49:249"}
{"code":"EPIPE","errno":-32,"level":"error","message":"Uncaught Exception: write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:161:15)\n    at writeGeneric (node:internal/stream_base_commons:152:3)\n    at Socket._writeGeneric (node:net:958:11)\n    at Socket._write (node:net:970:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Socket.Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/root/trademe/backend/user-service/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/root/trademe/backend/user-service/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/root/trademe/backend/user-service/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write","timestamp":"2025-08-30 00:46:41:4641"}
{"code":"EPIPE","errno":-32,"level":"error","message":"Uncaught Exception: write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:161:15)\n    at writeGeneric (node:internal/stream_base_commons:152:3)\n    at Socket._writeGeneric (node:net:958:11)\n    at Socket._write (node:net:970:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Socket.Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/root/trademe/backend/user-service/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/root/trademe/backend/user-service/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/root/trademe/backend/user-service/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write","timestamp":"2025-08-30 00:59:11:5911"}
{"code":"EPIPE","errno":-32,"level":"error","message":"Uncaught Exception: write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:161:15)\n    at writeGeneric (node:internal/stream_base_commons:152:3)\n    at Socket._writeGeneric (node:net:958:11)\n    at Socket._write (node:net:970:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Socket.Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/root/trademe/backend/user-service/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/root/trademe/backend/user-service/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/root/trademe/backend/user-service/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write","timestamp":"2025-08-30 00:59:16:5916"}
{"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, br","accept-language":"zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7","cdn-loop":"cloudflare; loops=1","cf-connecting-ip":"208.87.243.133","cf-ipcountry":"US","cf-ray":"977119ca5971c4d5-LAX","cf-visitor":"{\"scheme\":\"https\"}","connection":"close","content-length":"54","content-type":"application/json","host":"trademe.one","origin":"https://trademe.one","priority":"u=1, i","referer":"https://trademe.one/login","sec-ch-ua":"\"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"macOS\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","x-forwarded-for":"208.87.243.133, 104.23.251.121","x-forwarded-proto":"http","x-real-ip":"104.23.251.121"},"level":"error","message":"Unhandled error: Not allowed by CORS","method":"POST","name":"Error","params":{},"path":"/api/v1/auth/login","query":{},"stack":"Error: Not allowed by CORS\n    at origin (/root/trademe/backend/user-service/src/app.ts:86:20)\n    at /root/trademe/backend/user-service/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:328:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/root/trademe/backend/user-service/node_modules/helmet/index.cjs:537:6)","timestamp":"2025-08-30 11:11:25:1125"}
{"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, br","accept-language":"zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7","cdn-loop":"cloudflare; loops=1","cf-connecting-ip":"208.87.243.133","cf-ipcountry":"US","cf-ray":"977154474a25f207-LAX","cf-visitor":"{\"scheme\":\"https\"}","connection":"close","content-length":"54","content-type":"application/json","cookie":"g_state={\"i_l\":0}","host":"trademe.one","origin":"https://trademe.one","priority":"u=1, i","referer":"https://trademe.one/login","sec-ch-ua":"\"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"macOS\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","x-forwarded-for":"208.87.243.133, 172.69.33.216","x-forwarded-proto":"http","x-real-ip":"172.69.33.216"},"level":"error","message":"Unhandled error: Not allowed by CORS","method":"POST","name":"Error","params":{},"path":"/api/v1/auth/login","query":{},"stack":"Error: Not allowed by CORS\n    at origin (/root/trademe/backend/user-service/src/app.ts:86:20)\n    at /root/trademe/backend/user-service/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:328:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/root/trademe/backend/user-service/node_modules/helmet/index.cjs:537:6)","timestamp":"2025-08-30 11:51:21:5121"}
{"error":"Not allowed by CORS","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/login","stack":"Error: Not allowed by CORS\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-30 11:51:21:5121"}
{"code":"EPIPE","errno":-32,"level":"error","message":"Uncaught Exception: write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:161:15)\n    at writeGeneric (node:internal/stream_base_commons:152:3)\n    at Socket._writeGeneric (node:net:958:11)\n    at Socket._write (node:net:970:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Socket.Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/root/trademe/backend/user-service/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/root/trademe/backend/user-service/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/root/trademe/backend/user-service/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write","timestamp":"2025-08-30 15:32:35:3235"}
{"code":"EPIPE","errno":-32,"level":"error","message":"Uncaught Exception: write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:161:15)\n    at writeGeneric (node:internal/stream_base_commons:152:3)\n    at Socket._writeGeneric (node:net:958:11)\n    at Socket._write (node:net:970:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Socket.Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/root/trademe/backend/user-service/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/root/trademe/backend/user-service/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/root/trademe/backend/user-service/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write","timestamp":"2025-08-30 21:47:19:4719"}
{"code":"EPIPE","errno":-32,"level":"error","message":"Uncaught Exception: write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:161:15)\n    at writeGeneric (node:internal/stream_base_commons:152:3)\n    at Socket._writeGeneric (node:net:958:11)\n    at Socket._write (node:net:970:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Socket.Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/root/trademe/backend/user-service/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/root/trademe/backend/user-service/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/root/trademe/backend/user-service/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write","timestamp":"2025-08-30 21:47:20:4720"}
{"error":"Mail command failed: 530-5.7.0 Authentication Required. For more information, go to\n530 5.7.0  https://support.google.com/accounts/troubleshooter/2402620. d2e1a72fcca58-77244d42b0esm1077400b3a.80 - gsmtp","level":"error","message":"邮件发送失败:","subject":"【Trademe】邮箱验证码","timestamp":"2025-08-30 21:51:20:5120","to":"testuser123@example.com"}
{"body":{"confirm_password":"TestPassword123!","email":"testuser123@example.com","password":"TestPassword123!","username":"testuser123"},"headers":{"accept":"*/*","content-length":"146","content-type":"application/json","host":"43.167.252.120:3001","user-agent":"curl/8.5.0","x-request-id":"req_1756561879310_3b5l4f"},"level":"error","message":"Unhandled error: Cannot read properties of undefined (reading 'allocateClaudeKeyForNewUser')","method":"POST","name":"TypeError","params":{},"path":"/api/v1/auth/register","query":{},"stack":"TypeError: Cannot read properties of undefined (reading 'allocateClaudeKeyForNewUser')\n    at register (/root/trademe/backend/user-service/src/controllers/auth.ts:102:10)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-30 21:51:20:5120"}
{"error":"Cannot read properties of undefined (reading 'allocateClaudeKeyForNewUser')","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/register","stack":"Error: Cannot read properties of undefined (reading 'allocateClaudeKeyForNewUser')\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-30 21:51:20:5120"}
{"error":"Mail command failed: 530-5.7.0 Authentication Required. For more information, go to\n530 5.7.0  https://support.google.com/accounts/troubleshooter/2402620. d2e1a72fcca58-7722a2bf5e0sm5338810b3a.36 - gsmtp","level":"error","message":"邮件发送失败:","subject":"【Trademe】邮箱验证码","timestamp":"2025-08-30 21:52:59:5259","to":"testuser456@example.com"}
{"body":{"confirm_password":"TestPassword123!","email":"testuser456@example.com","password":"TestPassword123!","username":"testuser456"},"headers":{"accept":"*/*","content-length":"146","content-type":"application/json","host":"43.167.252.120:3001","user-agent":"curl/8.5.0","x-request-id":"req_1756561977980_2nsxm6"},"level":"error","message":"Unhandled error: Cannot read properties of undefined (reading 'allocateClaudeKeyForNewUser')","method":"POST","name":"TypeError","params":{},"path":"/api/v1/auth/register","query":{},"stack":"TypeError: Cannot read properties of undefined (reading 'allocateClaudeKeyForNewUser')\n    at register (/root/trademe/backend/user-service/src/controllers/auth.ts:102:10)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-30 21:52:59:5259"}
{"error":"Cannot read properties of undefined (reading 'allocateClaudeKeyForNewUser')","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/register","stack":"Error: Cannot read properties of undefined (reading 'allocateClaudeKeyForNewUser')\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-30 21:52:59:5259"}
{"error":"Mail command failed: 530-5.7.0 Authentication Required. For more information, go to\n530 5.7.0  https://support.google.com/accounts/troubleshooter/2402620. d9443c01a7336-24905da1b35sm53619065ad.84 - gsmtp","level":"error","message":"邮件发送失败:","subject":"【Trademe】邮箱验证码","timestamp":"2025-08-30 21:53:40:5340","to":"testuser789@example.com"}
{"body":{"confirm_password":"TestPassword123!","email":"testuser789@example.com","password":"TestPassword123!","username":"testuser789"},"headers":{"accept":"*/*","content-length":"146","content-type":"application/json","host":"43.167.252.120:3001","user-agent":"curl/8.5.0","x-request-id":"req_1756562019496_u3pc3y"},"level":"error","message":"Unhandled error: Cannot read properties of undefined (reading 'allocateClaudeKeyForNewUser')","method":"POST","name":"TypeError","params":{},"path":"/api/v1/auth/register","query":{},"stack":"TypeError: Cannot read properties of undefined (reading 'allocateClaudeKeyForNewUser')\n    at register (/root/trademe/backend/user-service/src/controllers/auth.ts:102:10)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-30 21:53:40:5340"}
{"error":"Cannot read properties of undefined (reading 'allocateClaudeKeyForNewUser')","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"POST","path":"/api/v1/auth/register","stack":"Error: Cannot read properties of undefined (reading 'allocateClaudeKeyForNewUser')\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-08-30 21:53:40:5340"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Uncaught Exception: listen EADDRINUSE: address already in use 0.0.0.0:3001","port":3001,"stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3001\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-08-30 21:56:24:5624"}
{"error":"Mail command failed: 530-5.7.0 Authentication Required. For more information, go to\n530 5.7.0  https://support.google.com/accounts/troubleshooter/2402620. 98e67ed59e1d1-3278efd7ab5sm4468672a91.9 - gsmtp","level":"error","message":"邮件发送失败:","subject":"【Trademe】邮箱验证码","timestamp":"2025-08-30 21:58:12:5812","to":"testwalletuser@example.com"}
{"error":"Request failed with status code 404","level":"error","message":"用户 15 钱包分配失败:","stack":"AxiosError: Request failed with status code 404\n    at settle (/root/trademe/backend/user-service/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/root/trademe/backend/user-service/node_modules/axios/lib/adapters/http.js:599:11)\n    at IncomingMessage.emit (node:events:536:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (/root/trademe/backend/user-service/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Function.allocateWalletsForNewUser (/root/trademe/backend/user-service/src/services/wallet.service.ts:22:24)","timestamp":"2025-08-30 21:58:12:5812","userEmail":"testwalletuser@example.com","userId":15}
{"error":"Trading service responded with 500: Internal Server Error","level":"error","message":"Failed to allocate Claude API key for new user:","timestamp":"2025-08-30 21:58:12:5812","userId":15}
{"error":"Mail command failed: 530-5.7.0 Authentication Required. For more information, go to\n530 5.7.0  https://support.google.com/accounts/troubleshooter/2402620. d9443c01a7336-249065a5370sm53353635ad.121 - gsmtp","level":"error","message":"邮件发送失败:","subject":"【Trademe】邮箱验证码","timestamp":"2025-08-30 22:01:15:115","to":"wallettest2025@example.com"}
{"error":"Request failed with status code 404","level":"error","message":"用户 16 钱包分配失败:","stack":"AxiosError: Request failed with status code 404\n    at settle (/root/trademe/backend/user-service/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/root/trademe/backend/user-service/node_modules/axios/lib/adapters/http.js:599:11)\n    at IncomingMessage.emit (node:events:536:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (/root/trademe/backend/user-service/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Function.allocateWalletsForNewUser (/root/trademe/backend/user-service/src/services/wallet.service.ts:30:24)","timestamp":"2025-08-30 22:01:15:115","userEmail":"wallettest2025@example.com","userId":16}
{"error":"Trading service responded with 500: Internal Server Error","level":"error","message":"Failed to allocate Claude API key for new user:","timestamp":"2025-08-30 22:01:15:115","userId":16}
{"code":"EPIPE","errno":-32,"level":"error","message":"Uncaught Exception: write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:161:15)\n    at writeGeneric (node:internal/stream_base_commons:152:3)\n    at Socket._writeGeneric (node:net:958:11)\n    at Socket._write (node:net:970:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Socket.Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/root/trademe/backend/user-service/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/root/trademe/backend/user-service/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/root/trademe/backend/user-service/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write","timestamp":"2025-08-31 15:52:18:5218"}
{"code":"EPIPE","errno":-32,"level":"error","message":"Uncaught Exception: write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:161:15)\n    at writeGeneric (node:internal/stream_base_commons:152:3)\n    at Socket._writeGeneric (node:net:958:11)\n    at Socket._write (node:net:970:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Socket.Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/root/trademe/backend/user-service/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/root/trademe/backend/user-service/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/root/trademe/backend/user-service/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write","timestamp":"2025-08-31 17:44:23:4423"}
{"code":"EPIPE","errno":-32,"level":"error","message":"Uncaught Exception: write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:161:15)\n    at writeGeneric (node:internal/stream_base_commons:152:3)\n    at Socket._writeGeneric (node:net:958:11)\n    at Socket._write (node:net:970:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Socket.Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/root/trademe/backend/user-service/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/root/trademe/backend/user-service/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/root/trademe/backend/user-service/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write","timestamp":"2025-08-31 23:12:18:1218"}
{"code":"EPIPE","errno":-32,"level":"error","message":"Uncaught Exception: write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:161:15)\n    at writeGeneric (node:internal/stream_base_commons:152:3)\n    at Socket._writeGeneric (node:net:958:11)\n    at Socket._write (node:net:970:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Socket.Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/root/trademe/backend/user-service/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/root/trademe/backend/user-service/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/root/trademe/backend/user-service/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write","timestamp":"2025-08-31 23:12:18:1218"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Uncaught Exception: listen EADDRINUSE: address already in use 0.0.0.0:3001","port":3001,"stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3001\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-08-31 23:25:42:2542"}
{"code":"EPIPE","errno":-32,"level":"error","message":"Uncaught Exception: write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:161:15)\n    at writeGeneric (node:internal/stream_base_commons:152:3)\n    at Socket._writeGeneric (node:net:958:11)\n    at Socket._write (node:net:970:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Socket.Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/root/trademe/backend/user-service/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/root/trademe/backend/user-service/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/root/trademe/backend/user-service/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write","timestamp":"2025-09-01 11:23:47:2347"}
{"code":"EPIPE","errno":-32,"level":"error","message":"Uncaught Exception: write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:161:15)\n    at writeGeneric (node:internal/stream_base_commons:152:3)\n    at Socket._writeGeneric (node:net:958:11)\n    at Socket._write (node:net:970:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Socket.Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/root/trademe/backend/user-service/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/root/trademe/backend/user-service/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/root/trademe/backend/user-service/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write","timestamp":"2025-09-01 17:14:42:1442"}
{"code":"EPIPE","errno":-32,"level":"error","message":"Uncaught Exception: write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:161:15)\n    at writeGeneric (node:internal/stream_base_commons:152:3)\n    at Socket._writeGeneric (node:net:958:11)\n    at Socket._write (node:net:970:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Socket.Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/root/trademe/backend/user-service/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/root/trademe/backend/user-service/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/root/trademe/backend/user-service/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write","timestamp":"2025-09-01 19:48:18:4818"}
{"error":{},"key":"rate_limit:167.234.211.253","level":"error","message":"Redis INCR error:","timestamp":"2025-09-02 22:51:37:5137"}
{"level":"error","message":"Rate limit middleware error: MISCONF Redis is configured to save RDB snapshots, but it's currently unable to persist to disk. Commands that may modify the data set are disabled, because this instance is configured to report errors during writes if RDB snapshotting fails (stop-writes-on-bgsave-error option). Please check the Redis logs for details about the RDB error.","timestamp":"2025-09-02 22:51:37:5137"}
{"error":{},"key":"rate_limit:auth:167.234.211.253","level":"error","message":"Redis INCR error:","timestamp":"2025-09-02 22:51:37:5137"}
{"level":"error","message":"Rate limit middleware error: MISCONF Redis is configured to save RDB snapshots, but it's currently unable to persist to disk. Commands that may modify the data set are disabled, because this instance is configured to report errors during writes if RDB snapshotting fails (stop-writes-on-bgsave-error option). Please check the Redis logs for details about the RDB error.","timestamp":"2025-09-02 22:51:37:5137"}
{"error":{},"key":"rate_limit:167.234.211.253","level":"error","message":"Redis INCR error:","timestamp":"2025-09-02 22:52:13:5213"}
{"level":"error","message":"Rate limit middleware error: MISCONF Redis is configured to save RDB snapshots, but it's currently unable to persist to disk. Commands that may modify the data set are disabled, because this instance is configured to report errors during writes if RDB snapshotting fails (stop-writes-on-bgsave-error option). Please check the Redis logs for details about the RDB error.","timestamp":"2025-09-02 22:52:13:5213"}
{"error":{},"key":"rate_limit:auth:167.234.211.253","level":"error","message":"Redis INCR error:","timestamp":"2025-09-02 22:52:13:5213"}
{"level":"error","message":"Rate limit middleware error: MISCONF Redis is configured to save RDB snapshots, but it's currently unable to persist to disk. Commands that may modify the data set are disabled, because this instance is configured to report errors during writes if RDB snapshotting fails (stop-writes-on-bgsave-error option). Please check the Redis logs for details about the RDB error.","timestamp":"2025-09-02 22:52:13:5213"}
{"error":{},"key":"rate_limit:167.234.211.253","level":"error","message":"Redis INCR error:","timestamp":"2025-09-02 22:52:34:5234"}
{"level":"error","message":"Rate limit middleware error: MISCONF Redis is configured to save RDB snapshots, but it's currently unable to persist to disk. Commands that may modify the data set are disabled, because this instance is configured to report errors during writes if RDB snapshotting fails (stop-writes-on-bgsave-error option). Please check the Redis logs for details about the RDB error.","timestamp":"2025-09-02 22:52:34:5234"}
{"error":{},"key":"rate_limit:auth:167.234.211.253","level":"error","message":"Redis INCR error:","timestamp":"2025-09-02 22:52:34:5234"}
{"level":"error","message":"Rate limit middleware error: MISCONF Redis is configured to save RDB snapshots, but it's currently unable to persist to disk. Commands that may modify the data set are disabled, because this instance is configured to report errors during writes if RDB snapshotting fails (stop-writes-on-bgsave-error option). Please check the Redis logs for details about the RDB error.","timestamp":"2025-09-02 22:52:34:5234"}
{"error":{},"key":"rate_limit:167.234.211.253","level":"error","message":"Redis INCR error:","timestamp":"2025-09-02 22:52:38:5238"}
{"level":"error","message":"Rate limit middleware error: MISCONF Redis is configured to save RDB snapshots, but it's currently unable to persist to disk. Commands that may modify the data set are disabled, because this instance is configured to report errors during writes if RDB snapshotting fails (stop-writes-on-bgsave-error option). Please check the Redis logs for details about the RDB error.","timestamp":"2025-09-02 22:52:38:5238"}
{"error":{},"key":"rate_limit:auth:167.234.211.253","level":"error","message":"Redis INCR error:","timestamp":"2025-09-02 22:52:38:5238"}
{"level":"error","message":"Rate limit middleware error: MISCONF Redis is configured to save RDB snapshots, but it's currently unable to persist to disk. Commands that may modify the data set are disabled, because this instance is configured to report errors during writes if RDB snapshotting fails (stop-writes-on-bgsave-error option). Please check the Redis logs for details about the RDB error.","timestamp":"2025-09-02 22:52:38:5238"}
{"error":{},"key":"rate_limit:167.234.211.253","level":"error","message":"Redis INCR error:","timestamp":"2025-09-02 22:54:29:5429"}
{"level":"error","message":"Rate limit middleware error: MISCONF Redis is configured to save RDB snapshots, but it's currently unable to persist to disk. Commands that may modify the data set are disabled, because this instance is configured to report errors during writes if RDB snapshotting fails (stop-writes-on-bgsave-error option). Please check the Redis logs for details about the RDB error.","timestamp":"2025-09-02 22:54:29:5429"}
{"error":{},"key":"rate_limit:auth:167.234.211.253","level":"error","message":"Redis INCR error:","timestamp":"2025-09-02 22:54:29:5429"}
{"level":"error","message":"Rate limit middleware error: MISCONF Redis is configured to save RDB snapshots, but it's currently unable to persist to disk. Commands that may modify the data set are disabled, because this instance is configured to report errors during writes if RDB snapshotting fails (stop-writes-on-bgsave-error option). Please check the Redis logs for details about the RDB error.","timestamp":"2025-09-02 22:54:29:5429"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Uncaught Exception: listen EADDRINUSE: address already in use 0.0.0.0:3001","port":3001,"stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3001\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-09-06 00:08:16:816"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Uncaught Exception: listen EADDRINUSE: address already in use 0.0.0.0:3001","port":3001,"stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3001\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-09-06 12:42:58:4258"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Uncaught Exception: listen EADDRINUSE: address already in use 0.0.0.0:3001","port":3001,"stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3001\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-09-11 20:10:24:1024"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Uncaught Exception: listen EADDRINUSE: address already in use 0.0.0.0:3001","port":3001,"stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3001\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-09-11 20:10:24:1024"}
{"headers":{"accept":"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","accept-encoding":"gzip, deflate","accept-language":"en-GB,en;q=0.5","connection":"keep-alive","content-type":"application/x-www-form-urlencoded","host":"43.167.252.120:3001","origin":"http://43.167.252.120:3001","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:71.0) Gecko/20100101 Firefox/71.0"},"level":"error","message":"Unhandled error: Not allowed by CORS","method":"GET","name":"Error","params":{},"path":"/","query":{},"stack":"Error: Not allowed by CORS\n    at origin (/root/trademe/backend/user-service/src/app.ts:86:20)\n    at /root/trademe/backend/user-service/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:328:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/root/trademe/backend/user-service/node_modules/helmet/index.cjs:537:6)","timestamp":"2025-09-13 01:19:20:1920"}
{"error":"Not allowed by CORS","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"GET","path":"/","stack":"Error: Not allowed by CORS\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-09-13 01:19:20:1920"}
{"headers":{"accept":"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","accept-encoding":"gzip, deflate","accept-language":"en-GB,en;q=0.5","connection":"keep-alive","content-type":"application/x-www-form-urlencoded","host":"43.167.252.120:3001","origin":"http://43.167.252.120:3001","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:71.0) Gecko/20100101 Firefox/71.0"},"level":"error","message":"Unhandled error: Not allowed by CORS","method":"GET","name":"Error","params":{},"path":"/","query":{},"stack":"Error: Not allowed by CORS\n    at origin (/root/trademe/backend/user-service/src/app.ts:86:20)\n    at /root/trademe/backend/user-service/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:328:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/root/trademe/backend/user-service/node_modules/helmet/index.cjs:537:6)","timestamp":"2025-09-13 01:19:22:1922"}
{"error":"Not allowed by CORS","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"GET","path":"/","stack":"Error: Not allowed by CORS\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-09-13 01:19:22:1922"}
{"headers":{"accept":"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","accept-encoding":"gzip, deflate","accept-language":"en-GB,en;q=0.5","connection":"keep-alive","content-type":"application/x-www-form-urlencoded","host":"43.167.252.120:3001","origin":"http://43.167.252.120:3001","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:71.0) Gecko/20100101 Firefox/71.0"},"level":"error","message":"Unhandled error: Not allowed by CORS","method":"GET","name":"Error","params":{},"path":"/","query":{},"stack":"Error: Not allowed by CORS\n    at origin (/root/trademe/backend/user-service/src/app.ts:86:20)\n    at /root/trademe/backend/user-service/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:328:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/root/trademe/backend/user-service/node_modules/helmet/index.cjs:537:6)","timestamp":"2025-09-13 10:42:58:4258"}
{"error":"Not allowed by CORS","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"GET","path":"/","stack":"Error: Not allowed by CORS\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-09-13 10:42:58:4258"}
{"headers":{"accept":"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","accept-encoding":"gzip, deflate","accept-language":"en-GB,en;q=0.5","connection":"keep-alive","content-type":"application/x-www-form-urlencoded","host":"43.167.252.120:3001","origin":"http://43.167.252.120:3001","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:71.0) Gecko/20100101 Firefox/71.0"},"level":"error","message":"Unhandled error: Not allowed by CORS","method":"GET","name":"Error","params":{},"path":"/","query":{},"stack":"Error: Not allowed by CORS\n    at origin (/root/trademe/backend/user-service/src/app.ts:86:20)\n    at /root/trademe/backend/user-service/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:328:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/root/trademe/backend/user-service/node_modules/helmet/index.cjs:537:6)","timestamp":"2025-09-13 10:42:59:4259"}
{"error":"Not allowed by CORS","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"GET","path":"/","stack":"Error: Not allowed by CORS\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-09-13 10:42:59:4259"}
{"headers":{"accept":"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","accept-encoding":"gzip, deflate","accept-language":"en-GB,en;q=0.5","connection":"keep-alive","content-type":"application/x-www-form-urlencoded","host":"43.167.252.120:3001","origin":"http://43.167.252.120:3001","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:71.0) Gecko/20100101 Firefox/71.0"},"level":"error","message":"Unhandled error: Not allowed by CORS","method":"GET","name":"Error","params":{},"path":"/","query":{},"stack":"Error: Not allowed by CORS\n    at origin (/root/trademe/backend/user-service/src/app.ts:86:20)\n    at /root/trademe/backend/user-service/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:328:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/root/trademe/backend/user-service/node_modules/helmet/index.cjs:537:6)","timestamp":"2025-09-13 23:06:04:64"}
{"error":"Not allowed by CORS","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"GET","path":"/","stack":"Error: Not allowed by CORS\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-09-13 23:06:04:64"}
{"headers":{"accept":"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","accept-encoding":"gzip, deflate","accept-language":"en-GB,en;q=0.5","connection":"keep-alive","content-type":"application/x-www-form-urlencoded","host":"43.167.252.120:3001","origin":"http://43.167.252.120:3001","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:71.0) Gecko/20100101 Firefox/71.0"},"level":"error","message":"Unhandled error: Not allowed by CORS","method":"GET","name":"Error","params":{},"path":"/","query":{},"stack":"Error: Not allowed by CORS\n    at origin (/root/trademe/backend/user-service/src/app.ts:86:20)\n    at /root/trademe/backend/user-service/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:328:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/root/trademe/backend/user-service/node_modules/helmet/index.cjs:537:6)","timestamp":"2025-09-13 23:06:05:65"}
{"error":"Not allowed by CORS","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"GET","path":"/","stack":"Error: Not allowed by CORS\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-09-13 23:06:05:65"}
{"headers":{"accept":"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","accept-encoding":"gzip, deflate","accept-language":"en-GB,en;q=0.5","connection":"keep-alive","content-type":"application/x-www-form-urlencoded","host":"43.167.252.120:3001","origin":"http://43.167.252.120:3001","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:71.0) Gecko/20100101 Firefox/71.0"},"level":"error","message":"Unhandled error: Not allowed by CORS","method":"GET","name":"Error","params":{},"path":"/","query":{},"stack":"Error: Not allowed by CORS\n    at origin (/root/trademe/backend/user-service/src/app.ts:86:20)\n    at /root/trademe/backend/user-service/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:328:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/root/trademe/backend/user-service/node_modules/helmet/index.cjs:537:6)","timestamp":"2025-09-13 23:42:26:4226"}
{"error":"Not allowed by CORS","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"GET","path":"/","stack":"Error: Not allowed by CORS\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-09-13 23:42:26:4226"}
{"headers":{"accept":"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","accept-encoding":"gzip, deflate","accept-language":"en-GB,en;q=0.5","connection":"keep-alive","content-type":"application/x-www-form-urlencoded","host":"43.167.252.120:3001","origin":"http://43.167.252.120:3001","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:71.0) Gecko/20100101 Firefox/71.0"},"level":"error","message":"Unhandled error: Not allowed by CORS","method":"GET","name":"Error","params":{},"path":"/","query":{},"stack":"Error: Not allowed by CORS\n    at origin (/root/trademe/backend/user-service/src/app.ts:86:20)\n    at /root/trademe/backend/user-service/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:328:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/root/trademe/backend/user-service/node_modules/helmet/index.cjs:537:6)","timestamp":"2025-09-13 23:42:29:4229"}
{"error":"Not allowed by CORS","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"GET","path":"/","stack":"Error: Not allowed by CORS\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-09-13 23:42:29:4229"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Uncaught Exception: listen EADDRINUSE: address already in use 0.0.0.0:3001","port":3001,"stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3001\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-09-14 13:48:43:4843"}
{"clientVersion":"5.22.0","code":"P2002","level":"error","message":"Prisma error: \nInvalid `prisma.userSession.create()` invocation in\n/root/trademe/backend/user-service/src/controllers/auth.ts:276:30\n\n  273 \n  274 // 创建会话\n  275 const sessionId = generateUUID();\n→ 276 await prisma.userSession.create(\nUnique constraint failed on the fields: (`refresh_token`)","meta":{"modelName":"UserSession","target":["refresh_token"]},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.userSession.create()` invocation in\n/root/trademe/backend/user-service/src/controllers/auth.ts:276:30\n\n  273 \n  274 // 创建会话\n  275 const sessionId = generateUUID();\n→ 276 await prisma.userSession.create(\nUnique constraint failed on the fields: (`refresh_token`)\n    at $n.handleRequestError (/root/trademe/backend/user-service/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/root/trademe/backend/user-service/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/root/trademe/backend/user-service/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/root/trademe/backend/user-service/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at login (/root/trademe/backend/user-service/src/controllers/auth.ts:276:5)","timestamp":"2025-09-14 13:49:55:4955"}
{"headers":{"accept":"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","accept-encoding":"gzip, deflate","accept-language":"en-GB,en;q=0.5","connection":"keep-alive","content-type":"application/x-www-form-urlencoded","host":"43.167.252.120:3001","origin":"http://43.167.252.120:3001","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:71.0) Gecko/20100101 Firefox/71.0"},"level":"error","message":"Unhandled error: Not allowed by CORS","method":"GET","name":"Error","params":{},"path":"/","query":{},"stack":"Error: Not allowed by CORS\n    at origin (/root/trademe/backend/user-service/src/app.ts:86:20)\n    at /root/trademe/backend/user-service/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:328:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/root/trademe/backend/user-service/node_modules/helmet/index.cjs:537:6)","timestamp":"2025-09-17 04:56:47:5647"}
{"error":"Not allowed by CORS","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"GET","path":"/","stack":"Error: Not allowed by CORS\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-09-17 04:56:47:5647"}
{"headers":{"accept":"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","accept-encoding":"gzip, deflate","accept-language":"en-GB,en;q=0.5","connection":"keep-alive","content-type":"application/x-www-form-urlencoded","host":"43.167.252.120:3001","origin":"http://43.167.252.120:3001","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:71.0) Gecko/20100101 Firefox/71.0"},"level":"error","message":"Unhandled error: Not allowed by CORS","method":"GET","name":"Error","params":{},"path":"/","query":{},"stack":"Error: Not allowed by CORS\n    at origin (/root/trademe/backend/user-service/src/app.ts:86:20)\n    at /root/trademe/backend/user-service/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/root/trademe/backend/user-service/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:328:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/root/trademe/backend/user-service/node_modules/helmet/index.cjs:537:6)","timestamp":"2025-09-17 04:56:48:5648"}
{"error":"Not allowed by CORS","errorCode":"INTERNAL_SERVER_ERROR","level":"error","message":"Server error:","method":"GET","path":"/","stack":"Error: Not allowed by CORS\n    at globalErrorHandler (/root/trademe/backend/user-service/src/middleware/errorHandler.ts:192:16)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/root/trademe/backend/user-service/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:326:13)\n    at /root/trademe/backend/user-service/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/root/trademe/backend/user-service/node_modules/express/lib/router/index.js:346:12)","statusCode":500,"timestamp":"2025-09-17 04:56:48:5648"}
