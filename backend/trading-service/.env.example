# Trademe Trading Service 环境变量配置示例
# ⚠️ 生产环境部署前必须修改所有敏感配置

# ============================================
# 🔒 安全配置 (生产环境必须修改)
# ============================================

# 应用配置
APP_NAME=Trademe Trading Service
ENVIRONMENT=production  # 生产环境设置为 production
DEBUG=false             # 生产环境必须设置为 false
HOST=0.0.0.0
PORT=8001

# 数据库配置
DATABASE_URL=sqlite+aiosqlite:///./data/trademe.db

# Redis配置
REDIS_URL=redis://localhost:6379
REDIS_DB=0
REDIS_PASSWORD=your-redis-password-here  # 生产环境必须设置密码

# JWT配置 (需要与用户服务保持一致)
# ⚠️ 生产环境必须生成64位以上的强密钥，包含大小写字母、数字、特殊字符
JWT_SECRET_KEY=CHANGE-THIS-TO-A-SECURE-64-CHAR-KEY-WITH-SPECIAL-CHARS!@#$%^&*
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440

# Claude AI配置 (主要AI服务)
CLAUDE_API_KEY=your-claude-api-key-here
CLAUDE_MODEL=claude-sonnet-4-20250514
CLAUDE_MAX_TOKENS=4096
CLAUDE_TIMEOUT=60

# CORS配置 (生产环境必须限制为具体域名)
CORS_ORIGINS=["https://yourdomain.com","https://www.yourdomain.com"]  # 生产环境使用HTTPS
ALLOWED_HOSTS=["yourdomain.com","www.yourdomain.com"]

# OpenAI配置
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_MAX_TOKENS=2000

# 交易所配置
CCXT_TIMEOUT=30000
MAX_CONCURRENT_REQUESTS=10

# WebSocket配置
WS_MAX_CONNECTIONS=100
WS_PING_INTERVAL=30

# 缓存配置
MARKET_DATA_CACHE_TTL=30
KLINE_DATA_CACHE_TTL=3600

# 安全配置
API_RATE_LIMIT=1000
MAX_UPLOAD_SIZE=10485760

# 日志配置
LOG_LEVEL=INFO
LOG_FILE=logs/trading-service.log

# 数据目录
DATA_DIR=./data
LOGS_DIR=./logs

# 回测配置
BACKTEST_MAX_DURATION_DAYS=365
BACKTEST_DEFAULT_COMMISSION=0.001

# 风控配置
MAX_POSITION_SIZE=0.1
MAX_DAILY_LOSS=0.05

# 区块链配置
TRON_API_KEY=your-tron-api-key-here
ETHEREUM_API_KEY=your-ethereum-api-key-here
ETHERSCAN_API_KEY=your-etherscan-api-key-here
BSCSCAN_API_KEY=your-bscscan-api-key-here

# ============================================
# 🛡️ 生产环境安全检查清单
# ============================================
# 
# 部署前请确认以下安全措施：
#
# ✅ 密钥安全：
#    - JWT_SECRET_KEY 使用64位以上随机强密钥
#    - REDIS_PASSWORD 设置强密码
#    - 所有API密钥设置真实值
#
# ✅ 环境配置：
#    - ENVIRONMENT=production
#    - DEBUG=false
#    - CORS_ORIGINS 限制为具体域名
#    - 使用HTTPS协议
#
# ✅ 网络安全：
#    - 配置防火墙规则
#    - 限制数据库访问
#    - 启用SSL/TLS证书
#
# ✅ 监控和日志：
#    - 监控异常登录和API调用
#    - 设置日志轮转
#    - 配置告警机制
#
# ✅ 数据保护：
#    - 定期数据库备份
#    - 敏感数据加密
#    - 定期安全更新
#
# ⚠️ 定期维护：
#    - 每月更换JWT密钥
#    - 监控安全漏洞
#    - 检查访问日志
#    - 更新依赖包