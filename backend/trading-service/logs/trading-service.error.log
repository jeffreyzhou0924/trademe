{"text": "2025-08-21 13:34:39.908 | ERROR    | app.middleware.structured_logging:log_request_end:153 | bb4e5b05-ce11-4582-9bf9-49cafc95d724 | Server error: 500\n", "record": {"elapsed": {"repr": "0:01:34.267957", "seconds": 94.267957}, "exception": null, "extra": {"request_id": "bb4e5b05-ce11-4582-9bf9-49cafc95d724", "extra": {"structured_data": {"request_id": "bb4e5b05-ce11-4582-9bf9-49cafc95d724", "method": "GET", "url": "http://localhost:8001/api/v1/strategies/", "path": "/api/v1/strategies/", "query_params": {}, "headers": {"host": "localhost:8001", "authorization": "[FILTERED]", "accept": "*/*", "accept-encoding": "gzip, deflate", "user-agent": "Python/3.12 aiohttp/3.12.15"}, "client_ip": "127.0.0.1", "user_agent": "Python/3.12 aiohttp/3.12.15", "timestamp": "2025-08-21T05:34:39.908139+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "315", "content-type": "application/json"}, "duration_ms": 16.73}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 752794, "name": "SpawnProcess-2"}, "thread": {"id": 128082262339712, "name": "MainThread"}, "time": {"repr": "2025-08-21 13:34:39.908174+08:00", "timestamp": 1755754479.908174}}}
{"text": "2025-08-21 15:43:43.650 | ERROR    | app.middleware.structured_logging:log_request_end:153 | 32dd4a1f-e5a9-480d-812d-156d4ed04d5b | Server error: 500\n", "record": {"elapsed": {"repr": "2:10:38.010615", "seconds": 7838.010615}, "exception": null, "extra": {"request_id": "32dd4a1f-e5a9-480d-812d-156d4ed04d5b", "extra": {"structured_data": {"request_id": "32dd4a1f-e5a9-480d-812d-156d4ed04d5b", "method": "GET", "url": "http://43.167.252.120/api/v1/strategies/", "path": "/api/v1/strategies/", "query_params": {}, "headers": {"host": "43.167.252.120", "x-real-ip": "208.87.243.57", "x-forwarded-for": "208.87.243.57", "x-forwarded-proto": "http", "connection": "close", "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36", "accept": "*/*", "accept-encoding": "gzip, deflate", "accept-language": "zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7", "authorization": "[FILTERED]", "referer": "http://43.167.252.120/test.html"}, "client_ip": "208.87.243.57", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36", "timestamp": "2025-08-21T07:43:43.650802+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "557", "content-type": "application/json"}, "duration_ms": 34.84}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 752794, "name": "SpawnProcess-2"}, "thread": {"id": 128082262339712, "name": "MainThread"}, "time": {"repr": "2025-08-21 15:43:43.650832+08:00", "timestamp": 1755762223.650832}}}
{"text": "2025-08-21 19:36:03.709 | ERROR    | app.middleware.structured_logging:log_request_end:153 | 5d08761a-b9d5-426e-8dcf-ed1a804ef87c | Server error: 500\n", "record": {"elapsed": {"repr": "0:01:26.801757", "seconds": 86.801757}, "exception": null, "extra": {"request_id": "5d08761a-b9d5-426e-8dcf-ed1a804ef87c", "extra": {"structured_data": {"request_id": "5d08761a-b9d5-426e-8dcf-ed1a804ef87c", "method": "GET", "url": "http://43.167.252.120/api/v1/strategies/", "path": "/api/v1/strategies/", "query_params": {}, "headers": {"host": "43.167.252.120", "x-real-ip": "43.167.252.120", "x-forwarded-for": "43.167.252.120", "x-forwarded-proto": "http", "connection": "close", "user-agent": "curl/8.5.0", "accept": "*/*", "authorization": "[FILTERED]"}, "client_ip": "43.167.252.120", "user_agent": "curl/8.5.0", "timestamp": "2025-08-21T11:36:03.709304+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "557", "content-type": "application/json"}, "duration_ms": 27.87}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 880746, "name": "SpawnProcess-2"}, "thread": {"id": 132338034368640, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:36:03.709342+08:00", "timestamp": 1755776163.709342}}}
{"text": "2025-08-21 23:38:11.738 | ERROR    | app.middleware.structured_logging:log_request_end:153 | 2c896f50-e450-49e9-995e-fcafc2dad2bb | Server error: 500\n", "record": {"elapsed": {"repr": "0:01:25.124498", "seconds": 85.124498}, "exception": null, "extra": {"request_id": "2c896f50-e450-49e9-995e-fcafc2dad2bb", "extra": {"structured_data": {"request_id": "2c896f50-e450-49e9-995e-fcafc2dad2bb", "method": "GET", "url": "http://localhost:8001/api/v1/market/klines/BTCUSDT?exchange=okx&timeframe=1h&limit=5", "path": "/api/v1/market/klines/BTCUSDT", "query_params": {"exchange": "okx", "timeframe": "1h", "limit": "5"}, "headers": {"host": "localhost:8001", "user-agent": "curl/8.5.0", "accept": "*/*", "content-type": "application/json"}, "client_ip": "127.0.0.1", "user_agent": "curl/8.5.0", "timestamp": "2025-08-21T15:38:11.738473+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "76", "content-type": "application/json"}, "duration_ms": 897.12}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 967099, "name": "SpawnProcess-1"}, "thread": {"id": 129687266164864, "name": "MainThread"}, "time": {"repr": "2025-08-21 23:38:11.738497+08:00", "timestamp": 1755790691.738497}}}
{"text": "2025-08-22 12:19:30.738 | ERROR    | app.middleware.structured_logging:log_request_end:153 | ef9dbc3e-ff1a-4b83-a573-8fe3acbfcb82 | Server error: 500\n", "record": {"elapsed": {"repr": "0:20:35.449477", "seconds": 1235.449477}, "exception": null, "extra": {"request_id": "ef9dbc3e-ff1a-4b83-a573-8fe3acbfcb82", "extra": {"structured_data": {"request_id": "ef9dbc3e-ff1a-4b83-a573-8fe3acbfcb82", "method": "GET", "url": "http://localhost:8001/api/v1/api-keys/", "path": "/api/v1/api-keys/", "query_params": {}, "headers": {"host": "localhost:8001", "user-agent": "curl/8.5.0", "accept": "*/*", "authorization": "[FILTERED]"}, "client_ip": "127.0.0.1", "user_agent": "curl/8.5.0", "timestamp": "2025-08-22T04:19:30.738459+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "40", "content-type": "application/json"}, "duration_ms": 12.7}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 1207438, "name": "SpawnProcess-1"}, "thread": {"id": 137348030345344, "name": "MainThread"}, "time": {"repr": "2025-08-22 12:19:30.738496+08:00", "timestamp": 1755836370.738496}}}
{"text": "2025-08-22 12:20:52.268 | ERROR    | app.middleware.structured_logging:log_request_end:153 | 21903d93-5f2a-4da3-abd7-5f5676cde6ce | Server error: 500\n", "record": {"elapsed": {"repr": "0:21:56.979580", "seconds": 1316.97958}, "exception": null, "extra": {"request_id": "21903d93-5f2a-4da3-abd7-5f5676cde6ce", "extra": {"structured_data": {"request_id": "21903d93-5f2a-4da3-abd7-5f5676cde6ce", "method": "POST", "url": "http://localhost:8001/api/v1/api-keys/", "path": "/api/v1/api-keys/", "query_params": {}, "headers": {"host": "localhost:8001", "user-agent": "curl/8.5.0", "accept": "*/*", "content-type": "application/json", "authorization": "[FILTERED]", "content-length": "190"}, "client_ip": "127.0.0.1", "user_agent": "curl/8.5.0", "timestamp": "2025-08-22T04:20:52.266523+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "34", "content-type": "application/json"}, "duration_ms": 64.68}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 1207438, "name": "SpawnProcess-1"}, "thread": {"id": 137348030345344, "name": "MainThread"}, "time": {"repr": "2025-08-22 12:20:52.268599+08:00", "timestamp": 1755836452.268599}}}
{"text": "2025-08-22 13:46:03.652 | ERROR    | app.middleware.structured_logging:log_request_end:153 | 825be8b1-e8dc-43de-849d-21cdf2417e3b | Server error: 500\n", "record": {"elapsed": {"repr": "0:03:56.676494", "seconds": 236.676494}, "exception": null, "extra": {"request_id": "825be8b1-e8dc-43de-849d-21cdf2417e3b", "extra": {"structured_data": {"request_id": "825be8b1-e8dc-43de-849d-21cdf2417e3b", "method": "GET", "url": "http://localhost:8001/api/v1/membership/usage-stats", "path": "/api/v1/membership/usage-stats", "query_params": {}, "headers": {"host": "localhost:8001", "user-agent": "curl/8.5.0", "accept": "*/*", "authorization": "[FILTERED]"}, "client_ip": "127.0.0.1", "user_agent": "curl/8.5.0", "timestamp": "2025-08-22T05:46:03.652103+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "85", "content-type": "application/json"}, "duration_ms": 3.84}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 1243685, "name": "SpawnProcess-10"}, "thread": {"id": 126496160792704, "name": "MainThread"}, "time": {"repr": "2025-08-22 13:46:03.652136+08:00", "timestamp": 1755841563.652136}}}
{"text": "2025-08-22 19:58:33.462 | ERROR    | app.middleware.structured_logging:log_request_end:153 | dfc258a3-1a23-4f99-9620-6faffd5515fa | Server error: 500\n", "record": {"elapsed": {"repr": "0:02:05.806052", "seconds": 125.806052}, "exception": null, "extra": {"request_id": "dfc258a3-1a23-4f99-9620-6faffd5515fa", "extra": {"structured_data": {"request_id": "dfc258a3-1a23-4f99-9620-6faffd5515fa", "method": "POST", "url": "http://localhost:8001/api/v1/trading-notes/ai-analysis", "path": "/api/v1/trading-notes/ai-analysis", "query_params": {}, "headers": {"host": "localhost:8001", "user-agent": "curl/8.5.0", "accept": "*/*", "authorization": "[FILTERED]"}, "client_ip": "127.0.0.1", "user_agent": "curl/8.5.0", "timestamp": "2025-08-22T11:58:33.462473+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "27", "content-type": "application/json"}, "duration_ms": 4.26}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 1374632, "name": "SpawnProcess-46"}, "thread": {"id": 133968729960576, "name": "MainThread"}, "time": {"repr": "2025-08-22 19:58:33.462494+08:00", "timestamp": 1755863913.462494}}}
{"text": "2025-08-23 09:56:20.132 | ERROR    | app.middleware.structured_logging:log_request_end:153 | bad0f3cf-fc93-4f13-ad0c-b0a9d21f3dd1 | Server error: 500\n", "record": {"elapsed": {"repr": "13:56:47.758576", "seconds": 50207.758576}, "exception": null, "extra": {"request_id": "bad0f3cf-fc93-4f13-ad0c-b0a9d21f3dd1", "extra": {"structured_data": {"request_id": "bad0f3cf-fc93-4f13-ad0c-b0a9d21f3dd1", "method": "POST", "url": "http://43.167.252.120/api/v1/backtests/", "path": "/api/v1/backtests/", "query_params": {}, "headers": {"host": "43.167.252.120", "x-real-ip": "62.197.154.30", "x-forwarded-for": "62.197.154.30", "x-forwarded-proto": "http", "connection": "close", "content-length": "175", "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", "accept": "application/json, text/plain, */*", "accept-encoding": "gzip, deflate", "accept-language": "zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7", "authorization": "[FILTERED]", "content-type": "application/json", "origin": "http://43.167.252.120", "referer": "http://43.167.252.120/backtest"}, "client_ip": "62.197.154.30", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", "timestamp": "2025-08-23T01:56:20.132111+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "97", "content-type": "application/json", "access-control-allow-credentials": "true"}, "duration_ms": 6.43}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 1375679, "name": "SpawnProcess-48"}, "thread": {"id": 140495922839680, "name": "MainThread"}, "time": {"repr": "2025-08-23 09:56:20.132137+08:00", "timestamp": 1755914180.132137}}}
{"text": "2025-08-23 09:56:33.552 | ERROR    | app.middleware.structured_logging:log_request_end:153 | 5af75f93-1adb-423d-a68b-566bf084ab80 | Server error: 500\n", "record": {"elapsed": {"repr": "13:57:01.178736", "seconds": 50221.178736}, "exception": null, "extra": {"request_id": "5af75f93-1adb-423d-a68b-566bf084ab80", "extra": {"structured_data": {"request_id": "5af75f93-1adb-423d-a68b-566bf084ab80", "method": "POST", "url": "http://43.167.252.120/api/v1/backtests/", "path": "/api/v1/backtests/", "query_params": {}, "headers": {"host": "43.167.252.120", "x-real-ip": "62.197.154.30", "x-forwarded-for": "62.197.154.30", "x-forwarded-proto": "http", "connection": "close", "content-length": "171", "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", "accept": "application/json, text/plain, */*", "accept-encoding": "gzip, deflate", "accept-language": "zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7", "authorization": "[FILTERED]", "content-type": "application/json", "origin": "http://43.167.252.120", "referer": "http://43.167.252.120/backtest"}, "client_ip": "62.197.154.30", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", "timestamp": "2025-08-23T01:56:33.552271+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "97", "content-type": "application/json", "access-control-allow-credentials": "true"}, "duration_ms": 3.6}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 1375679, "name": "SpawnProcess-48"}, "thread": {"id": 140495922839680, "name": "MainThread"}, "time": {"repr": "2025-08-23 09:56:33.552297+08:00", "timestamp": 1755914193.552297}}}
{"text": "2025-08-23 09:57:59.310 | ERROR    | app.middleware.structured_logging:log_request_end:153 | 09fe5944-ad40-4460-95d5-dbf940cc307c | Server error: 500\n", "record": {"elapsed": {"repr": "13:58:26.937141", "seconds": 50306.937141}, "exception": null, "extra": {"request_id": "09fe5944-ad40-4460-95d5-dbf940cc307c", "extra": {"structured_data": {"request_id": "09fe5944-ad40-4460-95d5-dbf940cc307c", "method": "POST", "url": "http://43.167.252.120/api/v1/backtests/", "path": "/api/v1/backtests/", "query_params": {}, "headers": {"host": "43.167.252.120", "x-real-ip": "43.167.252.120", "x-forwarded-for": "43.167.252.120", "x-forwarded-proto": "http", "connection": "close", "content-length": "222", "user-agent": "curl/8.5.0", "accept": "*/*", "content-type": "application/json", "authorization": "[FILTERED]"}, "client_ip": "43.167.252.120", "user_agent": "curl/8.5.0", "timestamp": "2025-08-23T01:57:59.310671+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "97", "content-type": "application/json"}, "duration_ms": 4.31}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 1375679, "name": "SpawnProcess-48"}, "thread": {"id": 140495922839680, "name": "MainThread"}, "time": {"repr": "2025-08-23 09:57:59.310702+08:00", "timestamp": 1755914279.310702}}}
{"text": "2025-08-23 15:37:20.759 | ERROR    | app.middleware.structured_logging:log_request_end:153 | 75e3a39b-6461-4466-ae36-e9414a6658a0 | Server error: 500\n", "record": {"elapsed": {"repr": "4:19:42.602589", "seconds": 15582.602589}, "exception": null, "extra": {"request_id": "75e3a39b-6461-4466-ae36-e9414a6658a0", "extra": {"structured_data": {"request_id": "75e3a39b-6461-4466-ae36-e9414a6658a0", "method": "POST", "url": "http://43.167.252.120/api/v1/trading-notes/ai-analysis", "path": "/api/v1/trading-notes/ai-analysis", "query_params": {}, "headers": {"host": "43.167.252.120", "x-real-ip": "208.87.243.183", "x-forwarded-for": "208.87.243.183", "x-forwarded-proto": "http", "connection": "close", "content-length": "0", "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", "accept": "*/*", "accept-encoding": "gzip, deflate", "accept-language": "zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7", "authorization": "[FILTERED]", "origin": "http://43.167.252.120", "referer": "http://43.167.252.120/trading-notes"}, "client_ip": "208.87.243.183", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", "timestamp": "2025-08-23T07:37:20.759135+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "27", "content-type": "application/json", "access-control-allow-credentials": "true"}, "duration_ms": 5.46}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 1668338, "name": "SpawnProcess-1"}, "thread": {"id": 124615261634688, "name": "MainThread"}, "time": {"repr": "2025-08-23 15:37:20.759160+08:00", "timestamp": 1755934640.75916}}}
{"text": "2025-08-23 18:54:27.597 | ERROR    | app.middleware.structured_logging:log_request_end:153 | 97121d54-8d0f-467c-b62e-e0949dc3c15b | Server error: 500\n", "record": {"elapsed": {"repr": "0:00:32.938146", "seconds": 32.938146}, "exception": null, "extra": {"request_id": "97121d54-8d0f-467c-b62e-e0949dc3c15b", "extra": {"structured_data": {"request_id": "97121d54-8d0f-467c-b62e-e0949dc3c15b", "method": "GET", "url": "http://localhost:8001/api/v1/membership/usage-stats", "path": "/api/v1/membership/usage-stats", "query_params": {}, "headers": {"host": "localhost:8001", "user-agent": "curl/8.5.0", "accept": "*/*", "authorization": "[FILTERED]", "content-type": "application/json"}, "client_ip": "127.0.0.1", "user_agent": "curl/8.5.0", "timestamp": "2025-08-23T10:54:27.597704+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "650", "content-type": "application/json"}, "duration_ms": 67.78}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 1819287, "name": "SpawnProcess-31"}, "thread": {"id": 130959724249216, "name": "MainThread"}, "time": {"repr": "2025-08-23 18:54:27.597747+08:00", "timestamp": 1755946467.597747}}}
{"text": "2025-08-24 13:27:25.610 | ERROR    | app.middleware.structured_logging:log_request_end:153 | 6af13a99-1574-4c4c-92c9-cac0b7294a35 | Server error: 500\n", "record": {"elapsed": {"repr": "0:31:38.207481", "seconds": 1898.207481}, "exception": null, "extra": {"request_id": "6af13a99-1574-4c4c-92c9-cac0b7294a35", "extra": {"structured_data": {"request_id": "6af13a99-1574-4c4c-92c9-cac0b7294a35", "method": "POST", "url": "http://43.167.252.120/api/v1/ai/sessions", "path": "/api/v1/ai/sessions", "query_params": {}, "headers": {"host": "43.167.252.120", "x-real-ip": "208.87.243.183", "x-forwarded-for": "208.87.243.183", "x-forwarded-proto": "http", "connection": "close", "content-length": "161", "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", "accept": "application/json, text/plain, */*", "accept-encoding": "gzip, deflate", "accept-language": "zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7", "authorization": "[FILTERED]", "content-type": "application/json", "origin": "http://43.167.252.120", "referer": "http://43.167.252.120/ai-chat"}, "client_ip": "208.87.243.183", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", "timestamp": "2025-08-24T05:27:25.610124+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "88", "content-type": "application/json", "access-control-allow-credentials": "true"}, "duration_ms": 5.4}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 2163461, "name": "SpawnProcess-46"}, "thread": {"id": 124716442124416, "name": "MainThread"}, "time": {"repr": "2025-08-24 13:27:25.610148+08:00", "timestamp": 1756013245.610148}}}
{"text": "2025-08-24 13:43:16.862 | ERROR    | app.middleware.structured_logging:log_request_end:153 | efc129cd-7efd-4b01-bee2-a54692591c7e | Server error: 500\n", "record": {"elapsed": {"repr": "0:47:29.459503", "seconds": 2849.459503}, "exception": null, "extra": {"request_id": "efc129cd-7efd-4b01-bee2-a54692591c7e", "extra": {"structured_data": {"request_id": "efc129cd-7efd-4b01-bee2-a54692591c7e", "method": "POST", "url": "http://localhost:8001/api/v1/ai/sessions", "path": "/api/v1/ai/sessions", "query_params": {}, "headers": {"host": "localhost:8001", "user-agent": "python-requests/2.31.0", "accept-encoding": "gzip, deflate", "accept": "*/*", "connection": "keep-alive", "authorization": "[FILTERED]", "content-length": "87", "content-type": "application/json"}, "client_ip": "127.0.0.1", "user_agent": "python-requests/2.31.0", "timestamp": "2025-08-24T05:43:16.862151+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "88", "content-type": "application/json"}, "duration_ms": 3.14}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 2163461, "name": "SpawnProcess-46"}, "thread": {"id": 124716442124416, "name": "MainThread"}, "time": {"repr": "2025-08-24 13:43:16.862170+08:00", "timestamp": 1756014196.86217}}}
{"text": "2025-08-24 13:47:00.742 | ERROR    | app.middleware.structured_logging:log_request_end:153 | a7d9340f-9dfe-410e-93fb-77798d5e91ae | Server error: 500\n", "record": {"elapsed": {"repr": "0:51:13.340332", "seconds": 3073.340332}, "exception": null, "extra": {"request_id": "a7d9340f-9dfe-410e-93fb-77798d5e91ae", "extra": {"structured_data": {"request_id": "a7d9340f-9dfe-410e-93fb-77798d5e91ae", "method": "POST", "url": "http://localhost:8001/api/v1/ai/sessions", "path": "/api/v1/ai/sessions", "query_params": {}, "headers": {"host": "localhost:8001", "user-agent": "python-requests/2.31.0", "accept-encoding": "gzip, deflate", "accept": "*/*", "connection": "keep-alive", "authorization": "[FILTERED]", "content-length": "87", "content-type": "application/json"}, "client_ip": "127.0.0.1", "user_agent": "python-requests/2.31.0", "timestamp": "2025-08-24T05:47:00.742962+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "88", "content-type": "application/json"}, "duration_ms": 9.94}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 2163461, "name": "SpawnProcess-46"}, "thread": {"id": 124716442124416, "name": "MainThread"}, "time": {"repr": "2025-08-24 13:47:00.742999+08:00", "timestamp": 1756014420.742999}}}
{"text": "2025-08-24 13:51:55.248 | ERROR    | app.middleware.structured_logging:log_request_end:153 | eb331378-f89e-43d8-9854-63451a9ffbc9 | Server error: 500\n", "record": {"elapsed": {"repr": "0:56:07.846105", "seconds": 3367.846105}, "exception": null, "extra": {"request_id": "eb331378-f89e-43d8-9854-63451a9ffbc9", "extra": {"structured_data": {"request_id": "eb331378-f89e-43d8-9854-63451a9ffbc9", "method": "POST", "url": "http://localhost:8001/api/v1/ai/sessions", "path": "/api/v1/ai/sessions", "query_params": {}, "headers": {"host": "localhost:8001", "user-agent": "python-requests/2.31.0", "accept-encoding": "gzip, deflate", "accept": "*/*", "connection": "keep-alive", "authorization": "[FILTERED]", "content-length": "87", "content-type": "application/json"}, "client_ip": "127.0.0.1", "user_agent": "python-requests/2.31.0", "timestamp": "2025-08-24T05:51:55.248737+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "88", "content-type": "application/json"}, "duration_ms": 8.59}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 2163461, "name": "SpawnProcess-46"}, "thread": {"id": 124716442124416, "name": "MainThread"}, "time": {"repr": "2025-08-24 13:51:55.248772+08:00", "timestamp": 1756014715.248772}}}
{"text": "2025-08-24 13:57:19.401 | ERROR    | app.middleware.structured_logging:log_request_end:153 | 51721040-f829-4663-9f7f-090ef6715d3f | Server error: 500\n", "record": {"elapsed": {"repr": "1:01:31.999059", "seconds": 3691.999059}, "exception": null, "extra": {"request_id": "51721040-f829-4663-9f7f-090ef6715d3f", "extra": {"structured_data": {"request_id": "51721040-f829-4663-9f7f-090ef6715d3f", "method": "POST", "url": "http://localhost:8001/api/v1/ai/sessions", "path": "/api/v1/ai/sessions", "query_params": {}, "headers": {"host": "localhost:8001", "user-agent": "python-requests/2.31.0", "accept-encoding": "gzip, deflate", "accept": "*/*", "connection": "keep-alive", "authorization": "[FILTERED]", "content-length": "174", "content-type": "application/json"}, "client_ip": "127.0.0.1", "user_agent": "python-requests/2.31.0", "timestamp": "2025-08-24T05:57:19.401694+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "88", "content-type": "application/json"}, "duration_ms": 7.97}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 2163461, "name": "SpawnProcess-46"}, "thread": {"id": 124716442124416, "name": "MainThread"}, "time": {"repr": "2025-08-24 13:57:19.401726+08:00", "timestamp": 1756015039.401726}}}
{"text": "2025-08-24 22:07:12.871 | ERROR    | app.middleware.structured_logging:log_request_end:153 | 44c68d03-1f2b-4402-8c77-9b9edd370702 | Server error: 500\n", "record": {"elapsed": {"repr": "0:00:32.288549", "seconds": 32.288549}, "exception": null, "extra": {"request_id": "44c68d03-1f2b-4402-8c77-9b9edd370702", "extra": {"structured_data": {"request_id": "44c68d03-1f2b-4402-8c77-9b9edd370702", "method": "GET", "url": "http://localhost:8001/api/v1/trading/live-strategies", "path": "/api/v1/trading/live-strategies", "query_params": {}, "headers": {"host": "localhost:8001", "user-agent": "curl/8.5.0", "accept": "*/*", "authorization": "[FILTERED]"}, "client_ip": "127.0.0.1", "user_agent": "curl/8.5.0", "timestamp": "2025-08-24T14:07:12.871323+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "80", "content-type": "application/json"}, "duration_ms": 13.67}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 2343786, "name": "SpawnProcess-2"}, "thread": {"id": 130376797696128, "name": "MainThread"}, "time": {"repr": "2025-08-24 22:07:12.871365+08:00", "timestamp": 1756044432.871365}}}
{"text": "2025-08-25 11:20:08.853 | ERROR    | app.middleware.structured_logging:log_error:184 | 3ca461f6-4453-4496-a77e-ba4d63aef882 | Request failed: IllegalStateChangeError: Method 'close()' can't be called here; method '_connection_for_bind()' is already in progress and this would cause an unexpected state change to <SessionTransactionState.CLOSED: 5> (Background on this error at: https://sqlalche.me/e/20/isce)\n", "record": {"elapsed": {"repr": "0:01:22.052923", "seconds": 82.052923}, "exception": null, "extra": {"request_id": "3ca461f6-4453-4496-a77e-ba4d63aef882", "extra": {"structured_data": {"request_id": "3ca461f6-4453-4496-a77e-ba4d63aef882", "method": "GET", "url": "http://localhost:8001/api/v1/admin/stats/system", "path": "/api/v1/admin/stats/system", "client_ip": "127.0.0.1", "error_type": "IllegalStateChangeError", "error_message": "Method 'close()' can't be called here; method '_connection_for_bind()' is already in progress and this would cause an unexpected state change to <SessionTransactionState.CLOSED: 5> (Background on this error at: https://sqlalche.me/e/20/isce)", "traceback": "Traceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/starlette/middleware/base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/anyio/streams/memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/root/trademe/backend/trading-service/app/middleware/structured_logging.py\", line 259, in structured_logging_middleware\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/usr/local/lib/python3.12/dist-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/usr/local/lib/python3.12/dist-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/usr/local/lib/python3.12/dist-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/usr/local/lib/python3.12/dist-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/usr/local/lib/python3.12/dist-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/usr/local/lib/python3.12/dist-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/usr/local/lib/python3.12/dist-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/usr/local/lib/python3.12/dist-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/usr/local/lib/python3.12/dist-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/usr/local/lib/python3.12/dist-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/usr/local/lib/python3.12/dist-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/usr/local/lib/python3.12/dist-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/fastapi/routing.py\", line 291, in app\n    async with AsyncExitStack() as async_exit_stack:\n  File \"/usr/lib/python3.12/contextlib.py\", line 754, in __aexit__\n    raise exc_details[1]\n  File \"/usr/lib/python3.12/contextlib.py\", line 737, in __aexit__\n    cb_suppress = await cb(*exc_details)\n                  ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/contextlib.py\", line 231, in __aexit__\n    await self.gen.athrow(value)\n  File \"/root/trademe/backend/trading-service/app/database.py\", line 50, in get_db\n    async with AsyncSessionLocal() as session:\n  File \"/usr/local/lib/python3.12/dist-packages/sqlalchemy/ext/asyncio/session.py\", line 1085, in __aexit__\n    await asyncio.shield(task)\n  File \"/usr/local/lib/python3.12/dist-packages/sqlalchemy/ext/asyncio/session.py\", line 1030, in close\n    await greenlet_spawn(self.sync_session.close)\n  File \"/usr/local/lib/python3.12/dist-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/sqlalchemy/orm/session.py\", line 2521, in close\n    self._close_impl(invalidate=False)\n  File \"/usr/local/lib/python3.12/dist-packages/sqlalchemy/orm/session.py\", line 2590, in _close_impl\n    transaction.close(invalidate)\n  File \"<string>\", line 2, in close\n  File \"/usr/local/lib/python3.12/dist-packages/sqlalchemy/orm/state_changes.py\", line 119, in _go\n    raise sa_exc.IllegalStateChangeError(\nsqlalchemy.exc.IllegalStateChangeError: Method 'close()' can't be called here; method '_connection_for_bind()' is already in progress and this would cause an unexpected state change to <SessionTransactionState.CLOSED: 5> (Background on this error at: https://sqlalche.me/e/20/isce)\n", "duration_ms": 11.62, "timestamp": "2025-08-25T03:20:08.853495+00:00", "event_type": "request_error"}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_error", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 184, "message": "Request failed: IllegalStateChangeError: Method 'close()' can't be called here; method '_connection_for_bind()' is already in progress and this would cause an unexpected state change to <SessionTransactionState.CLOSED: 5> (Background on this error at: https://sqlalche.me/e/20/isce)", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 2611392, "name": "SpawnProcess-17"}, "thread": {"id": 128122299719808, "name": "MainThread"}, "time": {"repr": "2025-08-25 11:20:08.853576+08:00", "timestamp": 1756092008.853576}}}
{"text": "2025-08-25 11:21:56.100 | ERROR    | app.middleware.structured_logging:log_request_end:153 | bcd88083-dc17-4961-82db-26ae78798bdf | Server error: 500\n", "record": {"elapsed": {"repr": "0:01:04.901102", "seconds": 64.901102}, "exception": null, "extra": {"request_id": "bcd88083-dc17-4961-82db-26ae78798bdf", "extra": {"structured_data": {"request_id": "bcd88083-dc17-4961-82db-26ae78798bdf", "method": "GET", "url": "http://localhost:8001/api/v1/admin/users?limit=5", "path": "/api/v1/admin/users", "query_params": {"limit": "5"}, "headers": {"host": "localhost:8001", "user-agent": "curl/8.5.0", "accept": "*/*", "authorization": "[FILTERED]", "content-type": "application/json"}, "client_ip": "127.0.0.1", "user_agent": "curl/8.5.0", "timestamp": "2025-08-25T03:21:56.100809+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "74", "content-type": "application/json"}, "duration_ms": 13.35}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 2612132, "name": "SpawnProcess-19"}, "thread": {"id": 130622170689664, "name": "MainThread"}, "time": {"repr": "2025-08-25 11:21:56.100844+08:00", "timestamp": 1756092116.100844}}}
{"text": "2025-08-25 11:22:17.827 | ERROR    | app.middleware.structured_logging:log_request_end:153 | 65bdb1da-a904-4601-8876-f76952a7a1c9 | Server error: 500\n", "record": {"elapsed": {"repr": "0:00:08.567656", "seconds": 8.567656}, "exception": null, "extra": {"request_id": "65bdb1da-a904-4601-8876-f76952a7a1c9", "extra": {"structured_data": {"request_id": "65bdb1da-a904-4601-8876-f76952a7a1c9", "method": "GET", "url": "http://localhost:8001/api/v1/admin/users?limit=3", "path": "/api/v1/admin/users", "query_params": {"limit": "3"}, "headers": {"host": "localhost:8001", "user-agent": "curl/8.5.0", "accept": "*/*", "authorization": "[FILTERED]", "content-type": "application/json"}, "client_ip": "127.0.0.1", "user_agent": "curl/8.5.0", "timestamp": "2025-08-25T03:22:17.827562+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "74", "content-type": "application/json"}, "duration_ms": 53.1}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 2612631, "name": "SpawnProcess-20"}, "thread": {"id": 126073837400192, "name": "MainThread"}, "time": {"repr": "2025-08-25 11:22:17.827604+08:00", "timestamp": 1756092137.827604}}}
{"text": "2025-08-25 11:22:41.714 | ERROR    | app.middleware.structured_logging:log_request_end:153 | 4d36c624-1f70-479e-9af7-24cde1c8208f | Server error: 500\n", "record": {"elapsed": {"repr": "0:00:09.293095", "seconds": 9.293095}, "exception": null, "extra": {"request_id": "4d36c624-1f70-479e-9af7-24cde1c8208f", "extra": {"structured_data": {"request_id": "4d36c624-1f70-479e-9af7-24cde1c8208f", "method": "GET", "url": "http://localhost:8001/api/v1/admin/users?limit=2", "path": "/api/v1/admin/users", "query_params": {"limit": "2"}, "headers": {"host": "localhost:8001", "user-agent": "curl/8.5.0", "accept": "*/*", "authorization": "[FILTERED]", "content-type": "application/json"}, "client_ip": "127.0.0.1", "user_agent": "curl/8.5.0", "timestamp": "2025-08-25T03:22:41.714173+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "74", "content-type": "application/json"}, "duration_ms": 32.87}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 2612781, "name": "SpawnProcess-21"}, "thread": {"id": 130772882010240, "name": "MainThread"}, "time": {"repr": "2025-08-25 11:22:41.714204+08:00", "timestamp": 1756092161.714204}}}
{"text": "2025-08-25 11:23:50.065 | ERROR    | app.middleware.structured_logging:log_request_end:153 | b1c486b5-1160-44ff-b1fe-627e32f487f5 | Server error: 500\n", "record": {"elapsed": {"repr": "0:00:42.784144", "seconds": 42.784144}, "exception": null, "extra": {"request_id": "b1c486b5-1160-44ff-b1fe-627e32f487f5", "extra": {"structured_data": {"request_id": "b1c486b5-1160-44ff-b1fe-627e32f487f5", "method": "GET", "url": "http://localhost:8001/api/v1/admin/users?limit=2", "path": "/api/v1/admin/users", "query_params": {"limit": "2"}, "headers": {"host": "localhost:8001", "user-agent": "curl/8.5.0", "accept": "*/*", "authorization": "[FILTERED]", "content-type": "application/json"}, "client_ip": "127.0.0.1", "user_agent": "curl/8.5.0", "timestamp": "2025-08-25T03:23:50.065151+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "74", "content-type": "application/json"}, "duration_ms": 77.62}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 2613010, "name": "SpawnProcess-22"}, "thread": {"id": 138592896540800, "name": "MainThread"}, "time": {"repr": "2025-08-25 11:23:50.065191+08:00", "timestamp": 1756092230.065191}}}
{"text": "2025-08-25 11:37:37.600 | ERROR    | app.middleware.structured_logging:log_request_end:153 | df7783be-d731-4989-a02d-766e23c015f4 | Server error: 500\n", "record": {"elapsed": {"repr": "0:14:30.319874", "seconds": 870.319874}, "exception": null, "extra": {"request_id": "df7783be-d731-4989-a02d-766e23c015f4", "extra": {"structured_data": {"request_id": "df7783be-d731-4989-a02d-766e23c015f4", "method": "GET", "url": "http://43.167.252.120/api/v1/admin/users?limit=5", "path": "/api/v1/admin/users", "query_params": {"limit": "5"}, "headers": {"host": "43.167.252.120", "x-real-ip": "114.105.192.72", "x-forwarded-for": "114.105.192.72", "x-forwarded-proto": "http", "connection": "close", "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", "authorization": "[FILTERED]", "accept": "*/*", "referer": "http://43.167.252.120/admin", "accept-encoding": "gzip, deflate", "accept-language": "zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7", "if-none-match": "W/\"506-2/4g2YWLBTVoBB4yXaX8NAc5A8Q\""}, "client_ip": "114.105.192.72", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", "timestamp": "2025-08-25T03:37:37.600894+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "74", "content-type": "application/json"}, "duration_ms": 7.45}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 2613010, "name": "SpawnProcess-22"}, "thread": {"id": 138592896540800, "name": "MainThread"}, "time": {"repr": "2025-08-25 11:37:37.600921+08:00", "timestamp": 1756093057.600921}}}
{"text": "2025-08-25 11:37:37.682 | ERROR    | app.middleware.structured_logging:log_request_end:153 | f1076f6c-ae49-4f1d-9690-700dd87c9292 | Server error: 500\n", "record": {"elapsed": {"repr": "0:14:30.401417", "seconds": 870.401417}, "exception": null, "extra": {"request_id": "f1076f6c-ae49-4f1d-9690-700dd87c9292", "extra": {"structured_data": {"request_id": "f1076f6c-ae49-4f1d-9690-700dd87c9292", "method": "GET", "url": "http://43.167.252.120/api/v1/admin/users?limit=5", "path": "/api/v1/admin/users", "query_params": {"limit": "5"}, "headers": {"host": "43.167.252.120", "x-real-ip": "114.105.192.72", "x-forwarded-for": "114.105.192.72", "x-forwarded-proto": "http", "connection": "close", "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", "authorization": "[FILTERED]", "accept": "*/*", "referer": "http://43.167.252.120/admin", "accept-encoding": "gzip, deflate", "accept-language": "zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7"}, "client_ip": "114.105.192.72", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", "timestamp": "2025-08-25T03:37:37.682442+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "74", "content-type": "application/json"}, "duration_ms": 3.38}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 2613010, "name": "SpawnProcess-22"}, "thread": {"id": 138592896540800, "name": "MainThread"}, "time": {"repr": "2025-08-25 11:37:37.682464+08:00", "timestamp": 1756093057.682464}}}
{"text": "2025-08-25 11:37:41.223 | ERROR    | app.middleware.structured_logging:log_request_end:153 | 265b3a39-7410-487f-8342-44fc38223c77 | Server error: 500\n", "record": {"elapsed": {"repr": "0:14:33.942919", "seconds": 873.942919}, "exception": null, "extra": {"request_id": "265b3a39-7410-487f-8342-44fc38223c77", "extra": {"structured_data": {"request_id": "265b3a39-7410-487f-8342-44fc38223c77", "method": "GET", "url": "http://43.167.252.120/api/v1/admin/users?limit=5", "path": "/api/v1/admin/users", "query_params": {"limit": "5"}, "headers": {"host": "43.167.252.120", "x-real-ip": "114.105.192.72", "x-forwarded-for": "114.105.192.72", "x-forwarded-proto": "http", "connection": "close", "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", "authorization": "[FILTERED]", "accept": "*/*", "referer": "http://43.167.252.120/admin", "accept-encoding": "gzip, deflate", "accept-language": "zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7"}, "client_ip": "114.105.192.72", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", "timestamp": "2025-08-25T03:37:41.223933+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "74", "content-type": "application/json"}, "duration_ms": 14.17}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 2613010, "name": "SpawnProcess-22"}, "thread": {"id": 138592896540800, "name": "MainThread"}, "time": {"repr": "2025-08-25 11:37:41.223966+08:00", "timestamp": 1756093061.223966}}}
{"text": "2025-08-25 11:37:41.956 | ERROR    | app.middleware.structured_logging:log_request_end:153 | 8ed4c06c-5d68-4c5e-b650-849290fdf901 | Server error: 500\n", "record": {"elapsed": {"repr": "0:14:34.675909", "seconds": 874.675909}, "exception": null, "extra": {"request_id": "8ed4c06c-5d68-4c5e-b650-849290fdf901", "extra": {"structured_data": {"request_id": "8ed4c06c-5d68-4c5e-b650-849290fdf901", "method": "GET", "url": "http://43.167.252.120/api/v1/admin/users?limit=5", "path": "/api/v1/admin/users", "query_params": {"limit": "5"}, "headers": {"host": "43.167.252.120", "x-real-ip": "114.105.192.72", "x-forwarded-for": "114.105.192.72", "x-forwarded-proto": "http", "connection": "close", "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", "authorization": "[FILTERED]", "accept": "*/*", "referer": "http://43.167.252.120/admin", "accept-encoding": "gzip, deflate", "accept-language": "zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7"}, "client_ip": "114.105.192.72", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", "timestamp": "2025-08-25T03:37:41.956932+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "74", "content-type": "application/json"}, "duration_ms": 3.28}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 2613010, "name": "SpawnProcess-22"}, "thread": {"id": 138592896540800, "name": "MainThread"}, "time": {"repr": "2025-08-25 11:37:41.956956+08:00", "timestamp": 1756093061.956956}}}
{"text": "2025-08-25 11:43:02.482 | ERROR    | app.middleware.structured_logging:log_request_end:153 | be40d079-bc67-47ea-a5f4-d79df3dd18e9 | Server error: 500\n", "record": {"elapsed": {"repr": "0:19:55.201062", "seconds": 1195.201062}, "exception": null, "extra": {"request_id": "be40d079-bc67-47ea-a5f4-d79df3dd18e9", "extra": {"structured_data": {"request_id": "be40d079-bc67-47ea-a5f4-d79df3dd18e9", "method": "GET", "url": "http://localhost/api/v1/admin/users?limit=5", "path": "/api/v1/admin/users", "query_params": {"limit": "5"}, "headers": {"host": "localhost", "x-real-ip": "127.0.0.1", "x-forwarded-for": "127.0.0.1", "x-forwarded-proto": "http", "connection": "close", "user-agent": "curl/8.5.0", "accept": "*/*", "authorization": "[FILTERED]", "content-type": "application/json"}, "client_ip": "127.0.0.1", "user_agent": "curl/8.5.0", "timestamp": "2025-08-25T03:43:02.482075+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "74", "content-type": "application/json"}, "duration_ms": 9.71}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 2613010, "name": "SpawnProcess-22"}, "thread": {"id": 138592896540800, "name": "MainThread"}, "time": {"repr": "2025-08-25 11:43:02.482109+08:00", "timestamp": 1756093382.482109}}}
{"text": "2025-08-25 11:43:32.502 | ERROR    | app.middleware.structured_logging:log_request_end:153 | 2cc30ecb-6b61-4046-a322-4a04aae82c0b | Server error: 500\n", "record": {"elapsed": {"repr": "0:00:11.417072", "seconds": 11.417072}, "exception": null, "extra": {"request_id": "2cc30ecb-6b61-4046-a322-4a04aae82c0b", "extra": {"structured_data": {"request_id": "2cc30ecb-6b61-4046-a322-4a04aae82c0b", "method": "GET", "url": "http://localhost/api/v1/admin/users?limit=5", "path": "/api/v1/admin/users", "query_params": {"limit": "5"}, "headers": {"host": "localhost", "x-real-ip": "127.0.0.1", "x-forwarded-for": "127.0.0.1", "x-forwarded-proto": "http", "connection": "close", "user-agent": "curl/8.5.0", "accept": "*/*", "authorization": "[FILTERED]", "content-type": "application/json"}, "client_ip": "127.0.0.1", "user_agent": "curl/8.5.0", "timestamp": "2025-08-25T03:43:32.502207+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "74", "content-type": "application/json"}, "duration_ms": 86.28}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 2620326, "name": "SpawnProcess-23"}, "thread": {"id": 125708779122816, "name": "MainThread"}, "time": {"repr": "2025-08-25 11:43:32.502248+08:00", "timestamp": 1756093412.502248}}}
{"text": "2025-08-25 11:45:50.087 | ERROR    | app.middleware.structured_logging:log_request_end:153 | 017650f5-c8b0-4296-9a6d-c1a60f99a29b | Server error: 500\n", "record": {"elapsed": {"repr": "0:01:34.569776", "seconds": 94.569776}, "exception": null, "extra": {"request_id": "017650f5-c8b0-4296-9a6d-c1a60f99a29b", "extra": {"structured_data": {"request_id": "017650f5-c8b0-4296-9a6d-c1a60f99a29b", "method": "GET", "url": "http://localhost/api/v1/admin/users?limit=3", "path": "/api/v1/admin/users", "query_params": {"limit": "3"}, "headers": {"host": "localhost", "x-real-ip": "127.0.0.1", "x-forwarded-for": "127.0.0.1", "x-forwarded-proto": "http", "connection": "close", "user-agent": "curl/8.5.0", "accept": "*/*", "authorization": "[FILTERED]", "content-type": "application/json"}, "client_ip": "127.0.0.1", "user_agent": "curl/8.5.0", "timestamp": "2025-08-25T03:45:50.087305+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "74", "content-type": "application/json"}, "duration_ms": 11.19}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 2620669, "name": "SpawnProcess-24"}, "thread": {"id": 136730510835840, "name": "MainThread"}, "time": {"repr": "2025-08-25 11:45:50.087341+08:00", "timestamp": 1756093550.087341}}}
{"text": "2025-08-25 11:46:50.657 | ERROR    | app.middleware.structured_logging:log_request_end:153 | 3bc55bd9-3e9c-47d9-8cbb-7792790ed8c6 | Server error: 500\n", "record": {"elapsed": {"repr": "0:00:20.548275", "seconds": 20.548275}, "exception": null, "extra": {"request_id": "3bc55bd9-3e9c-47d9-8cbb-7792790ed8c6", "extra": {"structured_data": {"request_id": "3bc55bd9-3e9c-47d9-8cbb-7792790ed8c6", "method": "GET", "url": "http://localhost/api/v1/admin/users?limit=3", "path": "/api/v1/admin/users", "query_params": {"limit": "3"}, "headers": {"host": "localhost", "x-real-ip": "127.0.0.1", "x-forwarded-for": "127.0.0.1", "x-forwarded-proto": "http", "connection": "close", "user-agent": "curl/8.5.0", "accept": "*/*", "authorization": "[FILTERED]", "content-type": "application/json"}, "client_ip": "127.0.0.1", "user_agent": "curl/8.5.0", "timestamp": "2025-08-25T03:46:50.657116+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "74", "content-type": "application/json"}, "duration_ms": 52.98}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 2621569, "name": "SpawnProcess-25"}, "thread": {"id": 131722704609408, "name": "MainThread"}, "time": {"repr": "2025-08-25 11:46:50.657161+08:00", "timestamp": 1756093610.657161}}}
{"text": "2025-08-25 11:47:49.681 | ERROR    | app.middleware.structured_logging:log_request_end:153 | d5ea03c2-d5ef-4efe-929b-81a85d0a9797 | Server error: 500\n", "record": {"elapsed": {"repr": "0:00:23.061445", "seconds": 23.061445}, "exception": null, "extra": {"request_id": "d5ea03c2-d5ef-4efe-929b-81a85d0a9797", "extra": {"structured_data": {"request_id": "d5ea03c2-d5ef-4efe-929b-81a85d0a9797", "method": "GET", "url": "http://localhost/api/v1/admin/users?limit=3", "path": "/api/v1/admin/users", "query_params": {"limit": "3"}, "headers": {"host": "localhost", "x-real-ip": "127.0.0.1", "x-forwarded-for": "127.0.0.1", "x-forwarded-proto": "http", "connection": "close", "user-agent": "curl/8.5.0", "accept": "*/*", "authorization": "[FILTERED]", "content-type": "application/json"}, "client_ip": "127.0.0.1", "user_agent": "curl/8.5.0", "timestamp": "2025-08-25T03:47:49.681923+00:00", "event_type": "request_end", "status_code": 500, "response_headers": {"content-length": "74", "content-type": "application/json"}, "duration_ms": 75.55}}}, "file": {"name": "structured_logging.py", "path": "/root/trademe/backend/trading-service/app/middleware/structured_logging.py"}, "function": "log_request_end", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 153, "message": "Server error: 500", "module": "structured_logging", "name": "app.middleware.structured_logging", "process": {"id": 2621921, "name": "SpawnProcess-26"}, "thread": {"id": 126037646844032, "name": "MainThread"}, "time": {"repr": "2025-08-25 11:47:49.681964+08:00", "timestamp": 1756093669.681964}}}
