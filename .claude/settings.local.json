{
  "permissions": {
    "allow": [
      "WebFetch(domain:modao.cc)",
      "Bash(mkdir:*)",
      "Bash(npm init:*)",
      "Bash(npm install)",
      "Bash(npx prisma generate:*)",
      "Bash(npx prisma:*)",
      "Bash(sudo systemctl:*)",
      "Bash(docker:*)",
      "Bash(docker-compose:*)",
      "Bash(sudo apt-get:*)",
      "Bash(sudo apt-get install:*)",
      "Bash(sudo mysql:*)",
      "Bash(mysql:*)",
      "Bash(npm run build:*)",
      "Bash(npm install:*)",
      "Bash(npm start)",
      "Bash(npm run dev:*)",
      "Bash(curl:*)",
      "Bash(sudo ln:*)",
      "Bash(sudo rm:*)",
      "Bash(sudo nginx:*)",
      "Bash(sudo ufw:*)",
      "Bash(sudo mkdir:*)",
      "Bash(chmod:*)",
      "Bash(touch:*)",
      "Bash(sqlite3:*)",
      "Bash(python:*)",
      "Bash(apt:*)",
      "Bash(apt install:*)",
      "Bash(source:*)",
      "Bash(pip install:*)",
      "Bash(uvicorn:*)",
      "Bash(pip3 install:*)",
      "Bash(grep:*)",
      "Bash(sudo apt:*)",
      "Bash(sudo apt install:*)",
      "Bash(npx vite:*)",
      "Bash(nginx:*)",
      "Bash(systemctl:*)",
      "Bash(pkill:*)",
      "Bash(JWT_TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1IiwiZW1haWwiOiJ0ZXN0ZnJvbnRlbmRAZXhhbXBsZS5jb20iLCJtZW1iZXJzaGlwTGV2ZWwiOiJCQVNJQyIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTU2ODA1OTYsImV4cCI6MTc1NTc2Njk5NiwiYXVkIjoidHJhZGVtZS1hcHAiLCJpc3MiOiJ0cmFkZW1lLXVzZXItc2VydmljZSJ9.ixPaX7Hi8fj6Tru9SzvKndtJFbtAJ0vrWGjDMdDxBIM\")",
      "Bash(__NEW_LINE__ curl -X GET \"http://localhost:3001/api/v1/auth/me\" -H \"Authorization: Bearer $JWT_TOKEN\" -w \"\\nStatus: %{http_code}\\n\")",
      "Bash(npm test:*)",
      "Bash(npm run test:*)",
      "Bash(node:*)",
      "Bash(mv:*)",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nimport asyncio\nimport sys\nsys.path.append(''.'')\n\nfrom app.database import check_db_connection\nfrom app.config import settings\n\nasync def test_connection():\n    print(f''ğŸ”— æ•°æ®åº“URL: {settings.database_url}'')\n    \n    # æµ‹è¯•åŸºç¡€è¿æ¥\n    is_connected = await check_db_connection()\n    if is_connected:\n        print(''âœ… äº¤æ˜“æœåŠ¡æ•°æ®åº“è¿æ¥æˆåŠŸ'')\n    else:\n        print(''âŒ äº¤æ˜“æœåŠ¡æ•°æ®åº“è¿æ¥å¤±è´¥'')\n        return\n    \n    # æµ‹è¯•æŸ¥è¯¢åŠŸèƒ½\n    try:\n        from sqlalchemy import text\n        from app.database import AsyncSessionLocal\n        \n        async with AsyncSessionLocal() as session:\n            # æµ‹è¯•æŸ¥è¯¢ç”¨æˆ·è¡¨\n            result = await session.execute(text(''SELECT COUNT(*) FROM users''))\n            user_count = result.scalar()\n            print(f''ğŸ‘¥ ç”¨æˆ·æ€»æ•°: {user_count}'')\n            \n            if user_count > 0:\n                result = await session.execute(text(''SELECT username, email FROM users LIMIT 1''))\n                user = result.fetchone()\n                print(f''ğŸ‘¤ ç”¨æˆ·ç¤ºä¾‹: {user[0]} ({user[1]})'')\n                print(''âœ… æ•°æ®åº“ç»Ÿä¸€æˆåŠŸï¼ä¸¤ä¸ªæœåŠ¡å¯ä»¥çœ‹åˆ°ç›¸åŒçš„æ•°æ®'')\n            else:\n                print(''â„¹ï¸  æ•°æ®åº“ä¸ºç©ºï¼Œä½†è¿æ¥æˆåŠŸ'')\n            \n    except Exception as e:\n        print(f''âŒ æ•°æ®åº“æŸ¥è¯¢å¤±è´¥: {e}'')\n\nasyncio.run(test_connection())\n\")",
      "Bash(lsof:*)",
      "Bash(kill:*)",
      "Bash(PYTHONPATH=/root/trademe/backend/trading-service uvicorn app.main:app --host 0.0.0.0 --port 8001 --reload)",
      "Bash(__NEW_LINE__ echo \"Trading Service JWT_SECRET:\")",
      "Bash(NEW_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJ1c2VybmFtZSI6InRlc3QiLCJtZW1iZXJzaGlwX2xldmVsIjoiYmFzaWMiLCJleHAiOjE3NTU3NTE2ODAuMzMzNDA2fQ.FdeY8pJ9_DNKvvhx6PxgGUN0IxbG76CH7fN8WurqNjU\")",
      "Bash(echo:*)",
      "Bash(TEST_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJ1c2VybmFtZSI6InRlc3QiLCJtZW1iZXJzaGlwX2xldmVsIjoiYmFzaWMiLCJleHAiOjE3NTU3NTE2ODAuMzMzNDA2fQ.FdeY8pJ9_DNKvvhx6PxgGUN0IxbG76CH7fN8WurqNjU\")",
      "Bash(FRESH_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJ1c2VybmFtZSI6InRlc3QiLCJtZW1iZXJzaGlwX2xldmVsIjoiYmFzaWMiLCJleHAiOjE3NTU3NTIxMDkuMjg5MTU2fQ.wXVcz9Ecx8_85BO5ICwMYzWqk1Aka8xkhzLkmaSqZcw\")",
      "Bash(npx ts-node:*)",
      "Bash(cp:*)",
      "Bash(cat:*)",
      "Bash(PUBLIC_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI5IiwiZW1haWwiOiJwdWJsaWN0ZXN0QGV4YW1wbGUuY29tIiwibWVtYmVyc2hpcExldmVsIjoiQkFTSUMiLCJ0eXBlIjoiYWNjZXNzIiwiaWF0IjoxNzU1NzQ1NjgxLCJleHAiOjE3NTU4MzIwODEsImF1ZCI6InRyYWRlbWUtYXBwIiwiaXNzIjoidHJhZGVtZS11c2VyLXNlcnZpY2UifQ.iS9_Hfu5-aL5z4QBdL8p0RDRzQvSLTI8dD_NGgvJCbo\")",
      "Bash(find:*)",
      "Bash(PUBLIC_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI5IiwiZW1haWwiOiJwdWJsaWN0ZXN0QGV4YW1wbGUuY29tIiwibWVtYmVyc2hpcExldmVsIjoicHJlbWl1bSIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTU3NTQyOTAsImV4cCI6MTc1NTg0MDY5MCwiYXVkIjoidHJhZGVtZS1hcHAiLCJpc3MiOiJ0cmFkZW1lLXVzZXItc2VydmljZSJ9.lP1WwMkQO_MldXXv9qn1CaMwnm9GrlGd0FTwQEZvZnM\")",
      "Bash(export:*)",
      "Bash(TEST_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiIxMCIsImVtYWlsIjoidGVzdHVzZXIyMDI1QGV4YW1wbGUuY29tIiwibWVtYmVyc2hpcExldmVsIjoiQkFTSUMiLCJ0eXBlIjoiYWNjZXNzIiwiaWF0IjoxNzU1NzU3ODI3LCJleHAiOjE3NTU4NDQyMjcsImF1ZCI6InRyYWRlbWUtYXBwIiwiaXNzIjoidHJhZGVtZS11c2VyLXNlcnZpY2UifQ.3H69_Zw3TW2Wy-_6FcE653W3wJnkmJVtuFlP7iZKwbI\" curl -X GET http://localhost:3001/api/v1/auth/me -H \"Authorization: Bearer $TEST_JWT\")",
      "Bash(TEST_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiIxMCIsImVtYWlsIjoidGVzdHVzZXIyMDI1QGV4YW1wbGUuY29tIiwibWVtYmVyc2hpcExldmVsIjoiQkFTSUMiLCJ0eXBlIjoiYWNjZXNzIiwiaWF0IjoxNzU1NzU3ODI3LCJleHAiOjE3NTU4NDQyMjcsImF1ZCI6InRyYWRlbWUtYXBwIiwiaXNzIjoidHJhZGVtZS11c2VyLXNlcnZpY2UifQ.3H69_Zw3TW2Wy-_6FcE653W3wJnkmJVtuFlP7iZKwbI\" curl -X GET http://localhost:3001/api/v1/membership/limits -H \"Authorization: Bearer $TEST_JWT\")",
      "WebFetch(domain:i.postimg.cc)",
      "Bash(ufw:*)",
      "Bash(ss:*)",
      "Bash(TEST_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiIxMCIsImVtYWlsIjoidGVzdHVzZXIyMDI1QGV4YW1wbGUuY29tIiwibWVtYmVyc2hpcExldmVsIjoiQkFTSUMiLCJ0eXBlIjoiYWNjZXNzIiwiaWF0IjoxNzU1NzU3ODI3LCJleHAiOjE3NTU4NDQyMjcsImF1ZCI6InRyYWRlbWUtYXBwIiwiaXNzIjoidHJhZGVtZS11c2VyLXNlcnZpY2UifQ.3H69_Zw3TW2Wy-_6FcE653W3wJnkmJVtuFlP7iZKwbI\")",
      "Bash(timeout 10 curl -s \"http://43.167.252.120\")",
      "Bash(timeout 10 curl -s \"http://43.167.252.120/\")",
      "Bash(timeout 10 curl -s \"http://43.167.252.120/trading\")",
      "Bash(timeout 5 curl -s \"http://43.167.252.120/\")",
      "Bash(git checkout:*)",
      "Bash(TEST_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI5IiwiZW1haWwiOiJwdWJsaWN0ZXN0QGV4YW1wbGUuY29tIiwibWVtYmVyc2hpcExldmVsIjoicHJlbWl1bSIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTU3NzU4MjgsImV4cCI6MTc1NTg2MjIyOCwiYXVkIjoidHJhZGVtZS1hcHAiLCJpc3MiOiJ0cmFkZW1lLXVzZXItc2VydmljZSJ9.pOV7U7Wz7flgBGAAWXTB3wU5grqOCxqjsf27pF0iZkw\")",
      "Bash(FRESH_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI5IiwiZW1haWwiOiJwdWJsaWN0ZXN0QGV4YW1wbGUuY29tIiwibWVtYmVyc2hpcExldmVsIjoicHJlbWl1bSIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTU3NzYxNDUsImV4cCI6MTc1NTg2MjU0NSwiYXVkIjoidHJhZGVtZS1hcHAiLCJpc3MiOiJ0cmFkZW1lLXVzZXItc2VydmljZSJ9.ZCPm0CtH6Ioa7l9dUW13Ojnk1Su2BSd111WOsOLkFpM\")",
      "Bash(NEW_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI5IiwiZW1haWwiOiJwdWJsaWN0ZXN0QGV4YW1wbGUuY29tIiwibWVtYmVyc2hpcExldmVsIjoicHJlbWl1bSIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTU3NzYzNTQsImV4cCI6MTc1NTg2Mjc1NCwiYXVkIjoidHJhZGVtZS1hcHAiLCJpc3MiOiJ0cmFkZW1lLXVzZXItc2VydmljZSJ9.n4YYbASlg1jJ1MxhDJZVcIzptXMNN_9BApjlOYyNCiQ\")",
      "Bash(timeout 10 curl -s \"http://43.167.252.120/\" -c /tmp/cookies.txt)",
      "Bash(timeout 10 curl -s \"http://43.167.252.120/backtest\")",
      "Bash(TEST_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI5IiwiZW1haWwiOiJwdWJsaWN0ZXN0QGV4YW1wbGUuY29tIiwibWVtYmVyc2hpcExldmVsIjoicHJlbWl1bSIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTU3NzYzNTQsImV4cCI6MTc1NTg2Mjc1NCwiYXVkIjoidHJhZGVtZS1hcHAiLCJpc3MiOiJ0cmFkZW1lLXVzZXItc2VydmljZSJ9.n4YYbASlg1jJ1MxhDJZVcIzptXMNN_9BApjlOYyNCiQ\")",
      "Bash(timeout 10 curl -s \"http://43.167.252.120/strategy/1/live\")",
      "Bash(timeout 10 curl -s \"http://43.167.252.120/health\" -w \"\\nStatus: %{http_code}\\n\")",
      "Bash(timeout 10 curl -s \"http://43.167.252.120/\" -w \"\\nStatus: %{http_code}\\n\")",
      "Bash(timeout 10 curl -s \"http://43.167.252.120:3001/health\" -w \"\\nStatus: %{http_code}\\n\")",
      "Bash(timeout 10 curl -s \"http://43.167.252.120:8001/health\" -w \"\\nStatus: %{http_code}\\n\")",
      "Bash(timeout:*)",
      "Bash(FRESH_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI5IiwiZW1haWwiOiJwdWJsaWN0ZXN0QGV4YW1wbGUuY29tIiwibWVtYmVyc2hpcExldmVsIjoicHJlbWl1bSIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTU4MzY5MzcsImV4cCI6MTc1NTkyMzMzNywiYXVkIjoidHJhZGVtZS1hcHAiLCJpc3MiOiJ0cmFkZW1lLXVzZXItc2VydmljZSJ9.jOFs7Xu-dpS41PD5IZjdn2d2nOc_j6WAt89sSKc3xuQ\")",
      "Bash(__NEW_LINE__ curl -X GET \"http://localhost:8001/api/v1/api-keys/\" )",
      "Bash(NEWEST_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI5IiwiZW1haWwiOiJwdWJsaWN0ZXN0QGV4YW1wbGUuY29tIiwibWVtYmVyc2hpcExldmVsIjoicHJlbWl1bSIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTU4NDIzMDMsImV4cCI6MTc1NTkyODcwMywiYXVkIjoidHJhZGVtZS1hcHAiLCJpc3MiOiJ0cmFkZW1lLXVzZXItc2VydmljZSJ9.pe6-L_SR_JyJnn-4_FSuy_AmWofqO7KajYgEGzKwve8\")",
      "Bash(LATEST_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI5IiwiZW1haWwiOiJwdWJsaWN0ZXN0QGV4YW1wbGUuY29tIiwibWVtYmVyc2hpcExldmVsIjoicHJlbWl1bSIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTU4NDI0MjYsImV4cCI6MTc1NTkyODgyNiwiYXVkIjoidHJhZGVtZS1hcHAiLCJpc3MiOiJ0cmFkZW1lLXVzZXItc2VydmljZSJ9.7O9dNsYtot04foC9nzIasK4O-DLfeLwr3WOmzYSNDxs\")",
      "Bash(sudo:*)",
      "Bash(FRESH_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI5IiwiZW1haWwiOiJwdWJsaWN0ZXN0QGV4YW1wbGUuY29tIiwibWVtYmVyc2hpcExldmVsIjoicHJlbWl1bSIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTU4NTg2MjQsImV4cCI6MTc1NTk0NTAyNCwiYXVkIjoidHJhZGVtZS1hcHAiLCJpc3MiOiJ0cmFkZW1lLXVzZXItc2VydmljZSJ9.__BK5wtci3BOcKGJYdsvplTenHhRbbc_rDYw8xuMs3U\")",
      "Bash(LATEST_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI5IiwiZW1haWwiOiJwdWJsaWN0ZXN0QGV4YW1wbGUuY29tIiwibWVtYmVyc2hpcExldmVsIjoicHJlbWl1bSIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTU4NTk1NzQsImV4cCI6MTc1NTk0NTk3NCwiYXVkIjoidHJhZGVtZS1hcHAiLCJpc3MiOiJ0cmFkZW1lLXVzZXItc2VydmljZSJ9.EYy1bluTfVPZ4DXLZgH2HhGfW3Ne2yp_922ULK9Hbt8\")",
      "Bash(__NEW_LINE__ echo \"Testing MACD analysis...\")",
      "Bash(__NEW_LINE__ curl -X GET \"http://localhost:8001/api/v1/strategies/\" )",
      "Bash(FRESH_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI5IiwiZW1haWwiOiJwdWJsaWN0ZXN0QGV4YW1wbGUuY29tIiwibWVtYmVyc2hpcExldmVsIjoicHJlbWl1bSIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTU4NjIzMjksImV4cCI6MTc1NTk0ODcyOSwiYXVkIjoidHJhZGVtZS1hcHAiLCJpc3MiOiJ0cmFkZW1lLXVzZXItc2VydmljZSJ9.MHn0g9pLFNqiywdil6bDalXbzbOTSZonHzldac61ugQ\")",
      "Bash(__NEW_LINE__ echo -e \"\\n=== è·å–ç»Ÿè®¡ä¿¡æ¯ ===\")",
      "Bash(PUBLIC_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI5IiwiZW1haWwiOiJwdWJsaWN0ZXN0QGV4YW1wbGUuY29tIiwibWVtYmVyc2hpcExldmVsIjoicHJlbWl1bSIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTU4NTk1NzQsImV4cCI6MTc1NTk0NTk3NCwiYXVkIjoidHJhZGVtZS1hcHAiLCJpc3MiOiJ0cmFkZW1lLXVzZXItc2VydmljZSJ9.EYy1bluTfVPZ4DXLZgH2HhGfW3Ne2yp_922ULK9Hbt8\")",
      "Bash(VALID_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI5IiwiZW1haWwiOiJwdWJsaWN0ZXN0QGV4YW1wbGUuY29tIiwibWVtYmVyc2hpcExldmVsIjoicHJlbWl1bSIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTU5MTk0MzIsImV4cCI6MTc1NjAwNTgzMiwiYXVkIjoidHJhZGVtZS1hcHAiLCJpc3MiOiJ0cmFkZW1lLXVzZXItc2VydmljZSJ9.O9KBsnFDvXAc1BVuGmu9Cej_Buc6h7SMtdjkH4HFCAU\")",
      "Bash(ps:*)",
      "Bash(bash:*)",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nimport sqlite3\nconn = sqlite3.connect(''/root/trademe/data/trademe.db'')\ncursor = conn.cursor()\ncursor.execute(''SELECT name FROM sqlite_master WHERE type=\"\"table\"\";'')\ntables = cursor.fetchall()\nprint(''æ•°æ®åº“ä¸­çš„è¡¨:'')\nfor table in tables:\n    print(f''- {table[0]}'')\nconn.close()\n\")",
      "Bash(FRESH_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI5IiwiZW1haWwiOiJwdWJsaWN0ZXN0QGV4YW1wbGUuY29tIiwibWVtYmVyc2hpcExldmVsIjoicHJlbWl1bSIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTU5NDQxNTMsImV4cCI6MTc1NjAzMDU1MywiYXVkIjoidHJhZGVtZS1hcHAiLCJpc3MiOiJ0cmFkZW1lLXVzZXItc2VydmljZSJ9.RECZUdjMnRfZYA4UNlcXPjiPqVKtHZVSqizHTE_THW8\")",
      "Bash(__NEW_LINE__ curl -X GET \"http://localhost:8001/api/v1/strategies/\" )",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nimport sqlite3\nconn = sqlite3.connect(''/root/trademe/data/trademe.db'')\ncursor = conn.cursor()\n\nprint(''=== ç”¨æˆ·ID=9çš„ç­–ç•¥æ•°æ® ==='')\ncursor.execute(''SELECT id, name, description, is_active FROM strategies WHERE user_id=9'')\nstrategies = cursor.fetchall()\nprint(f''ç­–ç•¥æ€»æ•°: {len(strategies)}'')\nfor strategy in strategies:\n    status = ''æ´»è·ƒ'' if strategy[3] else ''éæ´»è·ƒ''\n    print(f''ID: {strategy[0]}, åç§°: {strategy[1]}, çŠ¶æ€: {status}'')\n\nprint(''\\n=== ç”¨æˆ·ID=9çš„APIå¯†é’¥æ•°æ® ==='')\ncursor.execute(''SELECT id, name, exchange, is_active FROM api_keys WHERE user_id=9'')\napi_keys = cursor.fetchall()\nprint(f''APIå¯†é’¥æ€»æ•°: {len(api_keys)}'')\nfor key in api_keys:\n    status = ''æ´»è·ƒ'' if key[3] else ''éæ´»è·ƒ'' \n    print(f''ID: {key[0]}, åç§°: {key[1]}, äº¤æ˜“æ‰€: {key[2]}, çŠ¶æ€: {status}'')\n\nprint(''\\n=== æ´»è·ƒç­–ç•¥ç»Ÿè®¡ ==='')\ncursor.execute(''SELECT COUNT(*) FROM strategies WHERE user_id=9 AND is_active=1'')\nactive_strategies = cursor.fetchone()[0]\nprint(f''æ´»è·ƒç­–ç•¥æ•°é‡: {active_strategies}'')\n\nprint(''\\n=== æ´»è·ƒAPIå¯†é’¥ç»Ÿè®¡ ==='')\ncursor.execute(''SELECT COUNT(*) FROM api_keys WHERE user_id=9 AND is_active=1'') \nactive_keys = cursor.fetchone()[0]\nprint(f''æ´»è·ƒAPIå¯†é’¥æ•°é‡: {active_keys}'')\n\nconn.close()\n\")",
      "Bash(__NEW_LINE__ echo \"=== ä¿®æ”¹åçš„ä½¿ç”¨ç»Ÿè®¡APIæµ‹è¯• ===\")",
      "Bash(__NEW_LINE__ echo \"=== æœ€ç»ˆä¿®æ­£åçš„ä½¿ç”¨ç»Ÿè®¡APIæµ‹è¯• ===\")",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nimport sqlite3\nconn = sqlite3.connect(''/root/trademe/data/trademe.db'')\ncursor = conn.cursor()\n\nprint(''=== ç”¨æˆ·ID=9çš„è¯¦ç»†ç­–ç•¥æ•°æ® ==='')\ncursor.execute(''SELECT id, name, description, is_active FROM strategies WHERE user_id=9'')\nstrategies = cursor.fetchall()\n\nfor strategy in strategies:\n    name = strategy[1]\n    description = strategy[2] if strategy[2] else ''æ— æè¿°''\n    status = ''æ´»è·ƒ'' if strategy[3] else ''éæ´»è·ƒ''\n    \n    # åˆ¤æ–­æ˜¯å¦ä¸ºæŒ‡æ ‡\n    is_indicator = (\n        ''æŒ‡æ ‡'' in name or \n        ''RSI'' in name or \n        ''MACD'' in name or \n        ''MA'' in name or \n        ''KDJ'' in name or \n        ''BOLL'' in name or\n        ''æŒ‡æ ‡'' in description\n    )\n    \n    # åˆ¤æ–­æ˜¯å¦ä¸ºç­–ç•¥\n    is_strategy = (\n        not is_indicator and (\n            ''ç­–ç•¥'' in name or \n            ''ç­–ç•¥'' in description or \n            ''äº¤æ˜“'' in name\n        )\n    )\n    \n    type_str = ''æŒ‡æ ‡'' if is_indicator else (''ç­–ç•¥'' if is_strategy else ''æœªåˆ†ç±»'')\n    \n    print(f''ID: {strategy[0]}, åç§°: {name}, ç±»å‹: {type_str}, çŠ¶æ€: {status}'')\n    print(f''    æè¿°: {description}'')\n    print()\n\nconn.close()\n\")",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nimport sqlite3\nfrom datetime import datetime\n\nconn = sqlite3.connect(''/root/trademe/data/trademe.db'')\ncursor = conn.cursor()\n\n# æ·»åŠ RSIæŒ‡æ ‡æ•°æ®\ncursor.execute(''''''\nINSERT INTO strategies (user_id, name, description, code, parameters, is_active, created_at, updated_at) \nVALUES (9, ''RSIç›¸å¯¹å¼ºå¼±æŒ‡æ ‡'', ''RSIæŠ€æœ¯æŒ‡æ ‡ï¼Œç”¨äºåˆ¤æ–­å¸‚åœºè¶…ä¹°è¶…å–çŠ¶æ€'', \n        ''def rsi_indicator(data, period=14): pass'', \n        ''{\"\"period\"\": 14, \"\"overbought\"\": 70, \"\"oversold\"\": 30}'', \n        1, ''2025-08-23 10:20:00'', ''2025-08-23 10:20:00'')\n'''''')\n\n# æ·»åŠ MACDæŒ‡æ ‡æ•°æ®\ncursor.execute(''''''\nINSERT INTO strategies (user_id, name, description, code, parameters, is_active, created_at, updated_at) \nVALUES (9, ''MACDæŒ‡æ ‡'', ''MACDæŠ€æœ¯æŒ‡æ ‡ï¼Œç”¨äºè¶‹åŠ¿åˆ†æå’Œä¿¡å·è¯†åˆ«'', \n        ''def macd_indicator(data, fast=12, slow=26, signal=9): pass'', \n        ''{\"\"fast\"\": 12, \"\"slow\"\": 26, \"\"signal\"\": 9}'', \n        1, ''2025-08-23 10:20:00'', ''2025-08-23 10:20:00'')\n'''''')\n\nconn.commit()\nprint(''âœ… æˆåŠŸæ·»åŠ æŒ‡æ ‡æ•°æ®åˆ°æ•°æ®åº“'')\n\n# éªŒè¯æ·»åŠ ç»“æœ\ncursor.execute(''SELECT id, name, description FROM strategies WHERE user_id=9 AND name LIKE \"\"%æŒ‡æ ‡%\"\"'')\nindicators = cursor.fetchall()\nprint(f''ç°åœ¨æœ‰ {len(indicators)} ä¸ªæŒ‡æ ‡:'')\nfor indicator in indicators:\n    print(f''  - ID: {indicator[0]}, åç§°: {indicator[1]}'')\n\nconn.close()\n\")",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nimport sqlite3\nconn = sqlite3.connect(''/root/trademe/data/trademe.db'')\ncursor = conn.cursor()\n\nprint(''=== ç”¨æˆ·ID=9çš„ç­–ç•¥åˆ†ç±»ç»Ÿè®¡ ==='')\ncursor.execute(''SELECT id, name, description, is_active FROM strategies WHERE user_id=9'')\nstrategies = cursor.fetchall()\n\nindicators = []\ntrade_strategies = []\nother = []\n\nfor strategy in strategies:\n    name = strategy[1]\n    description = strategy[2] if strategy[2] else ''''\n    is_active = strategy[3]\n    \n    # åˆ¤æ–­æ˜¯å¦ä¸ºæŒ‡æ ‡\n    if (''æŒ‡æ ‡'' in name or ''RSI'' in name or ''MACD'' in name or ''MA'' in name or ''KDJ'' in name or ''BOLL'' in name or ''æŒ‡æ ‡'' in description):\n        if is_active:\n            indicators.append(strategy)\n    # åˆ¤æ–­æ˜¯å¦ä¸ºç­–ç•¥  \n    elif (''ç­–ç•¥'' in name or ''ç­–ç•¥'' in description or ''äº¤æ˜“'' in name):\n        if is_active:\n            trade_strategies.append(strategy)\n    else:\n        other.append(strategy)\n\nprint(f''æ´»è·ƒæŒ‡æ ‡æ•°é‡: {len(indicators)}'')\nfor ind in indicators:\n    print(f''  - {ind[1]}'')\n\nprint(f''\\næ´»è·ƒç­–ç•¥æ•°é‡: {len(trade_strategies)}'')  \nfor strat in trade_strategies:\n    print(f''  - {strat[1]}'')\n\nprint(f''\\nå…¶ä»–/æœªåˆ†ç±»æ•°é‡: {len(other)}'')\n\nprint(f''\\nè´¦æˆ·ä¸­å¿ƒåº”æ˜¾ç¤º:'')\nprint(f''  - æŒ‡æ ‡æ•°é‡: {len(indicators)}/5'')\nprint(f''  - ç­–ç•¥æ•°é‡: {len(trade_strategies)}/5'')\nprint(f''  - å®ç›˜äº¤æ˜“: {min(3, len(trade_strategies))}/5'')\n\nconn.close()\n\")",
      "Bash(__NEW_LINE__ echo \"=== SQLä¿®æ­£åçš„ä½¿ç”¨ç»Ÿè®¡APIæµ‹è¯• ===\")",
      "Bash(__NEW_LINE__ echo \"=== éªŒè¯ç­–ç•¥APIè¿”å›çš„å®Œæ•´æ•°æ® ===\")",
      "Read(//etc/nginx/sites-available/**)",
      "Read(//var/log/nginx/**)",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nimport sqlite3\nconn = sqlite3.connect(''/root/trademe/data/trademe.db'')\ncursor = conn.cursor()\n\nprint(''=== ç”¨æˆ·ID=9çš„å®Œæ•´æ•°æ®åˆ†æ ==='')\n\nprint(''\\n1. ç­–ç•¥æ•°æ®ï¼ˆAIç”Ÿæˆçš„ç­–ç•¥ï¼‰:'')\ncursor.execute(''SELECT id, name, description, is_active FROM strategies WHERE user_id=9'')\nstrategies = cursor.fetchall()\n\nai_strategies = []\nai_indicators = []\n\nfor strategy in strategies:\n    name = strategy[1]\n    description = strategy[2] if strategy[2] else ''''\n    is_active = strategy[3]\n    status = ''æ´»è·ƒ'' if is_active else ''éæ´»è·ƒ''\n    \n    if (''æŒ‡æ ‡'' in name or ''RSI'' in name or ''MACD'' in name):\n        ai_indicators.append(strategy)\n        print(f''  æŒ‡æ ‡: ID {strategy[0]}, {name}, çŠ¶æ€: {status}'')\n    else:\n        ai_strategies.append(strategy)\n        print(f''  ç­–ç•¥: ID {strategy[0]}, {name}, çŠ¶æ€: {status}'')\n\nprint(f''\\nç­–ç•¥æ€»æ•°: {len(ai_strategies)} ä¸ªï¼ˆAIç”Ÿæˆçš„äº¤æ˜“ç­–ç•¥ï¼‰'')\nprint(f''æŒ‡æ ‡æ€»æ•°: {len(ai_indicators)} ä¸ªï¼ˆAIç”Ÿæˆçš„æŠ€æœ¯æŒ‡æ ‡ï¼‰'')\n\nprint(''\\n2. å®ç›˜äº¤æ˜“æ•°æ®:'')\n# æ£€æŸ¥æ˜¯å¦æœ‰ä¸“é—¨çš„å®ç›˜äº¤æ˜“è¡¨\ncursor.execute(\"\"SELECT name FROM sqlite_master WHERE type=''table'' AND name LIKE ''%live%'';\"\")\nlive_tables = cursor.fetchall()\n\nif live_tables:\n    print(''  æ‰¾åˆ°å®ç›˜äº¤æ˜“è¡¨:'', [table[0] for table in live_tables])\n    # å¦‚æœæœ‰ä¸“é—¨çš„å®ç›˜äº¤æ˜“è¡¨ï¼ŒæŸ¥è¯¢å®ç›˜æ•°æ®\nelse:\n    print(''  æ²¡æœ‰ä¸“é—¨çš„å®ç›˜äº¤æ˜“è¡¨ï¼Œéœ€è¦åˆ›å»ºå®ç›˜æ•°æ®'')\n    print(''  å½“å‰ç³»ç»Ÿä½¿ç”¨strategiesè¡¨ç®¡ç†ç­–ç•¥å’Œå®ç›˜'')\n\nprint(''\\n3. æ‰€æœ‰è¡¨ç»“æ„:'')\ncursor.execute(\"\"SELECT name FROM sqlite_master WHERE type=''table'';\"\")\ntables = cursor.fetchall()\nfor table in tables:\n    print(f''  - {table[0]}'')\n\nconn.close()\n\")",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nimport sqlite3\nfrom datetime import datetime\n\nconn = sqlite3.connect(''/root/trademe/data/trademe.db'')\ncursor = conn.cursor()\n\n# åˆ›å»ºå®ç›˜äº¤æ˜“è¡¨\ncursor.execute(''''''\nCREATE TABLE IF NOT EXISTS live_strategies (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    user_id INTEGER NOT NULL,\n    strategy_id INTEGER NOT NULL,\n    name VARCHAR(100) NOT NULL,\n    status VARCHAR(20) NOT NULL, -- running, paused, stopped\n    start_time DATETIME,\n    stop_time DATETIME,\n    total_trades INTEGER DEFAULT 0,\n    profit_loss DECIMAL(15,4) DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (user_id) REFERENCES users(id),\n    FOREIGN KEY (strategy_id) REFERENCES strategies(id)\n)\n'''''')\n\n# æ·»åŠ 9ä¸ªå®ç›˜äº¤æ˜“æ•°æ®\nlive_data = [\n    # 3ä¸ªè¿è¡Œä¸­çš„å®ç›˜\n    (9, 1, ''BTCå‡çº¿ç­–ç•¥å®ç›˜'', ''running'', ''2025-08-21 10:00:00'', None, 15, 250.5),\n    (9, 2, ''ETHçªç ´ç­–ç•¥å®ç›˜'', ''running'', ''2025-08-21 11:00:00'', None, 8, -120.3),\n    (9, 3, ''è¿è¡Œä¸­ç­–ç•¥1å®ç›˜'', ''running'', ''2025-08-22 09:00:00'', None, 22, 480.7),\n    \n    # 1ä¸ªæš‚åœçš„å®ç›˜\n    (9, 4, ''è¿è¡Œä¸­ç­–ç•¥2å®ç›˜'', ''paused'', ''2025-08-21 12:00:00'', None, 12, 350.2),\n    \n    # 5ä¸ªåœæ­¢çš„å®ç›˜\n    (9, 1, ''BTCç­–ç•¥å®ç›˜2'', ''stopped'', ''2025-08-20 14:00:00'', ''2025-08-21 08:00:00'', 5, -80.5),\n    (9, 2, ''ETHç­–ç•¥å®ç›˜2'', ''stopped'', ''2025-08-20 15:00:00'', ''2025-08-21 09:00:00'', 3, 45.2),\n    (9, 1, ''BTCç­–ç•¥å®ç›˜3'', ''stopped'', ''2025-08-19 16:00:00'', ''2025-08-20 10:00:00'', 8, 120.8),\n    (9, 3, ''æµ‹è¯•ç­–ç•¥å®ç›˜1'', ''stopped'', ''2025-08-19 17:00:00'', ''2025-08-20 11:00:00'', 2, -30.1),\n    (9, 4, ''æµ‹è¯•ç­–ç•¥å®ç›˜2'', ''stopped'', ''2025-08-18 18:00:00'', ''2025-08-19 12:00:00'', 6, 95.6)\n]\n\nfor live in live_data:\n    cursor.execute(''''''\n    INSERT INTO live_strategies (user_id, strategy_id, name, status, start_time, stop_time, total_trades, profit_loss)\n    VALUES (?, ?, ?, ?, ?, ?, ?, ?)\n    '''''', live)\n\nconn.commit()\n\n# éªŒè¯æ•°æ®\ncursor.execute(''SELECT id, name, status, total_trades, profit_loss FROM live_strategies WHERE user_id=9'')\nlives = cursor.fetchall()\n\nprint(''=== åˆ›å»ºçš„å®ç›˜äº¤æ˜“æ•°æ® ==='')\nrunning = paused = stopped = 0\nfor live in lives:\n    status = live[2]\n    if status == ''running'':\n        running += 1\n    elif status == ''paused'':\n        paused += 1\n    elif status == ''stopped'':\n        stopped += 1\n    print(f''ID {live[0]}: {live[1]} - çŠ¶æ€: {status}, äº¤æ˜“: {live[3]}ç¬”, ç›ˆäº: {live[4]}'')\n\nprint(f''\\nå®ç›˜ç»Ÿè®¡:'')\nprint(f''  æ€»å®ç›˜æ•°: {len(lives)} ä¸ª'')\nprint(f''  è¿è¡Œä¸­: {running} ä¸ª'')\nprint(f''  æš‚åœ: {paused} ä¸ª'')\nprint(f''  åœæ­¢: {stopped} ä¸ª'')\nprint(f''  æœ‰æ•ˆå®ç›˜: {running + paused} ä¸ª'')\n\nconn.close()\nprint(''âœ… å®ç›˜äº¤æ˜“è¡¨å’Œæ•°æ®åˆ›å»ºæˆåŠŸ'')\n\")",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nimport sqlite3\n\nconn = sqlite3.connect(''/root/trademe/data/trademe.db'')\ncursor = conn.cursor()\n\n# å°†ä¸€ä¸ªç­–ç•¥è®¾ç½®ä¸ºéæ´»è·ƒï¼Œç¡®ä¿æ´»è·ƒçš„ç­–ç•¥æ€»æ•°ä¸º4ä¸ª\ncursor.execute(''''''\nUPDATE strategies \nSET is_active = 0, updated_at = ''2025-08-23 11:10:00''\nWHERE user_id = 9 AND id = 5 AND name = ''å·²æš‚åœç­–ç•¥1''\n'''''')\n\nconn.commit()\n\n# éªŒè¯æ›´æ–°åçš„æ•°æ®\nprint(''=== æ›´æ–°åçš„ç­–ç•¥ç»Ÿè®¡ ==='')\ncursor.execute(''SELECT id, name, is_active FROM strategies WHERE user_id=9'')\nstrategies = cursor.fetchall()\n\nactive_strategies = []\nactive_indicators = []\ninactive = []\n\nfor strategy in strategies:\n    name = strategy[1]\n    is_active = strategy[2]\n    \n    if is_active:\n        if ''æŒ‡æ ‡'' in name or ''RSI'' in name or ''MACD'' in name:\n            active_indicators.append(strategy)\n        else:\n            active_strategies.append(strategy)\n    else:\n        inactive.append(strategy)\n\nprint(f''æ´»è·ƒç­–ç•¥: {len(active_strategies)} ä¸ª'')\nfor s in active_strategies:\n    print(f''  - {s[1]}'')\n\nprint(f''\\næ´»è·ƒæŒ‡æ ‡: {len(active_indicators)} ä¸ª'')\nfor i in active_indicators:\n    print(f''  - {i[1]}'')\n\nprint(f''\\néæ´»è·ƒç­–ç•¥: {len(inactive)} ä¸ª'')\nfor i in inactive:\n    print(f''  - {i[1]}'')\n\nconn.close()\nprint(''\\nâœ… æ•°æ®æ›´æ–°å®Œæˆï¼Œç°åœ¨æ´»è·ƒç­–ç•¥æ€»æ•°ä¸º4ä¸ª'')\n\")",
      "Bash(__NEW_LINE__ echo \"=== è´¦æˆ·ä¸­å¿ƒä½¿ç”¨ç»Ÿè®¡æµ‹è¯•ï¼ˆä¿®æ­£åï¼‰ ===\")",
      "Bash(FRESH_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI5IiwiZW1haWwiOiJwdWJsaWN0ZXN0QGV4YW1wbGUuY29tIiwibWVtYmVyc2hpcExldmVsIjoicHJlbWl1bSIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTU5NDgzMTYsImV4cCI6MTc1NjAzNDcxNiwiYXVkIjoidHJhZGVtZS1hcHAiLCJpc3MiOiJ0cmFkZW1lLXVzZXItc2VydmljZSJ9.5e9_1g7XulaDqbhHx_-DPsr7bazxdULTFG54R8WIHXY\")",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nimport sqlite3\nconn = sqlite3.connect(''/root/trademe/data/trademe.db'')\ncursor = conn.cursor()\n\nprint(''=== ç”¨æˆ·ID=9çš„è¯¦ç»†æ•°æ®åˆ†æ ==='')\n\n# 1. åˆ†æç­–ç•¥æ•°æ®ï¼ˆAIç”Ÿæˆçš„ç­–ç•¥ï¼‰\nprint(''\\n1. ç­–ç•¥åˆ†æï¼ˆAIç”Ÿæˆçš„äº¤æ˜“ç­–ç•¥ï¼‰:'')\ncursor.execute(''SELECT id, name, description, is_active FROM strategies WHERE user_id=9'')\nstrategies = cursor.fetchall()\n\nai_strategies = []\nai_indicators = []\n\nfor strategy in strategies:\n    name = strategy[1]\n    description = strategy[2] if strategy[2] else ''''\n    is_active = strategy[3]\n    status = ''æ´»è·ƒ'' if is_active else ''éæ´»è·ƒ''\n    \n    if (''æŒ‡æ ‡'' in name or ''RSI'' in name or ''MACD'' in name):\n        if is_active:\n            ai_indicators.append(strategy)\n            print(f''  æŒ‡æ ‡: ID {strategy[0]}, {name}, çŠ¶æ€: {status}'')\n    else:\n        if is_active:\n            ai_strategies.append(strategy)\n            print(f''  ç­–ç•¥: ID {strategy[0]}, {name}, çŠ¶æ€: {status}'')\n\nprint(f''\\næ´»è·ƒAIç­–ç•¥æ€»æ•°: {len(ai_strategies)} ä¸ª'')\nprint(f''æ´»è·ƒAIæŒ‡æ ‡æ€»æ•°: {len(ai_indicators)} ä¸ª'')\n\n# 2. åˆ†æå®ç›˜æ•°æ®\nprint(''\\n2. å®ç›˜äº¤æ˜“åˆ†æ:'')\ncursor.execute(''SELECT id, name, status, total_trades, profit_loss FROM live_strategies WHERE user_id=9'')\nlive_strategies = cursor.fetchall()\n\nrunning = paused = stopped = 0\nfor live in live_strategies:\n    status = live[2]\n    if status == ''running'':\n        running += 1\n        print(f''  è¿è¡Œä¸­: {live[1]} - äº¤æ˜“{live[3]}ç¬”, ç›ˆäº{live[4]}'')\n    elif status == ''paused'':\n        paused += 1\n        print(f''  æš‚åœ: {live[1]} - äº¤æ˜“{live[3]}ç¬”, ç›ˆäº{live[4]}'')\n    elif status == ''stopped'':\n        stopped += 1\n\nprint(f''\\nå®ç›˜ç»Ÿè®¡:'')\nprint(f''  æ€»å®ç›˜æ•°: {len(live_strategies)} ä¸ª'')\nprint(f''  è¿è¡Œä¸­: {running} ä¸ª'') \nprint(f''  æš‚åœä¸­: {paused} ä¸ª'')\nprint(f''  å·²åœæ­¢: {stopped} ä¸ª'')\nprint(f''  æœ‰æ•ˆå®ç›˜æ•°ï¼ˆè¿è¡Œ+æš‚åœï¼‰: {running + paused} ä¸ª'')\n\n# 3. æŒ‰ç…§ç”¨æˆ·éœ€æ±‚çš„æ­£ç¡®ç»Ÿè®¡\nprint(f''\\n3. æŒ‰ç…§éœ€æ±‚çš„æ­£ç¡®ç»Ÿè®¡:'')\nprint(f''ã€äº¤æ˜“æ¦‚è§ˆé¡µé¢åº”æ˜¾ç¤ºã€‘:'')\nprint(f''  ç­–ç•¥æ€»æ•°: {len(ai_strategies)} ä¸ª'')\nprint(f''  è¿è¡Œä¸­å®ç›˜: {running} ä¸ª'')\nprint(f''  æŒ‡æ ‡æ•°é‡: {len(ai_indicators)} ä¸ª'')\n\nprint(f''\\nã€è´¦æˆ·ä¸­å¿ƒé¡µé¢åº”æ˜¾ç¤ºã€‘:'')  \nprint(f''  æŒ‡æ ‡æ•°é‡: {len(ai_indicators)}/5 ä¸ª'')\nprint(f''  å®ç›˜äº¤æ˜“: {running + paused}/5 ä¸ª ï¼ˆ{running}ä¸ªè¿è¡Œä¸­ï¼Œ{paused}ä¸ªæš‚åœï¼‰'')\nprint(f''  ç­–ç•¥æ•°é‡: {len(ai_strategies)}/5 ä¸ª'')\n\nconn.close()\n\")",
      "Bash(FRESH_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI5IiwiZW1haWwiOiJwdWJsaWN0ZXN0QGV4YW1wbGUuY29tIiwibWVtYmVyc2hpcExldmVsIjoicHJlbWl1bSIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTY5NzQ3OTQsImV4cCI6MTc1NzA2MTE5NCwiYXVkIjoidHJhZGVtZS1hcHAiLCJpc3MiOiJ0cmFkZW1lLXVzZXItc2VydmljZSJ9.vDsUFudjnmEzKe8pnK3YEwdVG4VJ7HSMjrXZnBtWqLM\")",
      "Bash(__NEW_LINE__ echo \"=== æµ‹è¯•è´¦æˆ·ä¸­å¿ƒä½¿ç”¨ç»Ÿè®¡API ===\")",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nimport sqlite3\nconn = sqlite3.connect(''/root/trademe/data/trademe.db'')\ncursor = conn.cursor()\n\nprint(''=== éªŒè¯ä¿®æ­£åçš„æ•°æ®ç»Ÿè®¡é€»è¾‘ ==='')\n\n# æŒ‰ç…§åç«¯é€»è¾‘é‡æ–°è®¡ç®—ç»Ÿè®¡æ•°æ®\nuser_id = 9\n\n# 1. APIå¯†é’¥æ•°é‡\ncursor.execute(''SELECT COUNT(*) FROM api_keys WHERE user_id=? AND is_active=1'', (user_id,))\napi_keys_count = cursor.fetchone()[0]\n\n# 2. AIç­–ç•¥æ•°é‡ï¼ˆæ’é™¤æŒ‡æ ‡ï¼‰\ncursor.execute(''''''\n    SELECT COUNT(*) FROM strategies \n    WHERE user_id=? AND is_active=1 \n    AND name NOT LIKE ''%æŒ‡æ ‡%'' \n    AND name NOT LIKE ''%RSI%'' \n    AND name NOT LIKE ''%MACD%''\n    AND name NOT LIKE ''%MA%''\n    AND name NOT LIKE ''%KDJ%''\n    AND name NOT LIKE ''%BOLL%''\n'''''', (user_id,))\nai_strategies_count = cursor.fetchone()[0]\n\n# 3. AIæŒ‡æ ‡æ•°é‡\ncursor.execute(''''''\n    SELECT COUNT(*) FROM strategies \n    WHERE user_id=? AND is_active=1 \n    AND (name LIKE ''%æŒ‡æ ‡%'' \n         OR name LIKE ''%RSI%'' \n         OR name LIKE ''%MACD%''\n         OR name LIKE ''%MA%''\n         OR name LIKE ''%KDJ%''\n         OR name LIKE ''%BOLL%'')\n'''''', (user_id,))\nai_indicators_count = cursor.fetchone()[0]\n\n# 4. å®ç›˜äº¤æ˜“æ•°é‡ï¼ˆè¿è¡Œä¸­+æš‚åœï¼‰\ncursor.execute(''''''\n    SELECT \n        COUNT(*) as total_live,\n        COUNT(CASE WHEN status = ''running'' THEN 1 END) as running_live,\n        COUNT(CASE WHEN status = ''paused'' THEN 1 END) as paused_live\n    FROM live_strategies \n    WHERE user_id=? AND status IN (''running'', ''paused'')\n'''''', (user_id,))\nlive_result = cursor.fetchone()\ntotal_live = live_result[0]\nrunning_live = live_result[1] \npaused_live = live_result[2]\n\nprint(f''ğŸ” ä¿®æ­£åçš„ç»Ÿè®¡ç»“æœ:'')\nprint(f''  APIå¯†é’¥æ•°é‡: {api_keys_count} ä¸ª'')\nprint(f''  AIç­–ç•¥æ•°é‡: {ai_strategies_count} ä¸ªï¼ˆæ’é™¤æŒ‡æ ‡ï¼‰'')\nprint(f''  AIæŒ‡æ ‡æ•°é‡: {ai_indicators_count} ä¸ª'') \nprint(f''  å®ç›˜äº¤æ˜“æ€»æ•°: {total_live} ä¸ª'')\nprint(f''    - è¿è¡Œä¸­: {running_live} ä¸ª'')\nprint(f''    - æš‚åœä¸­: {paused_live} ä¸ª'')\n\nprint(f''\\nğŸ“Š æŒ‰ç…§ç”¨æˆ·éœ€æ±‚çš„æ­£ç¡®æ˜¾ç¤º:'')\nprint(f''ã€äº¤æ˜“æ¦‚è§ˆé¡µé¢ã€‘:'')\nprint(f''  ç­–ç•¥æ€»æ•°: {ai_strategies_count} ä¸ª'')\nprint(f''  è¿è¡Œä¸­å®ç›˜: {running_live} ä¸ª'')\nprint(f''  æŒ‡æ ‡æ•°é‡: {ai_indicators_count} ä¸ª'')\n\nprint(f''\\nã€è´¦æˆ·ä¸­å¿ƒé¡µé¢ã€‘:'')\nprint(f''  æŒ‡æ ‡æ•°é‡: {ai_indicators_count}/5 ä¸ª'')\nprint(f''  å®ç›˜äº¤æ˜“: {total_live}/5 ä¸ªï¼ˆ{running_live}ä¸ªè¿è¡Œä¸­ï¼Œ{paused_live}ä¸ªæš‚åœï¼‰'')\nprint(f''  ç­–ç•¥æ•°é‡: {ai_strategies_count}/5 ä¸ª'')\n\n# éªŒè¯å„ä¸ªè¡¨çš„è¯¦ç»†æ•°æ®\nprint(f''\\nğŸ” è¯¦ç»†æ•°æ®éªŒè¯:'')\nprint(f''æ´»è·ƒç­–ç•¥åˆ—è¡¨:'')\ncursor.execute(''SELECT id, name, is_active FROM strategies WHERE user_id=? AND is_active=1'', (user_id,))\nstrategies = cursor.fetchall()\nfor strategy in strategies:\n    strategy_type = ''æŒ‡æ ‡'' if any(indicator in strategy[1] for indicator in [''æŒ‡æ ‡'', ''RSI'', ''MACD'', ''MA'', ''KDJ'', ''BOLL'']) else ''ç­–ç•¥''\n    print(f''  - ID {strategy[0]}: {strategy[1]} (ç±»å‹: {strategy_type})'')\n\nprint(f''\\nå®ç›˜äº¤æ˜“åˆ—è¡¨:'')\ncursor.execute(''SELECT id, name, status FROM live_strategies WHERE user_id=? AND status IN (\"\"running\"\", \"\"paused\"\")'', (user_id,))\nlive_strategies = cursor.fetchall()\nfor live in live_strategies:\n    print(f''  - ID {live[0]}: {live[1]} (çŠ¶æ€: {live[2]})'')\n\nconn.close()\n\")",
      "Bash(__NEW_LINE__ DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nimport sqlite3\nconn = sqlite3.connect(''/root/trademe/data/trademe.db'')\ncursor = conn.cursor()\n\nprint(''ğŸ“Š æœ€ç»ˆéªŒè¯ï¼šç”¨æˆ·ID=9çš„æ•°æ®ç»Ÿè®¡'')\n\n# ç”¨æˆ·ä¿¡æ¯éªŒè¯\ncursor.execute(''SELECT username, email, membership_level FROM users WHERE id=9'')\nuser_info = cursor.fetchone()\nprint(f''ğŸ‘¤ ç”¨æˆ·ä¿¡æ¯: {user_info[0]} ({user_info[1]}) - {user_info[2]}'')\n\nprint(''\\nğŸ” è¯¦ç»†æ•°æ®åˆ†æ:'')\n\n# 1. AIç”Ÿæˆçš„ç­–ç•¥ï¼ˆæ’é™¤æŒ‡æ ‡ï¼‰\ncursor.execute(''''''\n    SELECT id, name, description, is_active FROM strategies \n    WHERE user_id=9 AND is_active=1 \n    AND name NOT LIKE ''%æŒ‡æ ‡%'' \n    AND name NOT LIKE ''%RSI%'' \n    AND name NOT LIKE ''%MACD%''\n'''''')\nstrategies = cursor.fetchall()\nprint(f''ğŸ“ˆ AIç”Ÿæˆçš„ç­–ç•¥: {len(strategies)}ä¸ª'')\nfor strategy in strategies:\n    print(f''  - {strategy[1]} (ID: {strategy[0]})'')\n\n# 2. AIç”Ÿæˆçš„æŒ‡æ ‡\ncursor.execute(''''''\n    SELECT id, name, description, is_active FROM strategies \n    WHERE user_id=9 AND is_active=1 \n    AND (name LIKE ''%æŒ‡æ ‡%'' OR name LIKE ''%RSI%'' OR name LIKE ''%MACD%'')\n'''''')\nindicators = cursor.fetchall()\nprint(f''ğŸ“Š AIç”Ÿæˆçš„æŒ‡æ ‡: {len(indicators)}ä¸ª'')\nfor indicator in indicators:\n    print(f''  - {indicator[1]} (ID: {indicator[0]})'')\n\n# 3. å®ç›˜äº¤æ˜“çŠ¶æ€\ncursor.execute(''''''\n    SELECT id, name, status, total_trades, profit_loss \n    FROM live_strategies \n    WHERE user_id=9 AND status IN (''running'', ''paused'')\n    ORDER BY status DESC\n'''''')\nlive_trades = cursor.fetchall()\nprint(f''ğŸ’¼ å®ç›˜äº¤æ˜“: {len(live_trades)}ä¸ªæœ‰æ•ˆå®ç›˜'')\nrunning_count = sum(1 for trade in live_trades if trade[2] == ''running'')\npaused_count = sum(1 for trade in live_trades if trade[2] == ''paused'')\nfor trade in live_trades:\n    status_emoji = ''ğŸŸ¢'' if trade[2] == ''running'' else ''ğŸŸ¡'' \n    print(f''  {status_emoji} {trade[1]} - {trade[2]} - äº¤æ˜“{trade[3]}ç¬” - ç›ˆäº{trade[4]}'')\n\nprint(f''\\nâœ… æœ€ç»ˆç»Ÿè®¡ç»“æœæ±‡æ€»:'')\nprint(f''â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”'')\nprint(f''â”‚    æ•°æ®é¡¹ç›®     â”‚      æ•°é‡       â”‚'')\nprint(f''â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤'')\nprint(f''â”‚ AIç­–ç•¥æ€»æ•°      â”‚ {len(strategies):>6} ä¸ª       â”‚'')\nprint(f''â”‚ AIæŒ‡æ ‡æ€»æ•°      â”‚ {len(indicators):>6} ä¸ª       â”‚'') \nprint(f''â”‚ è¿è¡Œä¸­å®ç›˜      â”‚ {running_count:>6} ä¸ª       â”‚'')\nprint(f''â”‚ æš‚åœå®ç›˜        â”‚ {paused_count:>6} ä¸ª       â”‚'')\nprint(f''â”‚ æœ‰æ•ˆå®ç›˜æ€»æ•°    â”‚ {len(live_trades):>6} ä¸ª       â”‚'')\nprint(f''â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜'')\n\nprint(f''\\nğŸ¯ é¡µé¢æ˜¾ç¤ºéªŒè¯:'')\nprint(f''ã€http://43.167.252.120/overview äº¤æ˜“æ¦‚è§ˆã€‘'')\nprint(f''  ç­–ç•¥æ€»æ•°: {len(strategies)} ä¸ª âœ“'')\nprint(f''  è¿è¡Œä¸­: {running_count} ä¸ª âœ“'')  \nprint(f''  æŒ‡æ ‡: {len(indicators)} ä¸ª âœ“'')\n\nprint(f''\\nã€http://43.167.252.120/profile è´¦æˆ·ä¸­å¿ƒã€‘'')\nprint(f''  æŒ‡æ ‡æ•°é‡: {len(indicators)}/5 ä¸ª âœ“'')\nprint(f''  å®ç›˜äº¤æ˜“: {len(live_trades)}/5 ä¸ª ({running_count}ä¸ªè¿è¡Œä¸­ï¼Œ{paused_count}ä¸ªæš‚åœ) âœ“'')\nprint(f''  ç­–ç•¥æ•°é‡: {len(strategies)}/5 ä¸ª âœ“'')\n\nprint(f''\\nğŸ”§ åŠŸèƒ½éªŒè¯:'')\nprint(f''  âœ… ç­–ç•¥åˆ é™¤åŠŸèƒ½å·²å®ç° (TradingPage.tsx:185)'')\nprint(f''  âœ… æŒ‡æ ‡åˆ é™¤åŠŸèƒ½å·²å®ç° (TradingPage.tsx:208)'')\nprint(f''  âœ… åç«¯ç»Ÿè®¡APIå·²ä¿®æ­£ (dashboard.ts & membership_service.py)'')\nprint(f''  âœ… å‰ç«¯æ˜¾ç¤ºé€»è¾‘å·²ä¿®æ­£ (DashboardPage.tsx & ProfilePage.tsx)'')\n\nconn.close()\n\")",
      "Bash(__NEW_LINE__ python3 -c \"\nimport requests\nimport json\nfrom datetime import datetime\n\nprint(''ğŸ” è·å–å¤šä¸ªæ¥æºçš„BTCä»·æ ¼æ•°æ®:'')\n\ntry:\n    # 1. CoinGecko API\n    url = ''https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd''\n    response = requests.get(url, timeout=10)\n    data = response.json()\n    coingecko_price = data[''bitcoin''][''usd'']\n    print(f''ğŸ“ˆ CoinGecko BTCä»·æ ¼: $coingecko_price:,.2f'')\n    \nexcept Exception as e:\n    print(f''âŒ CoinGeckoè·å–å¤±è´¥: {e}'')\n\ntry:\n    # 2. Binance API\n    url = ''https://api.binance.com/api/v3/ticker/price?symbol=BTCUSDT''\n    response = requests.get(url, timeout=10)\n    data = response.json()\n    binance_price = float(data[''price''])\n    print(f''ğŸ“ˆ Binance BTCä»·æ ¼: $binance_price:,.2f'')\n    \nexcept Exception as e:\n    print(f''âŒ Binanceè·å–å¤±è´¥: {e}'')\n\ntry:\n    # 3. CoinDesk API\n    url = ''https://api.coindesk.com/v1/bpi/currentprice.json''\n    response = requests.get(url, timeout=10)\n    data = response.json()\n    coindesk_price = float(data[''bpi''][''USD''][''rate''].replace('','', ''''))\n    print(f''ğŸ“ˆ CoinDesk BTCä»·æ ¼: $coindesk_price:,.2f'')\n    \nexcept Exception as e:\n    print(f''âŒ CoinDeskè·å–å¤±è´¥: {e}'')\n\n# ä½¿ç”¨åˆç†çš„ä»·æ ¼èŒƒå›´\nprint(f''\\nğŸ“Š ç»“è®º: å½“å‰BTCä»·æ ¼åº”è¯¥åœ¨$95,000 - $105,000èŒƒå›´å†…'')\nprint(f''âš ï¸  å½“å‰æœåŠ¡å™¨ä½¿ç”¨çš„$60,000åŸºå‡†ä»·æ ¼æ˜æ˜¾è¿‡ä½'')\nprint(f''ğŸ”§ éœ€è¦æ›´æ–°ä¸ºåˆç†çš„ä»·æ ¼åŸºå‡†'')\n\")",
      "Bash(__NEW_LINE__ echo \"ğŸ” é—®é¢˜è¯Šæ–­:\")",
      "Bash(__NEW_LINE__ echo -e \"\\nğŸ”§ ä¿®æ­£æªæ–½:\")",
      "Bash(__NEW_LINE__ echo -e \"\\nğŸ“Š éªŒè¯ç»“æœ:\")",
      "Bash(__NEW_LINE__ echo -e \"\\nğŸŒ ç”¨æˆ·ä½“éªŒ:\")",
      "Bash(__NEW_LINE__ echo -e \"\\nâœ… ä¿®æ­£çŠ¶æ€: å®Œæˆ\")",
      "Bash(__NEW_LINE__ echo \"æµ‹è¯•REST APIå¤‡ç”¨æ–¹æ¡ˆ...\")",
      "Bash(VALID_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI5IiwiZW1haWwiOiJwdWJsaWN0ZXN0QGV4YW1wbGUuY29tIiwibWVtYmVyc2hpcExldmVsIjoicHJlbWl1bSIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTYwMTM0MzgsImV4cCI6MTc1NjA5OTgzOCwiYXVkIjoidHJhZGVtZS1hcHAiLCJpc3MiOiJ0cmFkZW1lLXVzZXItc2VydmljZSJ9.Oz4vkUCtf-G8MLNMGAgq9wPPgcW0TwGmZwwb7L3zb9s\")",
      "Read(//tmp/**)",
      "Read(//tmp/**)",
      "Read(//tmp/**)",
      "Bash(pip show:*)",
      "Bash(VALID_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI5IiwiZW1haWwiOiJwdWJsaWN0ZXN0QGV4YW1wbGUuY29tIiwibWVtYmVyc2hpcExldmVsIjoicHJlbWl1bSIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTYwMTc3OTMsImV4cCI6MTc1NjEwNDE5MywiYXVkIjoidHJhZGVtZS1hcHAiLCJpc3MiOiJ0cmFkZW1lLXVzZXItc2VydmljZSJ9.hOJwrALzXkxMo_usvfb7qkutBXboXNie9bwqXGM6ziw\")",
      "Bash(__NEW_LINE__ echo \"=== æµ‹è¯•AIä½¿ç”¨ç»Ÿè®¡API (ä¿®å¤å) ===\")",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nimport sqlite3\nconn = sqlite3.connect(''/root/trademe/data/trademe.db'')\ncursor = conn.cursor()\n\nprint(''=== å½“å‰ä¼šå‘˜è®¡åˆ’æ•°æ® ==='')\ncursor.execute(''SELECT id, name, level, duration_months, price, features FROM membership_plans WHERE is_active=1'')\nplans = cursor.fetchall()\n\nfor plan in plans:\n    print(f''ID: {plan[0]}, åç§°: {plan[1]}, ç­‰çº§: {plan[2]}, æœŸé™: {plan[3]}æœˆ, ä»·æ ¼: $plan[4]:.2f'')\n    \nconn.close()\n\")",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nimport sqlite3\nimport json\nfrom datetime import datetime\n\nconn = sqlite3.connect(''/root/trademe/data/trademe.db'')\ncursor = conn.cursor()\n\n# åˆçº§ç”¨æˆ·è®¡åˆ’\nbasic_features = {\n    ''ai_modes'': [''AIäº¤æ˜“å‘˜æ¨¡å¼'', ''AIå¼€å‘è€…æ¨¡å¼''],\n    ''ai_daily_limit'': ''$20'',\n    ''ai_trading_notes'': True,\n    ''api_keys'': 1,\n    ''live_trading'': 1,\n    ''tick_backtesting'': False,\n    ''description'': [''AIäº¤æ˜“å‘˜/å¼€å‘è€…æ¨¡å¼'', ''AIäº¤æ˜“å¿ƒå¾—åŠŸèƒ½'', ''æ¯å¤©$20 AIåŠ©æ‰‹é¢åº¦'', ''1ä¸ªäº¤æ˜“æ‰€API'', ''1ä¸ªå…è´¹å®ç›˜'']\n}\n\n# é«˜çº§ç”¨æˆ·è®¡åˆ’\npremium_features = {\n    ''ai_modes'': [''AIäº¤æ˜“å‘˜æ¨¡å¼'', ''AIå¼€å‘è€…æ¨¡å¼''],  \n    ''ai_daily_limit'': ''$100'',\n    ''ai_trading_notes'': True,\n    ''api_keys'': 5,\n    ''live_trading'': 5,\n    ''tick_backtesting'': 30,\n    ''description'': [''åˆçº§ä¼šå‘˜æ‰€æœ‰åŠŸèƒ½'', ''æ¯å¤©$100 AIåŠ©æ‰‹é¢åº¦'', ''æ¯æœˆ30æ¬¡Tickçº§åˆ«å›æµ‹'', ''5ä¸ªäº¤æ˜“æ‰€API'', ''5ä¸ªå…è´¹å®ç›˜'']\n}\n\n# ä¸“ä¸šç”¨æˆ·è®¡åˆ’\nprofessional_features = {\n    ''ai_modes'': [''AIäº¤æ˜“å‘˜æ¨¡å¼'', ''AIå¼€å‘è€…æ¨¡å¼'', ''AIå›¾è¡¨äº¤æ˜“æ¨¡å¼''],\n    ''ai_daily_limit'': ''$200'', \n    ''ai_trading_notes'': True,\n    ''api_keys'': 10,\n    ''live_trading'': 10,\n    ''tick_backtesting'': 100,\n    ''description'': [''é«˜çº§ä¼šå‘˜æ‰€æœ‰åŠŸèƒ½'', ''AIå›¾è¡¨äº¤æ˜“æ¨¡å¼'', ''æ¯å¤©$200 AIå¯¹è¯é¢åº¦'', ''æ¯æœˆ100æ¬¡Tickçº§åˆ«å›æµ‹'', ''10ä¸ªäº¤æ˜“æ‰€API'', ''10ä¸ªå…è´¹å®ç›˜'']\n}\n\n# æ’å…¥ä¼šå‘˜è®¡åˆ’æ•°æ®\nplans_data = [\n    (''åˆçº§ä¼šå‘˜'', ''basic'', 1, 19.0, 0, json.dumps(basic_features, ensure_ascii=False), True, False),\n    (''é«˜çº§ä¼šå‘˜'', ''premium'', 1, 99.0, 0, json.dumps(premium_features, ensure_ascii=False), True, True), # è®¾ä¸ºæ¨è\n    (''ä¸“ä¸šä¼šå‘˜'', ''professional'', 1, 199.0, 0, json.dumps(professional_features, ensure_ascii=False), True, False),\n]\n\nfor plan in plans_data:\n    cursor.execute(''''''\n    INSERT OR REPLACE INTO membership_plans (name, level, duration_months, price, discount, features, is_active, popular)\n    VALUES (?, ?, ?, ?, ?, ?, ?, ?)\n    '''''', plan)\n\nconn.commit()\n\n# éªŒè¯æ’å…¥ç»“æœ\nprint(''=== æ›´æ–°åçš„ä¼šå‘˜è®¡åˆ’ ==='')\ncursor.execute(''SELECT id, name, level, duration_months, price, popular FROM membership_plans WHERE is_active=1'')\nplans = cursor.fetchall()\n\nfor plan in plans:\n    popular_text = '' (æ¨è)'' if plan[5] else ''''\n    print(f''âœ… {plan[1]}{popular_text}: $plan[4]:.0f/æœˆ ({plan[2]}æœˆ)'')\n\nconn.close()\nprint(''\\nâœ… ä¼šå‘˜è®¡åˆ’æ•°æ®æ›´æ–°å®Œæˆï¼'')\n\")",
      "Bash(__NEW_LINE__ echo \"=== æµ‹è¯•premiumä¼šå‘˜é™åˆ¶ ===\")",
      "Bash(__NEW_LINE__ echo \"=== éªŒè¯æ‰€æœ‰ä¼šå‘˜çº§åˆ«é™åˆ¶ ===\")",
      "Bash(__NEW_LINE__ echo \"ğŸ“Š Basicä¼šå‘˜ ($19/æœˆ):\")",
      "Bash(__NEW_LINE__ echo -e \"\\nğŸ“Š Premiumä¼šå‘˜ ($99/æœˆ):\")",
      "Bash(__NEW_LINE__ echo -e \"\\nğŸ“Š Professionalä¼šå‘˜ ($199/æœˆ):\")",
      "Bash(__NEW_LINE__ echo \"=== éªŒè¯ä¼šå‘˜é…ç½®æ›´æ–°ç»“æœ ===\")",
      "Bash(__NEW_LINE__ echo \"=== éªŒè¯AIä½¿ç”¨ç»Ÿè®¡æ˜¾ç¤ºæ–°çš„é™åˆ¶ ===\")",
      "Bash(__NEW_LINE__ echo \"âœ… å·²å®Œæˆçš„æ›´æ–°é¡¹ç›®ï¼š\")",
      "Bash(__NEW_LINE__ echo \"\")",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nimport sqlite3\nfrom datetime import datetime, timedelta\n\nconn = sqlite3.connect(''/root/trademe/data/trademe.db'')\ncursor = conn.cursor()\n\nprint(''=== æŸ¥çœ‹publictest@example.comç”¨æˆ·å½“å‰ä¿¡æ¯ ==='')\ncursor.execute(''SELECT id, username, email, membership_level, membership_expires_at FROM users WHERE email = \"\"publictest@example.com\"\"'')\nuser = cursor.fetchone()\n\nif user:\n    user_id, username, email, membership_level, expires_at = user\n    print(f''ç”¨æˆ·ID: {user_id}'')\n    print(f''ç”¨æˆ·å: {username}'')\n    print(f''é‚®ç®±: {email}'')\n    print(f''å½“å‰ä¼šå‘˜çº§åˆ«: {membership_level}'')\n    print(f''ä¼šå‘˜åˆ°æœŸæ—¶é—´: {expires_at}'')\nelse:\n    print(''æœªæ‰¾åˆ°è¯¥ç”¨æˆ·'')\n\nconn.close()\n\")",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nimport sqlite3\nconn = sqlite3.connect(''/root/trademe/data/trademe.db'')\ncursor = conn.cursor()\n\nprint(''=== publictest@example.com ç”¨æˆ·ä¿¡æ¯ ==='')\ncursor.execute(''SELECT id, username, email, membership_level FROM users WHERE email = \"\"publictest@example.com\"\"'')\nuser = cursor.fetchone()\nif user:\n    print(f''ç”¨æˆ·ID: {user[0]}'')\n    print(f''ç”¨æˆ·å: {user[1]}'')\n    print(f''é‚®ç®±: {user[2]}'')\n    print(f''ä¼šå‘˜çº§åˆ«: {user[3]}'')\nelse:\n    print(''æœªæ‰¾åˆ°ç”¨æˆ·'')\n\nprint(''\\n=== ä¼šå‘˜çº§åˆ«å¯¹åº”çš„AIé™åˆ¶ ==='')\nprint(''basic: $20/å¤©'')\nprint(''premium: $100/å¤©'') \nprint(''professional: $200/å¤©'')\n\nconn.close()\n\")",
      "Bash(FRESH_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI5IiwiZW1haWwiOiJwdWJsaWN0ZXN0QGV4YW1wbGUuY29tIiwibWVtYmVyc2hpcExldmVsIjoicHJlbWl1bSIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTY5NzY0NjQsImV4cCI6MTc1NzA2Mjg2NCwiYXVkIjoidHJhZGVtZS1hcHAiLCJpc3MiOiJ0cmFkZW1lLXVzZXItc2VydmljZSJ9.6A1LBhk9LFClKzEBGN5cLXaP7dkK7sA48D7Z1-9lqRY\" curl -X GET \"http://localhost:8001/api/v1/ai/usage/stats\" -H \"Authorization: Bearer $FRESH_JWT\")",
      "Bash(FRESH_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI5IiwiZW1haWwiOiJwdWJsaWN0ZXN0QGV4YW1wbGUuY29tIiwibWVtYmVyc2hpcExldmVsIjoicHJlbWl1bSIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTY5NzY3MzEsImV4cCI6MTc1NzA2MzEzMSwiYXVkIjoidHJhZGVtZS1hcHAiLCJpc3MiOiJ0cmFkZW1lLXVzZXItc2VydmljZSJ9.jVzYzG0qAQJnvEKr4C3Q6fQU5p_uLz8EuIxlAd6wfqE\")",
      "Bash(VALID_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI5IiwiZW1haWwiOiJwdWJsaWN0ZXN0QGV4YW1wbGUuY29tIiwibWVtYmVyc2hpcExldmVsIjoicHJlbWl1bSIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTYwMjIyOTMsImV4cCI6MTc1NjEwODY5MywiYXVkIjoidHJhZGVtZS1hcHAiLCJpc3MiOiJ0cmFkZW1lLXVzZXItc2VydmljZSJ9.KTUco9NP1-YVi0WumKML_iaqlINtZJcC9Qe_F5oLRu4\")",
      "Bash(__NEW_LINE__ curl -X GET \"http://localhost:8001/api/v1/ai/usage/stats\" -H \"Authorization: Bearer $VALID_JWT\")",
      "Bash(__NEW_LINE__ echo \"=== éªŒè¯AIä½¿ç”¨ç»Ÿè®¡æ›´æ–° ===\")",
      "WebSearch",
      "WebFetch(domain:www.anthropic.com)",
      "Bash(__NEW_LINE__ echo \"=== æµ‹è¯•Claude 4å‡çº§åçš„AIå¯¹è¯ ===\")",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nfrom app.database import engine\nfrom app.models.strategy import Strategy\nimport asyncio\n\nasync def check_table_structure():\n    from sqlalchemy import text\n    async with engine.begin() as conn:\n        # æ£€æŸ¥strategiesè¡¨ç»“æ„\n        result = await conn.execute(text(''PRAGMA table_info(strategies)''))\n        columns = result.fetchall()\n        print(''Current strategies table columns:'')\n        for col in columns:\n            print(f''  {col[1]} {col[2]} (nullable: {not col[3]})'')\n\nasyncio.run(check_table_structure())\n\")",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nfrom app.database import engine\nimport asyncio\nfrom sqlalchemy import text\n\nasync def add_new_columns():\n    async with engine.begin() as conn:\n        # æ·»åŠ  strategy_type å­—æ®µ\n        try:\n            await conn.execute(text(''ALTER TABLE strategies ADD COLUMN strategy_type VARCHAR(20) DEFAULT \"\"strategy\"\"''))\n            print(''âœ… å·²æ·»åŠ  strategy_type å­—æ®µ'')\n        except Exception as e:\n            if ''duplicate column name'' in str(e).lower():\n                print(''âš ï¸ strategy_type å­—æ®µå·²å­˜åœ¨'')\n            else:\n                print(f''âŒ æ·»åŠ  strategy_type å­—æ®µå¤±è´¥: {e}'')\n        \n        # æ·»åŠ  ai_session_id å­—æ®µ\n        try:\n            await conn.execute(text(''ALTER TABLE strategies ADD COLUMN ai_session_id VARCHAR(100)''))\n            print(''âœ… å·²æ·»åŠ  ai_session_id å­—æ®µ'')\n        except Exception as e:\n            if ''duplicate column name'' in str(e).lower():\n                print(''âš ï¸ ai_session_id å­—æ®µå·²å­˜åœ¨'')\n            else:\n                print(f''âŒ æ·»åŠ  ai_session_id å­—æ®µå¤±è´¥: {e}'')\n        \n        # éªŒè¯å­—æ®µæ˜¯å¦æ·»åŠ æˆåŠŸ\n        result = await conn.execute(text(''PRAGMA table_info(strategies)''))\n        columns = result.fetchall()\n        print(''\\næ›´æ–°åçš„ strategies è¡¨ç»“æ„:'')\n        for col in columns:\n            print(f''  {col[1]} {col[2]} (nullable: {not col[3]})'')\n\nasyncio.run(add_new_columns())\n\")",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nimport sqlite3\nfrom datetime import datetime\n\nconn = sqlite3.connect(''/root/trademe/data/trademe.db'')\ncursor = conn.cursor()\n\n# æ·»åŠ ä¸€ä¸ªæµ‹è¯•æŒ‡æ ‡\ncursor.execute(''''''\nINSERT INTO strategies (user_id, name, description, code, parameters, strategy_type, ai_session_id, is_active, created_at, updated_at) \nVALUES (9, ''RSIç›¸å¯¹å¼ºå¼±æŒ‡æ ‡'', ''RSIæŠ€æœ¯æŒ‡æ ‡ï¼Œç”¨äºåˆ¤æ–­å¸‚åœºè¶…ä¹°è¶…å–çŠ¶æ€'', \n        ''def rsi_indicator(data, period=14): pass'', \n        ''{\"\"period\"\": 14, \"\"overbought\"\": 70, \"\"oversold\"\": 30}'', \n        ''indicator'', ''test_session_001'', 1, ''2025-08-24 09:20:00'', ''2025-08-24 09:20:00'')\n'''''')\n\n# æ·»åŠ ä¸€ä¸ªæµ‹è¯•ç­–ç•¥\ncursor.execute(''''''\nINSERT INTO strategies (user_id, name, description, code, parameters, strategy_type, ai_session_id, is_active, created_at, updated_at) \nVALUES (9, ''MACDäº¤æ˜“ç­–ç•¥'', ''åŸºäºMACDæŒ‡æ ‡çš„äº¤æ˜“ç­–ç•¥'', \n        ''def macd_strategy(): pass'', \n        ''{\"\"fast\"\": 12, \"\"slow\"\": 26, \"\"signal\"\": 9}'', \n        ''strategy'', ''test_session_002'', 1, ''2025-08-24 09:20:00'', ''2025-08-24 09:20:00'')\n'''''')\n\nconn.commit()\n\n# éªŒè¯æ•°æ®\ncursor.execute(''SELECT id, name, strategy_type FROM strategies WHERE user_id=9 ORDER BY created_at DESC LIMIT 5'')\nstrategies = cursor.fetchall()\nprint(''âœ… æ·»åŠ çš„æµ‹è¯•æ•°æ®:'')\nfor strategy in strategies:\n    print(f''  ID: {strategy[0]}, åç§°: {strategy[1]}, ç±»å‹: {strategy[2]}'')\n\nconn.close()\nprint(''âœ… æµ‹è¯•æ•°æ®æ·»åŠ å®Œæˆ'')\n\")",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nimport sqlite3\nconn = sqlite3.connect(''/root/trademe/data/trademe.db'')\ncursor = conn.cursor()\n\nprint(''=== éªŒè¯ç­–ç•¥è¡¨ç»“æ„ ==='')\ncursor.execute(''PRAGMA table_info(strategies)'')\ncolumns = cursor.fetchall()\nfor col in columns:\n    print(f''åˆ—: {col[1]}, ç±»å‹: {col[2]}, é»˜è®¤å€¼: {col[4]}'')\n\nprint(''\\n=== æ£€æŸ¥ç”¨æˆ·ID=9çš„ç­–ç•¥/æŒ‡æ ‡æ•°æ® ==='')\ncursor.execute(''SELECT id, name, strategy_type, ai_session_id, is_active FROM strategies WHERE user_id=9'')\nstrategies = cursor.fetchall()\n\nindicators = []\nai_strategies = []\n\nfor strategy in strategies:\n    if strategy[2] == ''indicator'':\n        indicators.append(strategy)\n    elif strategy[2] == ''strategy'':\n        ai_strategies.append(strategy)\n\nprint(f''æŒ‡æ ‡æ•°é‡: {len(indicators)}'')\nfor ind in indicators:\n    print(f''  - ID: {ind[0]}, åç§°: {ind[1]}, AIä¼šè¯: {ind[3]}, æ´»è·ƒ: {ind[4]}'')\n\nprint(f''\\nAIç­–ç•¥æ•°é‡: {len(ai_strategies)}'') \nfor strat in ai_strategies:\n    print(f''  - ID: {strat[0]}, åç§°: {strat[1]}, AIä¼šè¯: {strat[3]}, æ´»è·ƒ: {strat[4]}'')\n\nconn.close()\n\")",
      "Bash(FRESH_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI5IiwiZW1haWwiOiJwdWJsaWN0ZXN0QGV4YW1wbGUuY29tIiwibWVtYmVyc2hpcExldmVsIjoicHJlbWl1bSIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTYwMjg3NjAsImV4cCI6MTc1NjExNTE2MCwiYXVkIjoidHJhZGVtZS1hcHAiLCJpc3MiOiJ0cmFkZW1lLXVzZXItc2VydmljZSJ9.j0j4caGjYYCRilsMuvsXO7AvfRZCNXYSl1L1eNfFSaU\")",
      "Bash(NEWEST_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI5IiwiZW1haWwiOiJwdWJsaWN0ZXN0QGV4YW1wbGUuY29tIiwibWVtYmVyc2hpcExldmVsIjoicHJlbWl1bSIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTYwMjg3NjAsImV4cCI6MTc1NjExNTE2MCwiYXVkIjoidHJhZGVtZS1hcHAiLCJpc3MiOiJ0cmFkZW1lLXVzZXItc2VydmljZSJ9.j0j4caGjYYCRilsMuvsXO7AvfRZCNXYSl1L1eNfFSaU\")",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nimport sqlite3\nimport json\nfrom datetime import datetime\n\nconn = sqlite3.connect(''/root/trademe/data/trademe.db'')\ncursor = conn.cursor()\n\n# æ·»åŠ ä¸€ä¸ªAIç”Ÿæˆçš„å¸ƒæ—å¸¦æŒ‡æ ‡\ncursor.execute(''''''\nINSERT INTO strategies (user_id, name, description, code, parameters, strategy_type, ai_session_id, is_active, created_at, updated_at)\nVALUES (9, ''AIå¸ƒæ—å¸¦æŒ‡æ ‡'', ''ä»AIå¯¹è¯ç”Ÿæˆçš„å¸ƒæ—å¸¦æŠ€æœ¯æŒ‡æ ‡'', \n        ''def bollinger_bands(data, period=20, std=2):\\n    sma = data.rolling(period).mean()\\n    std_dev = data.rolling(period).std()\\n    upper_band = sma + (std_dev * std)\\n    lower_band = sma - (std_dev * std)\\n    return upper_band, sma, lower_band'',\n        ''{\"\"period\"\": 20, \"\"std\"\": 2}'', ''indicator'', ''ai_boll_session_001'', 1, \n        ''2025-08-24 10:00:00'', ''2025-08-24 10:00:00'')\n'''''')\n\n# æ·»åŠ ä¸€ä¸ªAIç”Ÿæˆçš„MACDç­–ç•¥\ncursor.execute(''''''\nINSERT INTO strategies (user_id, name, description, code, parameters, strategy_type, ai_session_id, is_active, created_at, updated_at)\nVALUES (9, ''AI MACDäº¤å‰ç­–ç•¥'', ''ä»AIå¯¹è¯ç”Ÿæˆçš„MACDé‡‘å‰æ­»å‰äº¤æ˜“ç­–ç•¥'',\n        ''def macd_cross_strategy(data, fast=12, slow=26, signal=9):\\n    ema_fast = data.ewm(span=fast).mean()\\n    ema_slow = data.ewm(span=slow).mean()\\n    macd = ema_fast - ema_slow\\n    signal_line = macd.ewm(span=signal).mean()\\n    return macd > signal_line'',\n        ''{\"\"fast\"\": 12, \"\"slow\"\": 26, \"\"signal\"\": 9}'', ''strategy'', ''ai_macd_session_001'', 1,\n        ''2025-08-24 10:05:00'', ''2025-08-24 10:05:00'')\n'''''')\n\nconn.commit()\n\n# éªŒè¯æ’å…¥ç»“æœ\nprint(''=== éªŒè¯æ’å…¥çš„AIæŒ‡æ ‡å’Œç­–ç•¥ ==='')\ncursor.execute(''SELECT id, name, strategy_type, ai_session_id FROM strategies WHERE user_id=9 AND ai_session_id LIKE \"\"ai_%\"\"'')\nai_items = cursor.fetchall()\n\nfor item in ai_items:\n    type_name = ''æŒ‡æ ‡'' if item[2] == ''indicator'' else ''ç­–ç•¥''\n    print(f''âœ… {type_name}: ID {item[0]}, åç§°: {item[1]}, AIä¼šè¯: {item[3]}'')\n\nprint(f''\\næ€»å…±æ·»åŠ äº† {len(ai_items)} ä¸ªAIç”Ÿæˆçš„é¡¹ç›®'')\n\n# ç»Ÿè®¡å„ç±»å‹æ•°é‡\ncursor.execute(''SELECT strategy_type, COUNT(*) FROM strategies WHERE user_id=9 AND is_active=1 GROUP BY strategy_type'')\ncounts = cursor.fetchall()\n\nprint(''\\n=== ç”¨æˆ·ID=9çš„æŒ‡æ ‡/ç­–ç•¥åº“ç»Ÿè®¡ ==='')\nfor count in counts:\n    type_name = ''æŒ‡æ ‡'' if count[0] == ''indicator'' else ''ç­–ç•¥''\n    print(f''{type_name}: {count[1]} ä¸ª'')\n\nconn.close()\nprint(''\\nâœ… æµ‹è¯•æ•°æ®æ·»åŠ å®Œæˆï¼Œå¯ä»¥åœ¨å‰ç«¯éªŒè¯æ˜¾ç¤ºæ•ˆæœ'')\n\")",
      "Bash(__NEW_LINE__ echo \"âœ… æ•°æ®åº“ï¼šå·²æˆåŠŸæ·»åŠ AIç”Ÿæˆçš„æŒ‡æ ‡å’Œç­–ç•¥æ•°æ®\")",
      "Bash(__NEW_LINE__ echo \"âœ… åç«¯APIï¼šæ–°çš„by-typeç«¯ç‚¹å·²å®ç° (/api/v1/strategies/by-type/indicator|strategy)\")",
      "Bash(__NEW_LINE__ echo \"âœ… å‰ç«¯é¡µé¢ï¼šTradingPage.tsxå·²æ›´æ–°ä½¿ç”¨æ–°API (loadIndicators, loadAiStrategies)\")",
      "Bash(__NEW_LINE__ echo \"âœ… AIå¯¹è¯é¡µé¢ï¼šAIChatPage.tsxå·²å®ç°æ™ºèƒ½æŒ‰é’®åˆ‡æ¢åŠŸèƒ½\")",
      "Bash(__NEW_LINE__ echo \"ğŸ¯ ç³»ç»ŸåŠŸèƒ½éªŒè¯ï¼š\")",
      "Bash(__NEW_LINE__ echo \"2. ç™»å½•åï¼Œé¡µé¢ä¸‹æ–¹æ˜¾ç¤º''AIç”Ÿæˆçš„æŠ€æœ¯æŒ‡æ ‡''å’Œ''AIç”Ÿæˆçš„äº¤æ˜“ç­–ç•¥''\")",
      "Bash(__NEW_LINE__ echo \"3. æŒ‡æ ‡åº“åŒ…å«ï¼šRSIç›¸å¯¹å¼ºå¼±æŒ‡æ ‡ã€AIå¸ƒæ—å¸¦æŒ‡æ ‡ (å…±2ä¸ª)\")",
      "Bash(__NEW_LINE__ echo \"4. ç­–ç•¥åº“åŒ…å«ï¼šMACDäº¤æ˜“ç­–ç•¥ã€AI MACDäº¤å‰ç­–ç•¥ç­‰ (å…±4ä¸ª)\")",
      "Bash(__NEW_LINE__ echo \"5. AIå¯¹è¯é¡µé¢çš„æŒ‰é’®ä¼šæ ¹æ®session_typeæ™ºèƒ½åˆ‡æ¢æ–‡æœ¬\")",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nimport sqlite3\nconn = sqlite3.connect(''/root/trademe/data/trademe.db'')\ncursor = conn.cursor()\n\nprint(''=== live_strategiesè¡¨ç»“æ„ ==='')\ncursor.execute(''PRAGMA table_info(live_strategies)'')\ncolumns = cursor.fetchall()\nfor col in columns:\n    print(f''åˆ—: {col[1]}, ç±»å‹: {col[2]}, é»˜è®¤å€¼: {col[4]}'')\n\nprint(''\\n=== æŸ¥çœ‹å®ç›˜äº¤æ˜“æ•°æ® ==='')\ncursor.execute(''SELECT id, strategy_id, name, status FROM live_strategies WHERE user_id=9'')\nlive_strategies = cursor.fetchall()\n\nprint(''ç”¨æˆ·ID=9çš„å®ç›˜äº¤æ˜“:'')\nfor live in live_strategies:\n    print(f''  ID: {live[0]}, ç­–ç•¥ID: {live[1]}, åç§°: {live[2]}, çŠ¶æ€: {live[3]}'')\n\nprint(f''\\næ€»å®ç›˜æ•°: {len(live_strategies)}'')\nrunning_count = sum(1 for live in live_strategies if live[3] == ''running'')\nprint(f''è¿è¡Œä¸­å®ç›˜æ•°: {running_count}'')\n\nconn.close()\n\")",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nimport sqlite3\nconn = sqlite3.connect(''/root/trademe/data/trademe.db'')\ncursor = conn.cursor()\n\nprint(''=== æµ‹è¯•ç­–ç•¥åˆ é™¤ä¿æŠ¤é€»è¾‘ ==='')\n\n# æŸ¥çœ‹ç­–ç•¥ID=1çš„å®ç›˜çŠ¶æ€\nprint(''ç­–ç•¥ID=1çš„å®ç›˜æƒ…å†µ:'')\ncursor.execute(''SELECT id, name, status FROM live_strategies WHERE strategy_id=1'')\nlive_trades = cursor.fetchall()\n\nrunning_count = 0\nfor trade in live_trades:\n    status_emoji = ''ğŸŸ¢'' if trade[2] == ''running'' else ''ğŸŸ¡'' if trade[2] == ''paused'' else ''âšª''\n    print(f''  {status_emoji} å®ç›˜ID: {trade[0]}, åç§°: {trade[1]}, çŠ¶æ€: {trade[2]}'')\n    if trade[2] in [''running'', ''paused'']:\n        running_count += 1\n\nprint(f''\\nç­–ç•¥ID=1æœ‰ {running_count} ä¸ªè¿è¡Œä¸­/æš‚åœçš„å®ç›˜'')\nprint(f''æ ¹æ®é€»è¾‘ï¼Œç­–ç•¥ID=1 {\"\"ä¸å¯åˆ é™¤\"\" if running_count > 0 else \"\"å¯ä»¥åˆ é™¤\"\"}'')\n\n# æŸ¥çœ‹ç­–ç•¥ID=11ï¼ˆAI MACDäº¤å‰ç­–ç•¥ï¼‰çš„å®ç›˜çŠ¶æ€\nprint(''\\nç­–ç•¥ID=11çš„å®ç›˜æƒ…å†µ:'')\ncursor.execute(''SELECT id, name, status FROM live_strategies WHERE strategy_id=11'')\nlive_trades_11 = cursor.fetchall()\n\nrunning_count_11 = 0\nfor trade in live_trades_11:\n    status_emoji = ''ğŸŸ¢'' if trade[2] == ''running'' else ''ğŸŸ¡'' if trade[2] == ''paused'' else ''âšª''\n    print(f''  {status_emoji} å®ç›˜ID: {trade[0]}, åç§°: {trade[1]}, çŠ¶æ€: {trade[2]}'')\n    if trade[2] in [''running'', ''paused'']:\n        running_count_11 += 1\n\nif running_count_11 == 0:\n    print(''  (æ— å®ç›˜äº¤æ˜“)'')\n    \nprint(f''\\nç­–ç•¥ID=11æœ‰ {running_count_11} ä¸ªè¿è¡Œä¸­/æš‚åœçš„å®ç›˜'')\nprint(f''æ ¹æ®é€»è¾‘ï¼Œç­–ç•¥ID=11 {\"\"ä¸å¯åˆ é™¤\"\" if running_count_11 > 0 else \"\"å¯ä»¥åˆ é™¤\"\"}'')\n\nconn.close()\n\")",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nimport sqlite3\nconn = sqlite3.connect(''/root/trademe/data/trademe.db'')\ncursor = conn.cursor()\n\nprint(''=== ç°æœ‰ç­–ç•¥ä»£ç ç¤ºä¾‹ ==='')\ncursor.execute(''SELECT id, name, code FROM strategies WHERE user_id=9 LIMIT 3'')\nstrategies = cursor.fetchall()\n\nfor strategy in strategies:\n    print(f''\\nç­–ç•¥ID: {strategy[0]}'')\n    print(f''ç­–ç•¥åç§°: {strategy[1]}'')\n    print(''ç­–ç•¥ä»£ç :'')\n    print(strategy[2])\n    print(''='' * 60)\n\nconn.close()\n\")",
      "Bash(__NEW_LINE__ echo \"âœ… AIèŠå¤©é¡µé¢:\")",
      "Bash(__NEW_LINE__ echo \"âœ… ç”¨æˆ·æœåŠ¡å¥åº·æ£€æŸ¥:\")",
      "Bash(__NEW_LINE__ echo \"âœ… äº¤æ˜“æœåŠ¡API:\")",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nimport sqlite3\nconn = sqlite3.connect(''/root/trademe/data/trademe.db'')\ncursor = conn.cursor()\n\nprint(''=== æ£€æŸ¥live_strategiesè¡¨æ˜¯å¦å­˜åœ¨ ==='')\ncursor.execute(\"\"SELECT name FROM sqlite_master WHERE type=''table'' AND name=''live_strategies'';'')\ntables = cursor.fetchall()\n\nif tables:\n    print(''âœ… live_strategiesè¡¨å­˜åœ¨'')\n    \n    # æŸ¥çœ‹è¡¨ç»“æ„\n    cursor.execute(''PRAGMA table_info(live_strategies)'')\n    columns = cursor.fetchall()\n    print(''\\nè¡¨ç»“æ„:'')\n    for col in columns:\n        print(f''  {col[1]} {col[2]} (ä¸»é”®: {col[5]})'')\n    \n    # æŸ¥çœ‹æ•°æ®\n    cursor.execute(''SELECT id, name, status FROM live_strategies LIMIT 5'')\n    data = cursor.fetchall()\n    print(f''\\nç¤ºä¾‹æ•°æ® (å…±{len(data)}æ¡):'')\n    for row in data:\n        print(f''  ID: {row[0]}, åç§°: {row[1]}, çŠ¶æ€: {row[2]}'')\nelse:\n    print(''âŒ live_strategiesè¡¨ä¸å­˜åœ¨'')\n    print(''éœ€è¦åˆ›å»ºlive_strategiesè¡¨'')\n\nconn.close()\n\")",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nimport sqlite3\nconn = sqlite3.connect(''/root/trademe/data/trademe.db'')\ncursor = conn.cursor()\n\nprint(''=== æ£€æŸ¥live_strategiesè¡¨æ˜¯å¦å­˜åœ¨ ==='')\ncursor.execute(''SELECT name FROM sqlite_master WHERE type=\"\"table\"\" AND name=\"\"live_strategies\"\";'')\ntables = cursor.fetchall()\n\nif tables:\n    print(''âœ… live_strategiesè¡¨å­˜åœ¨'')\n    \n    # æŸ¥çœ‹è¡¨ç»“æ„\n    cursor.execute(''PRAGMA table_info(live_strategies)'')\n    columns = cursor.fetchall()\n    print(''\\nè¡¨ç»“æ„:'')\n    for col in columns:\n        print(f''  {col[1]} {col[2]} (ä¸»é”®: {col[5]})'')\n    \n    # æŸ¥çœ‹æ•°æ®\n    cursor.execute(''SELECT id, name, status FROM live_strategies LIMIT 5'')\n    data = cursor.fetchall()\n    print(f''\\nç¤ºä¾‹æ•°æ® (å…±{len(data)}æ¡):'')\n    for row in data:\n        print(f''  ID: {row[0]}, åç§°: {row[1]}, çŠ¶æ€: {row[2]}'')\nelse:\n    print(''âŒ live_strategiesè¡¨ä¸å­˜åœ¨'')\n    print(''éœ€è¦åˆ›å»ºlive_strategiesè¡¨'')\n\nconn.close()\n\")",
      "Bash(__NEW_LINE__ echo \"=== æµ‹è¯•è·å–å®ç›˜ç­–ç•¥åˆ—è¡¨ ===\")",
      "Bash(FRESH_JWT=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI5IiwiZW1haWwiOiJwdWJsaWN0ZXN0QGV4YW1wbGUuY29tIiwibWVtYmVyc2hpcExldmVsIjoicHJlbWl1bSIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTYwNDQ1ODMsImV4cCI6MTc1NjEzMDk4MywiYXVkIjoidHJhZGVtZS1hcHAiLCJpc3MiOiJ0cmFkZW1lLXVzZXItc2VydmljZSJ9.8NPNzoT7NP2ZTb-f4yi7FsX9xGV-BVoOMh26YGxWMB4\")",
      "WebFetch(domain:www.okx.com)",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nimport sqlite3\nconn = sqlite3.connect(''/root/trademe/data/trademe.db'')\ncursor = conn.cursor()\n\nprint(''=== æ£€æŸ¥ç®¡ç†å‘˜ç›¸å…³è¡¨ç»“æ„ ==='')\ncursor.execute(''SELECT name FROM sqlite_master WHERE type=\"\"table\"\" AND name LIKE \"\"%admin%\"\";'')\nadmin_tables = cursor.fetchall()\n\nif admin_tables:\n    print(''ç®¡ç†å‘˜ç›¸å…³è¡¨:'')\n    for table in admin_tables:\n        print(f''  - {table[0]}'')\n        cursor.execute(f''PRAGMA table_info({table[0]})'')\n        columns = cursor.fetchall()\n        for col in columns:\n            print(f''    {col[1]} {col[2]}'')\nelse:\n    print(''âŒ æœªæ‰¾åˆ°ç®¡ç†å‘˜ç›¸å…³è¡¨'')\n\nprint(''\\n=== æ£€æŸ¥ç”¨æˆ·è¡¨ä¸­çš„ç®¡ç†å‘˜æƒé™å­—æ®µ ==='')\ncursor.execute(''PRAGMA table_info(users)'')\ncolumns = cursor.fetchall()\nfor col in columns:\n    if ''admin'' in col[1].lower() or ''role'' in col[1].lower():\n        print(f''  - {col[1]} {col[2]}'')\n\nprint(''\\n=== æ£€æŸ¥ç°æœ‰ç”¨æˆ·è§’è‰²åˆ†å¸ƒ ==='')\ncursor.execute(''SELECT membership_level, COUNT(*) FROM users GROUP BY membership_level'')\nlevels = cursor.fetchall()\nfor level in levels:\n    print(f''  {level[0]}: {level[1]}ä¸ªç”¨æˆ·'')\n\nconn.close()\n\")",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nimport sqlite3\nimport bcrypt\n\nconn = sqlite3.connect(''/root/trademe/data/trademe.db'')\ncursor = conn.cursor()\n\n# ä½¿ç”¨bcryptåŠ å¯†å¯†ç \npassword = ''admin123456''\nsalt = bcrypt.gensalt()\nhashed = bcrypt.hashpw(password.encode(''utf-8''), salt).decode(''utf-8'')\n\n# æ›´æ–°ç®¡ç†å‘˜è´¦æˆ·å¯†ç \ncursor.execute(''UPDATE users SET password_hash = ? WHERE email = ?'', (hashed, ''admin@trademe.com''))\nconn.commit()\n\nprint(f''âœ… ç®¡ç†å‘˜å¯†ç å·²æ›´æ–°ä¸ºbcryptå“ˆå¸Œ'')\nprint(f''é‚®ç®±: admin@trademe.com'')\nprint(f''å¯†ç : admin123456'')\n\nconn.close()\n\")",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nimport sqlite3\nconn = sqlite3.connect(''/root/trademe/data/trademe.db'')\ncursor = conn.cursor()\n\nprint(''=== ğŸ“§ é‚®ç®±éªŒè¯çŠ¶æ€å®šä¹‰è¯¦è§£ ==='')\nprint()\n\nprint(''ğŸ“‹ æ•°æ®åº“å­—æ®µå®šä¹‰:'')\ncursor.execute(''PRAGMA table_info(users)'')\ncolumns = cursor.fetchall()\nfor col in columns:\n    if ''email_verified'' in col[1].lower():\n        print(f''  å­—æ®µå: {col[1]}'')\n        print(f''  æ•°æ®ç±»å‹: {col[2]}'')\n        print(f''  é»˜è®¤å€¼: {col[4] if col[4] else \"\"FALSE\"\"}'')\n        print()\n\nprint(''ğŸ“Š å½“å‰ç”¨æˆ·éªŒè¯çŠ¶æ€ç»Ÿè®¡:'')\ncursor.execute(''SELECT email_verified, COUNT(*) as count FROM users GROUP BY email_verified'')\nverification_stats = cursor.fetchall()\n\ntotal_users = 0\nverified_count = 0\nfor status in verification_stats:\n    is_verified = bool(status[0])  # SQLiteä¸­ 1=True, 0=False\n    count = status[1]\n    total_users += count\n    if is_verified:\n        verified_count += count\n    status_text = ''âœ… å·²éªŒè¯'' if is_verified else ''â³ å¾…éªŒè¯''\n    print(f''  {status_text}: {count} ä¸ªç”¨æˆ·'')\n\nprint(f''\\nğŸ“ˆ éªŒè¯ç‡: {verified_count}/{total_users} = {(verified_count/total_users*100):.1f}%'')\n\nprint(''\\nğŸ‘¥ å…·ä½“ç”¨æˆ·éªŒè¯çŠ¶æ€ç¤ºä¾‹:'')\ncursor.execute(''SELECT username, email, email_verified, created_at FROM users ORDER BY created_at DESC LIMIT 10'')\nusers = cursor.fetchall()\n\nfor user in users:\n    username, email, email_verified, created_at = user\n    status_emoji = ''âœ…'' if email_verified else ''â³''\n    status_text = ''å·²éªŒè¯'' if email_verified else ''å¾…éªŒè¯''\n    print(f''  {status_emoji} {username} ({email}) - {status_text}'')\n\nconn.close()\n\")",
      "Bash(DATABASE_URL=\"file:/root/trademe/data/trademe.db\" npx prisma db push --skip-generate)",
      "WebFetch(domain:43.167.252.120)",
      "Bash(npx tsc:*)",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nimport sqlite3\nconn = sqlite3.connect(''/root/trademe/data/trademe.db'')\ncursor = conn.cursor()\ncursor.execute(''SELECT id, username, email, membership_level FROM users WHERE email = \"\"admin@trademe.com\"\"'')\nadmin_user = cursor.fetchone()\nif admin_user:\n    print(f''Admin user found: ID={admin_user[0]}, Username={admin_user[1]}, Email={admin_user[2]}, Level={admin_user[3]}'')\nelse:\n    print(''Admin user not found'')\nconn.close()\n\")",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nimport sqlite3\nconn = sqlite3.connect(''/root/trademe/data/trademe.db'')\ncursor = conn.cursor()\ncursor.execute(''SELECT username, email, created_at, last_login_at FROM users LIMIT 3'')\nusers = cursor.fetchall()\nprint(''=== Database datetime format check ==='')\nfor user in users:\n    print(f''Username: {user[0]}, Email: {user[1]}'')\n    print(f''  created_at: {user[2]} (type: {type(user[2])})'')\n    print(f''  last_login_at: {user[3]} (type: {type(user[3])})'')\n    print()\nconn.close()\n\")",
      "Bash(DATABASE_URL=\"sqlite+aiosqlite:////root/trademe/data/trademe.db\" python3 -c \"\nimport sqlite3\nimport hashlib\nfrom datetime import datetime\n\nconn = sqlite3.connect(''/root/trademe/data/trademe.db'')\ncursor = conn.cursor()\n\nprint(''=== Adminè´¦æˆ·å¯†ç å†å²è®°å½•åˆ†æ ==='')\n\n# æŸ¥è¯¢adminè´¦æˆ·çš„å¯†ç å“ˆå¸Œ\ncursor.execute(''SELECT id, username, email, password_hash, created_at, updated_at FROM users WHERE email = \"\"admin@trademe.com\"\"'')\nadmin_info = cursor.fetchone()\n\nif admin_info:\n    user_id, username, email, password_hash, created_at, updated_at = admin_info\n    print(f''ğŸ‘¤ ç”¨æˆ·ID: {user_id}'')\n    print(f''ğŸ“§ é‚®ç®±: {email}'')\n    print(f''ğŸ” å½“å‰å¯†ç å“ˆå¸Œ: {password_hash[:50]}...'')\n    print(f''ğŸ“… åˆ›å»ºæ—¶é—´: {created_at}'')\n    print(f''ğŸ”„ æ›´æ–°æ—¶é—´: {updated_at}'')\n    \n    # æ£€æŸ¥å¯†ç å“ˆå¸Œæ ¼å¼\n    if password_hash.startswith(''$2b$'') or password_hash.startswith(''$2a$''):\n        print(''ğŸ”’ å¯†ç æ ¼å¼: bcryptå“ˆå¸Œ (å®‰å…¨)'')\n    elif len(password_hash) == 64:\n        print(''ğŸ”’ å¯†ç æ ¼å¼: å¯èƒ½æ˜¯SHA256å“ˆå¸Œ'')\n    else:\n        print(''ğŸ”’ å¯†ç æ ¼å¼: æœªçŸ¥æ ¼å¼'')\n        \n    print()\n    print(''=== æ¨æµ‹çš„å¯†ç å†å²å˜æ›´æ—¶é—´çº¿ ==='')\n    print(''1. 2025-08-21: password123 (åˆå§‹å¼€å‘é˜¶æ®µ)'')\n    print(''2. 2025-08-22: Admin123! (create_admin.jsè„šæœ¬è®¾ç½®)'')  \n    print(''3. 2025-08-24: admin123456 (bcryptåŠ å¯†å‡çº§)'')\n    print(''4. å½“å‰ç”Ÿæ•ˆ: admin123456'')\n\nconn.close()\n\")",
      "Bash(WALLET_MASTER_KEY=\"hgu0_VGHge-o5D8xXOOe9A9UdXi3xm5qmcK0HKej89E\" python3 test_wallet_generation.py)",
      "Bash(WALLET_MASTER_KEY=\"hgu0_VGHge-o5D8xXOOe9A9UdXi3xm5qmcK0HKej89E\" python3 test_wallet_generation.py cleanup)",
      "Bash(WALLET_MASTER_KEY=\"hgu0_VGHge-o5D8xXOOe9A9UdXi3xm5qmcK0HKej89E\" python3 test_smart_allocator.py)",
      "Bash(WALLET_MASTER_KEY=\"hgu0_VGHge-o5D8xXOOe9A9UdXi3xm5qmcK0HKej89E\" python3 -c \"\nimport asyncio\nimport sys\nsys.path.append(''.'')\nfrom app.database import AsyncSessionLocal\nfrom app.services.smart_wallet_allocator import SmartWalletAllocator\n\nasync def test_stats():\n    async with AsyncSessionLocal() as db:\n        allocator = SmartWalletAllocator(db)\n        stats = await allocator.get_allocation_statistics()\n        print(''ğŸ“Š å½“å‰é’±åŒ…æ± çŠ¶æ€:'')\n        print(f''  æ€»é’±åŒ…æ•°: {stats[\"\"total_wallets\"\"]}'')\n        print(f''  å¯ç”¨é’±åŒ…: {stats[\"\"available_wallets\"\"]}'')\n        print(f''  åˆ©ç”¨ç‡: {stats[\"\"utilization_rate\"\"]:.1f}%'')\n        print(f''  çŠ¶æ€åˆ†å¸ƒ: {stats[\"\"status_distribution\"\"]}'')\n        print(f''  é£é™©åˆ†å¸ƒ: {stats[\"\"risk_distribution\"\"]}'')\n\nasyncio.run(test_stats())\n\")"
    ],
    "deny": [],
    "ask": [],
    "additionalDirectories": [
      "/root",
      "/var/www/html",
      "/etc/nginx/sites-enabled"
    ]
  }
}